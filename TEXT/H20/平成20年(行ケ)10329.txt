主文
  原告の請求を棄却する。
  訴訟費用は原告の負担とする。

事実及び理由
第1 請求
  特許庁が不服2006−10061号事件について平成20年7月28日にした
  審決を取り消す。
第2 事案の概要
  本件は，原告が，下記1のとおりの手続において，原告の本件出願に対する拒絶査定不服審判の請求について，特許庁が，補正後の請求項1を下記2(2)とする本件補正を却下し，発明の要旨を下記2(1)の補正前の請求項1のとおりと認定した上，同請求は成り立たないとした別紙審決書(写し)の本件審決(その理由は下記3のとおり)には，下記4のとおりの取消事由があるとして，その取消しを求める事案である。
  1 特許庁における手続の経緯
    (1) 出願手続及び拒絶査定
      発明の名称：「記録装置，情報処理装置及びその制御方法，並びに記憶媒体」出願日：平成9年1月14日
      出願番号：特願平9−4699号
      国内優先権主張日：平成8年1月29日(以下「本件優先権主張日」という。)拒絶理由通知日(起案日)：平成17年11月1日(甲17)
      手続補正日：平成18年1月10日(甲19)
      拒絶査定日：平成18年4月11日(甲20)
    (2) 審判手続及び本件審決
      審判請求日：平成18年5月17日(甲9)
      手続補正日：平成18年6月16日(甲11。以下，同日付けの手続補正書による補正を「本件補正」という。)
      審決日：平成20年7月28日
      本件審決の結論：「本件審判の請求は，成り立たない。」
      審決謄本送達日：平成20年8月8日
  2 本件補正前後の特許請求の範囲の記載
    本件補正は，請求項の数を補正前の全42項から全31項に補正するものであるが，本件補正前後の対応する請求項1の記載は，それぞれ下記(1)及び(2)のとおりである。以下，下記(1)記載の発明を「本願発明」といい，同(2)記載の発明を「本件補正発明」という。なお，文中の「／」は，原文の改行部分を示し，下記(2)における下線部分は補正箇所を示す。
    (1) 本件補正前の請求項1の記載
      接続された情報処理装置から記録情報を入力し，記録処理を行う記録装置であって，／拡張装置の接続状態を認識する認識手段と，／前記認識手段により前記拡張装置が接続されていないと認識された場合，前記記録装置に予め格納されている第一のデバイスIDを前記情報処理装置に出力し，前記認識手段により前記拡張装置が接続されていると認識された場合には，接続されている前記拡張装置に対応する第二のデバイスIDを前記情報処理装置に出力する識別情報出力手段と，／を備えることを特徴とする記録装置。
    (2) 本件補正後の請求項1の記載
      接続された情報処理装置から記録情報を入力し，記録処理を行う記録装置であって，／前記記録装置の電源が投入された場合に，拡張装置と繰り返し通信することにより，拡張装置の接続状態を繰り返して認識する認識手段と，／前記認識手段により前記拡張装置が接続されていないと認識された場合，前記記録装置に予め格納されている第一のデバイスIDを前記情報処理装置に出力し，前記認識手段により前記拡張装置が接続されていると認識された場合には，接続されている前記拡張装置に対応する第二のデバイスIDを前記情報処理装置に出力する識別情報出力手段と，／を備え，／前記第一のデバイスID及び前記第二のデバイスIDは，前記情報処理装置において，プリンタドライバを使用可能とするために用いられるものであり，／前記拡張装置は，印刷データの言語の種類に依存しない，自動原稿給送装置，ソータ装置，両面印刷ユニット，ペーパーカセット，フイニッシャ及びスキャナのうちの少なくともいずれかであることを特徴とする記録装置。
  3 本件審決の理由の要旨
    (1)
      本件審決の理由は，要するに，本件補正は，補正の目的要件を欠き，また，特許請求の範囲の減縮を目的とする補正であったとしても，本件補正発明は，特開平7−311663号公報(以下「引用例1」という。)に記載された発明(以下「引用発明1」という。)に基づいて，当業者が容易に発明をすることができたものであるから，いわゆる独立特許要件を欠くものとして，これを却下し，その結果，発明の要旨を本願発明のとおりと認定した上，同発明も，引用発明1及び特開平6−4233号公報(甲8。以下「引用例2」という。)に記載された発明(以下「引用発明2」という。)に基づいて，当業者が容易に発明をすることができたものであるから，特許法29条2項の規定により特許を受けることができない，としたものである。
    (2)
      なお，本件審決は，本件補正発明と引用発明1との相違点(以下「補正後相違点」という。)及び本願発明と引用発明1との相違点(以下「補正前相違点」という。)について，それぞれ以下のとおり認定した。
      補正後相違点：本件補正発明の記録装置が，自動原稿給送装置，ソータ装置，両面印刷ユニット，ペーパーカセット，フィニッシャ及びスキャナのうちの少なくともいずれかである拡張装置を接続した状態で使用したり，接続しない状態で使用することが可能に構成されており，記録装置の電源が投入された場合に，拡張装置と繰り返し通信することにより，拡張装置の接続状態を繰り返して認識する認識手段と，認識手段により拡張装置が接続されていないと認識された場合，記録装置に予め格納されている第一のデバイスIDを情報処理装置に出力し，認識手段により拡張装置が接続されていると認識された場合には，接続されている拡張装置に対応する第二のデバイスIDを情報処理装置に出力する識別情報出力手段とを備えているのに対して，引用発明1のプリンタ27は，プリンタ27の種類の情報(情報処理装置においてプリンタドライバを使用可能とするために用いられる，記録装置の構成に係る情報ということができる。)を含むステータスをコンピュータ15に出力し，コンピュータ15において，受信したプリンタ27の種類の情報に応じたプリンタドライバを使用可能に設定するようにしてはいるものの，拡張装置を接続した状態で使用したり，接続しない状態で使用することが可能に構成されているのかどうかは定かではなく，したがって，本件補正発明のような認識手段や識別情報出力手段を備えているとまではいえない点
      補正前相違点：本願発明の記録装置が，拡張装置を接続した状態で使用したり，接続しない状態で使用することが可能に構成されており，拡張装置の接続状態を認識する認識手段と，認識手段により拡張装置が接続されていないと認識された場合，記録装置に予め格納されている第一のデバイスIDを情報処理装置に出力し，認識手段により拡張装置が接続されていると認識された場合には，接続されている拡張装置に対応する第二のデバイスIDを情報処理装置に出力する識別情報出力手段とを備えているのに対して，引用発明1のプリンタ27は，プリンタ27の種類の情報(情報処理装置においてプリンタドライバを使用可能とするために用いられる，記録装置の構成に係る情報ということができる。)を含むステータスをコンピュータ15に出力し，コンピュータ15において，受信したプリンタ27の種類の‘情報に応じたプリンタドライバを使用可能に設定するようにしてはいるものの，拡張装置を接続した状態で使用したり，接続しない状態で使用することが可能に構成されているのかどうかは定かではなく，したがって，本願発明のような認識手段や識別情報出力手段を備えているとまではいえない点
  4 取消事由
    (1) 本件補正を却下した判断の誤り(取消事由1)
    (2) 補正前相違点についての判断の誤り(取消事由2)
第3 当事者の主張
  1 取消事由1(本件補正を却下した判断の誤り)について
    〔原告の主張〕
    (1) 目的要件の充足性
      ア
        本件審決は，本件補正後の明細書の特許請求の範囲の請求項1及び16における「印刷データの言語の種類に依存しない」との記載は，本件出願の当初の明細書又は図面になく，いかなることを意味するのか，その内容が明確ではないから，本件補正後の特許請求の範囲の記載は明りょうでなく，特許請求の範囲の減縮に当たるか否かを判断することすらできないとするが，誤りである。
      イ
        一般的なプリンタの動作は，所定の言語(ページ記述言語，PDL)で記述された印刷データを受け取ると，①コントローラが印刷データを解釈して，各種動作機構の入力仕様に対応した(言語の種類とは無関係の)信号に変換し，②当該信号を拡張装置等の各種動作機構へ入力するというものである。
        すなわち，拡張装置は，印刷データを記述する言語の種類とは無関係に，コントローラから制御コマンドに従って動作するものである。よって，ある拡張装置が，印刷データが言語Aで記述されている場合は正常に動作するが，それ以外の言語Bや言語Cで記述されている場合は誤作動を起こすということは通常起こり得ないのであり，プリンタに接続された自動給紙装置等の拡張装置の動作が印刷データがどのような言語で記述されているかに影響を受けない(印刷データを記述する言語に依存しない)ことは，本件特許出願の優先権主張日当時における当業者の技術常識である。
        そして，このような技術常識を踏まえると「前記拡張装置は，印刷データの言語の種類に依存する／しない」との記載は，印刷データを記述する言語の種類によって，拡張装置の動作が影響を受け，あるいは，受けないことを意味することは明らかである。
      ウ
        以上によると，「印刷データの言語の種類に依存しない」との記載は，当業者にとって本件特許出願に係る当初明細書の記載から自明の事項であり，その内容は明りょうであり，かつ，特許請求の範囲の記載中の拡張装置が，印刷データの言語の種類に依存しない，自動原稿給送装置，ソータ装置，両面印刷ユニット，ペーパーカセット，フィニッシャ及びスキャナのうちの少なくともいずれかであるものに限定したものであるから，上記記載に係る補正は，特許請求の範囲の減縮を目的とするものであるというべきである。
    (2) 独立特許要件の充足性
      ア
        もっとも，本件審決は，本件補正が特許請求の範囲の減縮を目的とするものであるとしても，本件補正発明は，引用発明1及び周知の技術に基づいて当業者が容易に発明することができたものであるから，独立して特許を受けることができないと判断しているが，その判断も誤りである。
      イ
        本件優先権主張日当時において，①デバイスIDとは，IEEE1284規格等で規定されているように，周辺装置の機種を特定するための情報であって，周辺装置のデバイスドライバとデバイスIDとが対応するものであり，②ホストコンピュータが，周辺装置から取得したデバイスIDを利用して，周辺装置に対応するデバイスドライバを選択することは，当業者の技術常識であった。
        しかるところ，引用発明1は，プリンタの種類の情報を含むステータスがプリンタからコンピュータ(ホストコンピュータ)に送信され，このステータスから解読されたプリンタの種類のプリンタドライバが存在するか否かをコンピュータが判別し，存在する場合は当該ドライバを使用して処理を行い，存在しない場合はプリンタからプリンタドライバをコンピュータに送信して処理を行うものであるが，引用発明1にいう「ステータス」と前記「デバイスID」とは同義であるから，引用発明1においても，プリンタはプリンタの機種を示す1つのデバイスIDしか有しておらず，かつ，当該デバイスIDはプリンタドライバと対応しているのであり，プリンタの種類(デバイスID)に基づいてプリンタドライバを一意に特定しているものであるから，引用発明1も，上記の技術常識を前提とする発明であるということができる。
        また，本件審決が当業者の技術常識を認定する根拠とした特開平7−295915号公報(甲2。以下「甲2公報」という。)に記載された発明(以下「甲2発明」という。)は，外部装置(拡張装置)が着脱可能な画像形成装置の装置構成を判定して，構成が以前に記憶していた内容と異なっていた場合には，プリンタが新しい構成のドライバソフトを構築してホストコンピュータへ送信するものであるが，画像形成装置(プリンタ1)はプリンタ1用ドライバを含む制御プログラムを格納したROMを有している。プリンタ1用ドライバには，外部着脱装置制御用のテーブルが含まれ，拡張装置が追加され，対応するオプションのドライバ(オプション1)が選択された場合，該オプション1を参照するようにテーブルの値が設定される。そして，これにより，オプション1を含む新たなプリンタ1用ドライバが完成する。このようにして構築されたプリンタ1用ドライバはRAMに展開されてホストコンピュータへ転送されるのであって，甲2発明においても，拡張装置の追加に応じてプリンタ1用ドライバにオプション追加して，プリンタ1用の新たなドライバをホストコンピュータに送信し，ホストコンピュータ側では，プリンタ1から送られてきたドライバを，プリンタ1用の新たなドライバとして使用するのである。甲2発明においても，プリンタからホストコンピュータに拡張装置そのものの種類やその有無の情報を送ってプリンタドライバを設定するようなことは行われていないところ，これは，拡張装置の種類や有無の情報単体は(機種情報が存在しない状態では)，プリンタドライバの選択に寄与しないためであり，上記の技術常識を考慮すればごく自然なことと考えられるのである。
        以上のとおり，引用発明1及び甲2発明のいずれにおいても，1つのプリンタは，ホストコンピュータにデバイスIDを1つしか出力しないのであり，そのことは本件優先権主張日当時の当業者の技術常識であったところ，本件補正発明は，拡張装置の接続の有無に応じて記録装置が2つのデバイスIDを切り替えて出力するものであって，このようなことは，コロンブスの卵ともいうべき革新的な発想である。
        なお，甲2発明においては，上記のとおり，プリンタドライバをホスト側で新しく選んで設定することを想定しておらず，むしろ，ホスト側ですぐに使えるプリンタドライバをプリンタから提供することを想定しているのであり，引用発明1の「ホストコンピュータ15において，プリンタ27の機種の情報と，プリンタ27に外部装置が接続されているか否かの情報とに基づいて，プリンタドライバを設定しよう」との発想は，甲2発明を参酌することから導かれるものではない。
      ウ
        仮に，引用発明1と甲2発明とを組み合わせてみた場合を想定すると，このような組合せ発明においては，ホストコンピュータに，拡張装置が着脱可能なプリンタ1，又は通常のプリンタ2が接続される場合，ホストコンピュータは，プリンタの機種の情報と，プリンタに拡張装置が接続されているか否かの情報とに基づいて，プリンタドライバを設定するためには，ホストコンピュータは，引用発明1と同様に，プリンタ1用のプリンタドライバとプリンタ2用のプリンタドライバをあらかじめ記憶装置に記憶して保持している必要がある。
        ここで，拡張装置が着脱可能なプリンタ1についてのプリンタドライバの設定については，ホストコンピュータ側で有するプリンタ1用ドライバには，甲2発明と同様に拡張装置制御用のテーブルが含まれると考えるのが自然であり，ホストコンピュータは，拡張装置が追加されたことがプリンタから通知されると，対応するオプションのドライバ(オプション1)を選択し，該オプション1を参照するようにテーブルの値を設定する。これにより，オプション1を含む新たなプリンタ1用ドライバがホスト側で完成される。一方，プリンタ2用ドライバは，相変わらずプリンタ2のIDを使わなければ選択できないことになる。
        このように，上記組合せ発明においても，プリンタ1について選択可能なドライバは，相変わらず「プリンタ1用ドライバ」にほかならず，拡張装置の有無に応じた2つのデバイスIDを用意して，認識手段による拡張装置の認識結果に応じていずれか一方をホスト側に出力するという本件補正発明の構成とは異なっている。つまり，本件補正発明では，第1のデバイスIDに対応するプリンタドライバと，第2のデバイスIDに対応するプリンタドライバとがそれぞれ存在するが，上記組合せ発明では，プリンタ1の機種の情報を送っているので，選択しているプリンタドライバは拡張装置の有無に関わらず同一のプリンタドライバにすぎないのである。
      エ
        さらに，引用発明1と甲2発明との組合せ発明においては，例えば，プリンタ1用ドライバはあらかじめ拡張予定のオプションを想定して，機能拡張できるように設計する必要があるのに対して，本件補正発明においては，新たにドライバを選び直すことができるため，プリンタ1の出荷時には想定できなかったようなオプションを必要とする新たなドライバをリリースした場合でも，そのドライバをホストコンピュータにおいて導入できるという作用効果があるのである。
      オ
        そうすると，当業者が，引用発明1に基づいて補正後相違点に係る構成に到達することが容易であるということはできず，本件補正発明は格別の作用効果を奏するというべきであるから，周知の技術から補正後相違点に係る構成を採用することは当業者にとって容易想到であるとした本件審決の判断は誤りである。
    (3)
      以上のとおり，本件審決が本件補正は特許法所定の目的要件及び独立特許要件を満たさないとした判断は誤りであるから，その誤った判断を前提にした本件審決は取り消されるべきものである。
      〔被告の主張〕
    (1) 目的要件の充足性
      ア
        原告は，「印刷データの言語の種類に依存しない」との記載は，当業者にとって本件特許出願に係る当初明細書の記載から自明の事項であり，その内容は明りょうであり，かつ，特許請求の範囲の記載中の拡張装置が，印刷データの言語の種類に依存しない自動原稿給送装置，ソータ装置，両面印刷ユニット，ペーパーカセット，フィニッシャ及びスキャナのうちの少なくともいずれかであるものに限定したものであるから，上記記載に係る補正は，特許請求の範囲の減縮を目的とするものであると主張する。
      イ
        しかしながら，特許請求の範囲の記載に用いられる用語は，権利範囲を確定するために用いられるものであるから，制限的に解されるべきものではないところ，当初明細書に記載のない「印刷データの言語の種類と関係がない」との表現が用いられれば，対角的な「印刷データの言語の種類と関係がある」との意味内容も問題となり得る。
        そうすると，これらの意味内容の別を明記していない当初明細書の記載から，「印刷データの言語の種類と関係がない」との表現の追加により特定される内容がいかなるものかを把握することはできないというべきである。
      ウ
        以上のとおり，本件審決が「印刷データの言語の種類と関係がない」との記載の内容が明確でないことを理由として，本件補正が補正の目的要件を満たさないとした本件審決の上記判断に誤りはない。
    (2) 独立特許要件の充足性
      ア
        原告は，本件審決の補正後相違点についての判断が誤りであるとし，引用発明1及び甲2発明のいずれにおいても，1つのプリンタは，ホストコンピュータにデバイスIDを1つしか出力しないのであり，これらを組み合わせた発明においても，プリンタ1について選択可能なドライバは，相変わらず「プリンタ1用ドライバ」にほかならず，拡張装置の有無に応じた2つのデバイスIDを用意して，認識手段による拡張装置の認識結果に応じていずれか一方をホスト側に出力するという本件補正発明の構成とは異なるものであると主張するほか，引用発明1と甲2発明の組合せ発明においては，例えば，プリンタ1用ドライバはあらかじめ拡張予定のオプションを想定して，機能拡張できるように設計する必要があるのに対して，本件補正発明では新たにドライバを選び直すことができるため，プリンタ1の出荷時には想定できなかったようなオプションを必要とする新たなドライバをリリースした場合でも，そのドライバをホストコンピュータにおいて導入できるという作用効果があると主張するが，以下のとおり，原告の主張はいずれも誤りである。
      イ
        甲2発明は，拡張装置が接続されたことにより，接続されたプリンタのプリンタドライバを変更する必要が生じた場合に，どのような対応をするかを課題とするものであり，既にホストコンピュータに通知してデバイスIDとデバイスドライバとの対が存在していても，変更に対応したプリンタドライバをプリンタ側から送信して，ホスト側のプリンタドライバを差し替えるものである。そして，プリンタドライバの差替えの時点としては，プリンタ側で拡張装置の接続を確認した場合に直ちに行うという時点(実施例1，実施例2)とホストコンピュータからプリント要求があった時点(実施例3)が想定されている。後者の時点のものでは，プリンタ側からプリンタドライバの差し替えをホストに伝達するのは，プリント要求，すなわち，プリントデータ本体を送信する前の接続確認の通信において行われている。
        そして，甲2の段落【0030】の記載によると，ホストコンピュータは，周辺機器内のプリンタドライバとホストコンピュータ内のプリンタドライバとを比較しているのであり(図7のフローチャートの701)，すでに周辺機器から通信で入手したデバイスIDのみによって特定を行うのではなく，ホストコンピュータ側からプリンタドライバの設定を行うべき状況を積極的に確認することが記載されている。
      ウ
        ここで，パラレルポートの規格であるIEEE1284では，パソコンとプリンタとの間での双方向データ通信や高速なデータ転送モードを可能とすべく定められたものであり，これにより双方向データ通信でプリンタの制御コマンドの種類やインストールされているフォント名，用紙種類などもパソコン側で入手可能にされたものである。
        また，デバイスIDについては，「構造的で，可変長のASCIIメッセージであり，周辺装置の製造者，コマンドセット及びモデルを識別する。当該メッセージは，ネゴシエーションフェーズにおいてホストから発行される要求に応じて，周辺装置により提供される。周辺装置がホストから要求される双方向モードをサポートする場合，当該メッセージは要求されたモードにおいて提供される。デバイスIDは，周辺装置に適合するデバイスドライバ及び／又は周辺装置ドライバをホストが選択する際の，ホストの補助を目的としている。」(甲21訳文1頁第2段落)とされ，「このフォーマットのID文字列は，装置，製造者などのコードを割り当てるために中央当局による管理を必要としない。」とされていることから製造者側において任意のコードを割り当て得るものである。
      エ
        以上によると，デバイスIDがプリンタの機種を特定する際に補助とされていて，デバイスIDによってデバイスドライバが選択されるのであるから，デバイスIDとデバイスドライバとを対応させておくことが，IEEE1284に準拠した扱いであると解すべきである。
        したがって，デバイスドライバを変更するに際して，特定のデバイスIDを与えることは，当業者が適宜選択することができる事項であるというべきであるから，独立特許要件を否定した本件審決の上記判断に誤りはない。
    (3)
      以上のとおり，本件補正が特許法所定の目的要件及び独立特許要件を満たさないとした本件審決の判断に誤りはなく，原告主張の取消事由1は理由がない。
  2 取消事由2(補正前相違点についての判断の誤り)について
    〔原告の主張〕
    (1)
      本件審決は，本件補正を却下した上，本願発明は，引用発明1及びに引用発明2に基づいて当業者が容易に発明をすることができたものであると判断したが，，以下のとおり，その判断は誤りである。
    (2)
      取消事由1の〔原告の主張〕の(2)イのとおり，引用発明1においては，ホストコンピュータにおいてプリンタの種類の情報に基づいてプリンタドライバを選択できる場合は選択し，選択できない場合はプリンタからホストコンピュータにプリンタドライバを送信する。
      一方，引用例2には，カードスロットを備え，言語系の異なる制御カード(エミュレーションカード)を接続できるように構成されたプリンタが記載されている。
      このプリンタは，操作パネル1501からの選択指示やエミュレーションカードの装着に応じて，RAMデータのプリンタ制御言語情報(プリンタ制御言語データ)「PRCLI」が設定され，当該プリンタ制御言語情報はホストコンピュータへ送信される。ホストコンピュータはプリンタ制御言語情報を受け取ると，当該プリンタ制御言語情報に基づいてプリンタドライバを切り替える。ここで，プリンタ制御言語情報は「プリンタ制御言語を特定する識別情報」である。
      ここで，プリンタ制御言語情報はプリンタ制御言語を特定する情報であり，エミュレーションカード接続の有無とは本来無関係の情報である。
      したがって，引用発明1及び引用発明2から，エミュレーションカードの装着の有無に応じて，ホストコンピュータにおいて適切なプリンタドライバを選択できるように出力する情報を切り替えるという発明をすることは当業者にとって容易ではないというべきである。
    (3)
      また，本件審決は，「プリンタにエミュレーションカードが装着されていない場合には，プリンタの種類に対応する識別情報をプリンタからホストコンピュータに出力し，プリンタにエミュレーションカードが装着されている場合には，装着されたエミュレーションカードに対応する識別情報をプリンタからホストコンピュータに出力する構成を採用することは，当業者が容易になし得たことである。」とも判断しているが，そもそも「エミュレーションカードに対応する識別情報」が何を識別する情報であるのか不明である。
      そして，「エミュレーションカードに対応する識別情報」が(i)「プリンタの種類」を意味すると解すれば，ホストコンピュータ側で拡張装置の有無に対応するプリンタドライバを選択することはできないのであり，(ii)「プリンタの制御言語」を意味すると解すれば，エミュレーションカードが装着されていない場合はプリンタの種類を示す情報が送信され，装着されている場合はプリンタ制御言語を示す情報が送信されるという複雑な構成をとなり，著しく不合理であり，(iii)「エミュレーションカードの種類」を意味すると解すれば，そのような情報の送信について，引用例1にも，引用例2にも記載がないというべきであるから，これらの記載に触れた当業者がそのような構成に想到するとは考えにくいし，そのような情報がプリンタドライバを選択するための役に立つとも考えられない。
      したがって，本件審決の上記判断も誤りといわざるを得ない。
    (4)
      以上のとおり，引用発明1及び引用発明2に基づいて補正前相違点に係る構成を採用することは当業者にとって容易想到であるとした本件審決の判断は誤りであり，本件審決は取り消されるべきである。
      〔被告の主張〕
    (1)
      原告は，引用発明1において，エミュレーションカードの装着の有無に応じて，ホストコンピュータにおいて適切なプリンタドライバを選択できるように出力する情報を切り替えるという構成を想起することは当業者にとって容易ではないと主張し，本件審決にいう「エミュレーションカードに対応する識別情報」が何を識別する情報であるのか不明であるから，補正前相違点についての本件審決の判断は誤りであると主張する。
    (2)
      取消事由1の〔被告の主張〕の(2)ウ，エのとおり，デバイスIDがプリンタの機種を特定する際に補助とされ，デバイスIDによってデバイスドライバが選択されるのであるから，エミュレーションカードの装着の有無に応じて，デバイスIDとして識別情報を与えることは，デバイスIDの基本思想から直ちに導き得ることである。
      また，エミュレーションカードに対応する識別情報を含め，プリンタの種類やプリンタ制御言語等の情報が一連のものとしてデバイスIDを構成することになるのであり，これらの個別の情報を切り離す原告の議論は，デバイスIDの上記のような構成を忘れた検討であるから，失当である。
    (3)
      以上によると，補正前相違点についての本件審決の上記判断に誤りはなく，取消事由2は理由がない。
第4 当裁判所の判断
  1 取消事由1(本件補正を却下した判断の誤り)について
    (1) 目的要件の充足性
      本件審決は，本件補正における「前記拡張装置は，印刷データの言語の種類に依存しない，自動原稿給送装置，ソータ装置，両面印刷ユニット，ペーパーカセット，フィニッシャ及びスキャナのうちの少なくともいずれかである」との記載を追加する補正事項のうち，「印刷データの言語の種類に依存しない」との記載は，「本件の出願当初の明細書又は図面になく，如何なることを意味するのか，その内容が明確ではない…から，本件補正後の特許請求の範囲(請求項1，16)の記載は明りようでなく，特許請求の範囲の減縮に当たるか否かを判断することすらできない。」(12頁15～29行)とし，本件補正は目的要件を充足しないと判断した。
      しかしながら，上記補正事項のうち，「拡張装置」については，「自動原稿給送装置，ソータ装置，両面印刷ユニット，ペーパーカセット，フィニッシャ及びスキャナのうちの少なくともいずれか」と特定され，証拠(甲7，33～39)によると，本件特許出願時の当業者の技術常識として，これらの特定された拡張装置がいかなるものであるかは明らかであり，かつ，それらの機構や機能に照らし，上記拡張装置はいずれも印刷データを記述する言語の種類に影響を受けないことも明らかであると認められる。
      そして，本件補正の内容が上記第2の2(2)のとおりであることを併せ考えると，本件補正は，補正前の請求項に記載された認識手段による拡張装置の接続状態の認識について，記録装置の電源が投入された場合に，拡張装置と繰り返し通信することにより，繰り返して行われるものに限定し，「第一のデバイスID」及び「第二のデバイスID」については，情報処理装置においてプリンタドライバを使用可能とするために用いられるものであることを明示して，そのようなものに限定するとともに，「拡張装置」については，自動原稿給送装置，ソータ装置，両面印刷ユニット，ペーパーカセット，フイニッシャ及びスキャナのうちの少なくともいずれかのものに限定した上，これらが印刷データを記述する言語の種類に影響を受けないものに明示的に限定したものであるということができる。
      また，上記「認識手段」，「第一のデバイスID」，「第二のデバイスID」及び「拡張装置」はいずれも本件補正前の特許請求の範囲の請求項1記載の発明を特定するために必要な事項であって，本件補正発明の産業上の利用分野及び解決しようとする課題が本件補正前の発明と同一であることは明らかである。
      そうすると，本件補正は，特許請求の範囲の減縮を目的とするものというべきであるから，本件補正が目的要件を充足しないとの本件審決の判断は誤りである。
      もっとも，本件審決は，本件補正について，本件補正発明が独立特許要件を満たさないとも判断しているので，本件補正を却下した本件審決の判断が誤りであるか否かを判断するためには，独立特許要件を満たさないとした本件審決の判断の是非についても検討する必要がある。
    (2) 独立特許要件の充足性
      ア
        原告は，本件審決の補正後相違点についての判断は誤りであると主張するので，以下，引用例1の記載と，本件補正後の明細書(甲11。以下「本件補正明細書」という。)の記載とを比較・対照して，この点について検討する。
      イ 引用発明1における「プリンタの種類の情報」について
        (ア)
          引用例1には，以下の記載がある。
          a
            【0009】【実施例】以下，本発明の一実施例について図面を参照しながら説明する。図1は，本発明の一実施例における印字装置のブロック図で，15はコンピュータ，27はプリンタであり，コンピュータ15とプリンタ27はそれぞれに設けられたコンピュータ側双方向通信手段25，プリンタ側双方向通信手段30を双方向通信ケーブル26で接続することにより，双方向に通信できるようになっている。
            【0010】プリンタ27のうち，31はコンピュータ15から受取ったコマンドがプリンタ27の種類を問うものか否かを解読するコマンド解読手段，28はコマンド解読手段31の解読結果がプリンタ27の種類を問うものである場合，コンピュータ15側にプリンタ27の種類の情報を含むステータスを出力するステータス発生手段，29はプリンタ27に適合するプリンタドライバを保持するプリンタドライバデータ保持手段である。なおプリンタ27に適合するプリンタドライバは基本的には1種ないし少量種程度であり，プリンタドライバデータ保持手段29をプリンタ27側に設けてもプリンタドライバデータ保持手段29がプリンタ27の記憶容量を大幅に占有するようなことはない。31はコンピュータ15から送られてきたコマンドの意味を解読するコマンド解読手段，32はコンピュータ15から送られてきた画像データを解読するプリンタ言語解読手段，33は画像データにより画像が展開される画像用メモリ，34は画像用メモリ33の画像に基づき図示しない用紙などに印字を行うプリンタエンジンである。
          b
            【0012】まず，ユーザが印字を行う場合，ユーザはコンピュータ15に対して印字命令を出す(ステップ1)。コンピュータ15はプリンタ27に対しプリンタ27の種類を問うコマンドをコマンド発生手段16からコンピュータ側双方向通信手段25を介してプリンタ27に送る(ステップ2，3)。プリンタ27は送られてきたコマンドをコマンド解読手段31により解読し，プリンタ27の種類を尋ねる内容であるかチェックを行う(ステップ4，5)。プリンタ27の種類を尋ねる内容でない場合，コマンドの内容に対応する処理を行い(ステップ6)，終了する。プリンタ27の種類を尋ねる内容である場合，プリンタ27はステータス発生手段28よりプリンタ27の種類を示すステータスを取り出す(ステップ7)。プリンタ27はプリンタ側双方向通信手段30によりステータスをコンピュータ15に送る(ステップ8)。コンピュータ15は送られてきたステータスをステータス解読手段17により解読し，内容がプリンタ27の種類の回答であるかチェックする(ステップ9，10)。ステータスの内容がプリンタ27の種類の回答でない場合，ステータスの内容に対応する処理を行い(ステップ11)，終了する。ステータスの内容がプリンタ27の種類の回答である場合，プリンタドライバ判別手段18，プリンタドライバ種類保持手段19によりプリンタドライバ保持手段21に該当するプリンタドライバが存在するか確認する(ステップ12，13)。該当のプリンタドライバがある場合，ステップ26に進む。…次に，コンピュータ15はプリンタドライバをコンピュータ15に接続されているプリンタ27に設定する(ステップ26)。設定されたプリンタドライバはメモリ20内にある画像データを読み込み，画像データをプリンタ言語に変換する(ステップ27，28)。変換された画像データをコンピュータ側双方向通信手段25を用いてプリンタ27に送る(ステップ29)。プリンタ27は画像データを取り込み(ステップ30)，受信したデータの内容がコマンドであるかチェックを行う(ステップ31)。データがコマンドである場合，コマンドに対応した処理を行い(ステップ32)，終了する。データがコマンドでない場合，プリンタ言語解読手段32により受信した画像データを解読する(ステップ33)。次に，画像データに基づきプリンタ27内の画像用メモリ33に画像を書き込む(ステップ34)。画像データが1ページ分に達した時点で画像用メモリ33からプリンタエンジン34にデータを送り，プリンタエンジン34が印字を行う(ステップ35)。
        (イ)
          上記(ア)aの記載において，「28はコマンド解読手段31の解読結果がプリンタ27の種類を問うものである場合，コンピュータ15側にプリンタ27の種類の情報を含むステータスを出力するステータス発生手段」とされていることから，プリンタ27は，コンピュータ15側に「プリンタ27の種類の情報を含むステータス」を出力するものであると認められる。
          また，同bにおける「ステップ12，13」及び「ステップ26」に関する記載によると，コンピュータ15は，ステータスの内容がプリンタ27の種類の回答である場合，プリンタドライバ保持手段21に該当するプリンタドライバが存在するか確認し，プリンタドライバをコンピュータ15に接続されているプリンタ27に該当するものに設定するものと認められる。
        (ウ)
          そうすると，引用例1における「プリンタ27の種類の情報」とは，プリンタの型式を識別するための情報であり，引用発明1において，この情報を取得したコンピュータは，該当するプリンタドライバが存在するかどうかを確認した上で設定し，プリンタを使用可能とするものであるということができる。そして，「プリンタ27の種類の情報」は，当該プリンタに拡張装置が接続されているかどうかを問題としないものである。
      ウ 本件補正発明における「デバイスID」について
        (ア)
          本件補正明細書(甲11)の発明の詳細な説明には，以下の記載がある。
          a 【0019】また，8は本実施形態のプリンタ全体の制御を司る制御部，9は後述する本実施形態のプリンタの型式のIDコードを保持するID ROM(デバイスIDROM)，10はID ROM9からIDコードを出力させる(制御部
            8に出力する)ID ROM制御部，11は本実施形態のプリンタに装着可能な各種の拡張装置(オプションユニット)15を装着する装着部，15は本実施形態のプリンタに装着される拡張装置(オプションユニット)である。例えばこの拡張装置(オプションユニット)としては，自動原稿給送装置(ADF)や，ソータ装置，両面印刷ユニット，ペーパーカセット，フィニッシャ，スキャナ等がある。
          b 【0023】I／F制御部2，RAM制御部4，画像データ調歩回路5，エ
            ンジンI／F7は制御部8に接続されている。制御部8には，プリンタのデバイスIDを記録したID ROM9が接続されている。ID ROM制御部10は，制御
            部8に出力するプリンタのデバイスIDをID ROM9から選択し，制御部8に出力する。選択されたデバイスIDは，ホストコンピュータ100から本実施形態のプリンタに対してプリンタの機種の問い合わせがI／F1を通じて行われたとき制御部8から読み出され，ホストコンピュータ100に出力される。
          c 【0025】図2は図1に示す本実施形態のID ROM9の詳細構成を示
            す図である。図2に示す本実施形態においては，ID ROM9は3つのデバイスID内包している。…
            【0026】図2中，21はデバイスAに対するデバイスIDを記録した記憶回路，22はデバイスBに対するデバイスIDを記録した記憶回路，23も同様でデバイスCに対するデバイスIDを記録した記憶回路，24は各記憶回路のいずれかを選択するセレクタである。それぞれの記憶回路21～23はセレクタ24に接続されており，セレクタ24は各記憶回路21～23の出力を選択信号25に従って，選択出力26から出力する。尚，各記憶回路21～23にはプリンタの機種名と接続されたデバイスを特定する情報で構成されるデバイスIDとが格納されている。
            【0027】本実施形態においては，本実施形態のプリンタの装着部11に拡張装置(オプションユニット)15が装着されると，これをID ROM制御部10が感知する。そして，ID ROM制御部10は，装着された拡張装置15の装着状態に応じて，デバイスIDを変更するためにID ROM9に選択信号25を出力する。ID ROM9では，ID ROM制御部10からの選択信号25の指示に基
            づき，セレクタ24を切り替えて，新たなデバイスIDを選択出力26から制御部8に出力する。
          d
            【0040】ホストコンピュータ100に電源が投入されたり，システムリセットが行われた場合，まずステップ101に示すリセットが実行される。次にステップ102においてホストコンピュータ100に接続されたプリンタ(本実施形態のプリンタ)よりプリンタIDを読み込み処理が行われ，プリンタのデバイスIDの確認が行なわれる。
            【0041】次にステップ103において，現時点でホストコンピュータ100にて実行状態となっているプリンタドライバが，現在接続されているプリンタをサポートし，そのプリンタを制御可能であるか否かをステップ102にて読み込んだプリンタIDにより判定する。サポートすることが可能なプリンタである場合はステップ105に進み，プリンタの電源が投入されているか，あるいはプリンタとの接続ケーブルが正常に接続された状態であるか否かを調べる。プリンタの電源が切られたり，ケーブルが外されたときはステップ102に戻り，プリンタのデバイスIDの読み込みを再び行う。
          e
            【0045】更に，上述したステップS103で読み込んだプリンタのデバイスIDを調べた結果，そのデバイスIDに該当するプリンタが，現時点でホストコンピュータ100にて実行状態にあるプリンタドライバではカバーできない場合にはステップ104に進み，ホストコンピュータ100の例えばハードディスクなどの外部記憶装置などに記憶され，ホストコンピュータ100で読み出し及び実行可能なプリンタドライバであるか，あるいはメモリ中に既に存在しているプリンタドライバであるか否かを判断する。プリンタドライバが存在する場合にはステップ106に進み，該当ドライバを必要に応じてメモリ中に読み出してくるなどしてメモリ内に存在する状態とし，メモリ内のドライバを使用可能にするそしてステップ105に進む。
        (イ) 上記(ア)aの記載において「9は後述する本実施形態のプリンタの型式のIDコードを保持するID ROM(デバイスIDROM)・・・である。」と説
          明され，同bの記載において「プリンタのデバイスIDを記録したID ROM9」とされていることに加え，同cの記載において「ID ROM9は3つのデバイスID内包している。」とされていることからすると，本件補正発明における「デバイスID」はプリンタの型式を識別するための情報であると認められるが，同cの記載において「尚，各記憶回路21～23にはプリンタの機種名と接続されたデバイスを特定する情報で構成されるデバイスIDとが格納されている。」とされていることから，本件補正発明における「デバイスID」は，「プリンタの機種名と接続されたデバイス(拡張装置)を特定する情報」によって構成されるものであることが認められる。
          さらに，同cの記載において「本実施形態においては，本実施形態のプリンタの装着部11に拡張装置(オプションユニット)15が装着されると，これをIDROM制御部10が感知する。そして，ID ROM制御部10は，装着された拡張装置15の装着状態に応じて，デバイスIDを変更するためにID ROM9に選択信号25を出力する。」とされている。
        (ウ)
          そうすると，本件補正発明においては，プリンタが，装着された拡張装置15の装着状態に応じて，デバイスIDを変更するものであり，同d及びeの記載によると，ホストコンピュータが，読み込んだデバイスIDに対応した適切なプリンタドライバを選択し，プリンタを使用可能にするものであると認められる。
      エ 引用発明1と本件補正発明との異同について
        以上によると，引用発明1における「プリンタの種類の情報」と本件補正発明における「デバイスID」とは，いずれもプリンタの型式を識別するための情報である点で共通しているから，引用発明1と本件補正発明とは，コンピュータが当該情報(プリンタの型式を識別するための情報)に基づいてプリンタドライバを選択し，プリンタを使用可能にする点において共通であるということができる。
        しかしながら，引用発明1の「プリンタの種類の情報」は，プリンタの型式を識別するための情報であるが，当該プリンタに拡張装置が接続されているかどうかを問題としないものであるのに対し，本件補正発明の「デバイスID」は「プリンタの機種名と接続されたデバイスを特定する情報」によって構成されるため，本件補正発明の「デバイスID」は，プリンタの機種ごとに異なるものとなるだけでなく，接続されたデバイス(拡張装置)ごとに異なるものとなっている。
        そして，本件審決が，補正後相違点について，前記第2の3(2)に掲記したとおりに認定した根拠は，引用発明1において「拡張装置を接続した状態で使用したり，接続しない状態で使用することが可能に構成されているのかどうかは定かではな(い)」ということに尽きるから，本件審決の認定した補正後相違点は，結局，上記認定の「プリンタの種類の情報」と「デバイスID」との相違と同様のものであると解することができる。
      オ 本件優先権主張日当時の当業者の認識について
        以上を踏まえ，次に，上記認定の引用発明1における「プリンタの種類の情報」と本件補正発明における「デバイスID」との相違に関し，当業者が，本件優先権主張日当時においてどのような認識を有していたかについて検討する。
        (ア) 甲2公報の記載
          【0002】【従来の技術】従来，周辺機器のドライバプログラム等の周辺機器の制御方式は，周辺機器が変更されたりその構成が変更された場合，使用者が新たに対応するドライバプログラム等をインストールするものであった。例えば，ドライバプログラム等がホストコンピュータに内蔵される場合は，ホストコンピュータ内に新たに対応するドライバプログラム等をインストールする。
          【0021】また，この画像形成装置には幾つかの外部装置が着脱可能である。図2において，150で示す大容量給紙装置，156，158からなる両面印刷用紙搬送路，190で示す丁合い装置(ソーター)である。
          【0023】(実施例1)そこで次に，図4を使用して本実施例の場合の手順を説明する。画像形成装置側の電源を投入する(400)。画像形成装置は以前に電源が投入されていたときの装置構成を，不揮発性の記憶手段を用いて記憶している。
          これと現在の装置構成とを比較する(401)。先に説明した画像形成装置中の着脱可能な外部装置が，接続されているかいなかを判定する信号が画像形成装置に入力されており，これを使用して装置構成の判定をする。構成が以前に記憶していた内容とは異なっていた場合には，新しい構成のドライバソフトを構築する(402)。新しく構成したドライバソフトを，あらかじめ登録しておいたネットワークアドレスに応じたホストコンピュータへ転送する(403)。その後は，通常ルーチンに移行する(404)。
          【0030】図7は実施例3におけるプリント要求時のホストコンピュータの処理手順を示すフローチャートである。まず，プリント要求時に，ホストコンピュータは，周辺機器内に構築されたプリンタドライバとホストコンピュータ内のプリンタドライバとを比較し(701)，異なる場合は周辺機器内のプリンタドライバを転送して，ホストコンピュータ内のプリンタドライバを更新をする(702)。以下，703～706は，図3と同様である。
        (イ) IEEE1284規格
          a
            まず，平成7年6月21日日経BP社発行の「最新パソコン技術体系’95」(甲25)には「IEEE1284規格」について，次の記載がある。
            パラレル・ポートの機能を拡張した新しいインタフェースがIEEE(米国電気電子技術者協会)で規格化された。新しいパラレル・インタフェースはIEEE1284と呼ぶ。パソコンとプリンタ間での双方向データ通信や高速なデータ転送モードを定めた。双方向データ通信によってプリンタの制御コマンドの種類やインストールされているフォント名，用紙種類などをパソコンが取得できるようになる。
            またプリンタの種類を判別して自動的にドライバをインストールすることも可能になる(112頁9行～15行)。
          b 次に，「IEEE1284規格」の内容について検討すると，平成6年(1
            994年)12月2日に米国で発行された「IEEE Standard Signaling Method for aBidirectional Parallel Peripheral Interface for Personal Computers」(甲21)には，次の記載がある。
            (a) 「デバイスID：構造的で，可変長のASCIIメッセージであり，周辺装置の製造者，コマンドセット及びモデルを識別する。当該メッセージは，ネゴシエーションフェーズにおいてホストから発行される要求に応じて，周辺装置により提供される。周辺装置がホストから要求される双方向モードをサポートする場合，当該メッセージは要求されたモードにおいて提供される。デバイスIDは，周辺装置に適合するデバイスドライバ及び／又は周辺装置ドライバをホストが選択のする際の，ホストの補助を目的としている。」(訳文1頁15～20行)
            (b) 「デバイスIDはバイトのシーケンスである。頭の2バイトはシーケンス長を表す(当該2バイト長も含む)。先頭バイトは最上位バイトである(長さを示す値として x'0000'，x'0001'，x'0002'がリザーブされている。)。シーケンスの受信後，ホストは周辺装置が送信すべき追加データを有しているかどうかに関わらず，リンクをコンパティビリティモードへ戻さなければならない。」(訳文2頁27行～3頁2行)
            (c) 「2バイト長の後に，キーと値の Key:value{,value}; の形態を各キーについて繰り返して連結したシーケンスが作成される。ここで示すように各キーは一つの値を有し，2以上の値を有していても良い。最小限のキー(大文字，小文字の区別無し)は，製造者，コマンドセット及びモデルである(これらのキーは，MFG，CMD及びMDLと省略できる。)。実装ではこれらの3つのキーを提供し，場合によっては追加のキーを提供できる。各キー(及び各値)は文字列である。コロン(：)，カンマ(，)及びセミコロン(；)を除き，どんな文字をキー(或いは値)文字列の一部に含んでもよい。文字列における先頭や末尾の空白(SPACE[x'20'],TAB[x'09'],VTAB[x'0B'],CR[x'0D'],NL[x'0A'],または FF[x'0C'])は構文解析プログラムにより無視される(しかし，依然としてシーケンスの全体の長さとしてはカウントされる。)。」(訳文3頁13～22行)
            (d) 「ID文字列の例として，アセンブラDB命令と同様の形態において，随意のコメント(COMMENT)及びアクティブなコマンドセット(ACTIVE COMMAND SET)のキー及びそれらに関連する値を示す。(テキストは実際は全部1ラインで表される。)
              x'00',x'79',
              製造者：ACMEマニュファクチャリング；
              コマンドセット：PCL，MPL；
              モデル：レーザービーム ？；
              コメント：任意；
              アクティブコマンドセット：PCL；」(訳文3頁下から3行～4頁6行)
            (e) 「1から4バイトのIDコードよりを格納し，転送するよりも効果であるが，このフォーマットのID文字列は，装置，製造者などのコードを割り当てるために中央当局による管理を必要としない。」(訳文4頁9～11行)
        (ウ) 本件優先権主張日当時における当業者の認識
          a
            上記(ア)の記載によると，本件審決が認定するとおり，本件優先権主張日当時において，プリンタを制御するプリンタドライバは，プリンタの機種の変更に対応するのみでなく，プリンタに，大容量給紙装置，両面印刷用紙搬送路及びソーターのそれぞれが装着されているか否かによっても変更対応する必要があることは，当業者の技術常識であったことが認められる。
          b
            また，上記(イ)aの記載によると，IEEE1284規格に基づく双方向データ通信により，プリンタはパソコンに対し，プリンタを制御するために必要となる情報を送信し，パソコンがこれを取得するものであることが認められる。
            そして，本件優先権主張日当時において，ホストコンピュータとプリンタとの間の通信をIEEE1284規格に基づいて行うことが標準的な技術であったことについては，当事者間に争いはない。
          c さらに，上記(イ)bの記載によると，デバイスIDとは，IEEE1284
            規格において，周辺装置の機種を特定するための情報であり，ホストコンピュータは，デバイスIDに基づいて，これと対応する周辺装置のデバイスドライバを選択するものであることが認められる。
            そして，上記のようなデバイスIDの位置付け及びホストコンピュータによるデバイスドライバの選択の仕組みが本件優先権主張日当時における当業者の技術常識であることについては，当事者間に争いがない。
          d
            上記(イ)a及びbの記載によると，IEEE1284規格におけるデバイスIDとは，可変長のASCIIメッセージであり，少なくとも①プリンタの製造会社(MANUFACTURE)，②コマンドセット(COMMAND SET)及び③プリンタのモデル名(MODEL)の3つの要素(キー)を必要とし，追加の要素(キー)として，任意のコメント(COMMENT)及びアクティブなコマンドセット(ACTIVE COMMAND SET)を提供することができるものであるが，追加の要素(キー)の種類に特段の限定はなく，コードの割当て等の内容について管理されない柔軟なものであると認められる。
            そして，「デバイスID」は，これら追加の要素(キー)を含む可変長のASCIIメッセージの全体を指すものである(上記(イ)b(a))から，拡張装置の接続の有無や接続された拡張装置の種類を示す情報が追加の要素として付加された場合，そのような追加の要素のみが異なる2つの「デバイスID」は互いに別異の「デバイスID」として認識されるべきものであるということになる。ここで，IEEE1284規格において，異なる拡張装置が装着された2つのプリンタについて，例えば，デバイスIDの必須の要素であるプリンタのモデル名として，異なるモデル名を付与することに何ら制約はないと解されるから，このような2つのプリンタにそれぞれ異なるプリンタドライバを対応させてプリンタが正常に動作するようにするという技術的課題を達成するために，これらのプリンタに異なるモデル名を割り当てることは，上記の追加の要素を付加することと技術的な意義を同じくするものであることが明らかというべきであり，本件優先権主張日当時における標準的な規格であるIEEE1284規格について理解している当業者も，以上と同様の認識を有していたものといわなければならない。
      カ
        そこで，上記オにおいて検討した本件優先権主張日当時における当業者の認識を踏まえ，引用発明1と本件補正発明とについて検討する。
        上記エのとおり，引用発明1の「プリンタの種類の情報」は，プリンタの型式を識別するための情報であるが，当該プリンタに拡張装置が接続されているかどうかを問題としないものであるのに対し，本件補正発明の「デバイスID」は，「プリンタの機種名と接続されたデバイスを特定する情報」によって構成されるものであるが，上記オ(ウ)のとおり，プリンタを制御するプリンタドライバは，プリンタに拡張装置が接続されているか否かによっても変更・対応する必要があり，コンピュータはデバイスIDに基づいて対応する周辺装置のデバイスドライバを選択するのであるから，本件優先権主張日当時の当業者にとって，拡張装置の状況に応じた適切なプリンタドライバを選択し，プリンタが正常に動作するようにするという課題は，自明のものであったということができる。
        そして，上記オのとおり，本件優先権主張日当時の標準的な技術において「デバイスID」とは，プリンタの製造会社，コマンドセット，プリンタのモデル名の3つの必須の要素のほか，その種類や内容について特段限定されることのない追加の要素を含む可変長のASCIIメッセージの全体を指すものであり，追加の要素の付加や異なるモデル名の付与によって，拡張装置の接続の有無や接続された拡張装置の種類の情報を提供することができるのであるから，拡張装置の状況が異なるプリンタに対応する「デバイスID」は，当然に互いに別異の「デバイスID」として認識されるべきものである。
        そうすると，本件補正発明における「デバイスID」は，引用発明1の「プリンタの種類の情報」について，本件優先権主張日当時の当業者の技術常識を踏まえて，当時の標準的な技術であるIEEE1284規格を適用したものに含まれるものというべきであり，拡張装置の接続状況によって異なる「デバイスID」を設定し，コンピュータがこれに対応する異なるデバイスドライバを選択することによって，上記課題を解決しようとすることは，当業者が極めて自然に志向することであるということができる。
        したがって，引用発明1の「プリンタの種類の情報」を本件補正発明の「デバイスID」のように構成することは，当業者にとって容易に想到し得るものというべきであるから，本件補正発明が独立特許要件を備えないとした本件審決の判断に誤りはないといわなければならない。
      キ
        この点について，原告は，本件優先権主張日当時において，①デバイスIDとは，IEEE1284規格等で規定されているように，周辺装置の機種を特定するための情報であって，周辺装置のデバイスドライバとデバイスIDとが対応するものであり，②ホストコンピュータは，周辺装置から取得したデバイスIDを利用して，周辺装置に対応するデバイスドライバを選択することが当業者の技術常識であったと主張するところ，そうであるとしても，上記オ及びカに説示したところに照らすと，上記デバイスIDの意義を原告が主張するようなものに限定して理解することはできない。
        また，原告は，引用発明1と甲2発明とを組み合わせた発明を想定した上，本件補正発明では，第1のデバイスIDに対応するプリンタドライバと，第2のデバイスIDに対応するプリンタドライバとがそれぞれ存在するが，組合せ発明では，プリンタ1の機種の情報を送っているので，選択しているプリンタドライバは拡張装置の有無に関わらず同一のプリンタドライバであるから，両者の構成は異なる旨主張する。
        しかしながら，上記のとおり，本件補正発明の独立特許要件は，プリンタからの情報により，プリンタ内に格納されているプリンタドライバを選択する構成の引用発明1を前提として検討されるべきものであり，原告の主張は，その前提を誤ったものといわざるを得ない。
    (3)
      以上のとおり，本件補正発明が独立特許要件を欠くとした本件審決の判断に誤りはなく，取消事由1は理由がない。
  2 取消事由2(補正前相違点についての判断の誤り)について
    (1)
      原告は，補正前相違点について，引用発明1に基づき本願発明の構成を採用することは容易であるとした本件審決の判断は誤りであると主張するので，以下，検討する。
    (2) 引用例2の記載
      【0033】プリンタ1500において，14はプリンタCPUで，ROM15に
      記憶された制御プログラム等に基づいてシステムバス17に接続される各種のデバイスとのアクセスを総括的に制御し，印刷部インタフェース19を介して接続される印刷部(プリンタエンジン)20にプリントデータとしての画像信号(VDO)を出力する。また，CPU14は入力部18を介してホストコンピュータとの通信処理が可能となっており，RAM16に関するメモリ情報および資源データ等をホストコンピュータ100に通知可能に構成されている。16はRAMで，図示しない増設ポートに接続されるオプションRAMによりメモリ容量を拡張することができるように構成されている。
      【0034】また，図示しないカードスロットを少なくとも1個以上備え，内蔵フォントに加えてオプションフォントカード，言語系の異なる制御カード(エミュレーションカード)を接続できるように構成されている。さらに，図示しないＮVRAMを有し，操作パネル1501からのプリンタモード設定情報を記憶する。
      【0035】このように構成されたプリンタ制御システムにおいて，取得手段(CPU1)が所定のタイミングでホストコンピュータに双方向性インタフェース13を介して接続されるプリンタ1500のメモリ(ROM15)に格納されているプリンタ制御言語データを取得すると，指定手段(CPU1)が取得したプリンタ制御言語データを解析してプリンタドライバの切り換えを指定し，この切換え指定に従って環境設定手段(CPU1)がホストコンピュータ100のプリンタドライバ環境を整合設定することにより，通信可能に接続されたプリンタとホストコンピュータとのプリンタ環境が不整合であっても，整合するプリンタ環境を自動設定する。
      【0036】具体的には，双方向性のインタフェース13で接続されたホストコンピュータ100とプリンタ1500のシステムにおいて，複数のプリンタ制御言語系に対するドライバ(各種プリンタに対応する)が使用できる場合に，ホストコンピュータ100のCPU1がプリンタ制御言語に関する情報(プリンタ制御言語を特定する識別情報等)をプリンタ1500のROM15から取得し，ホストコンピュータ100内のRAM3のワークエリアで上記情報に基づいてプリンタドライバとプリンタの制御言語系の整合性をチェックし，整合がとれない場合には，取得した情報に適合するプリンタドライバに切り換えて整合性を取る。これにより，ユーザはプリンタドライバの選択設定をすることなく，適切なプリンタドライバによるプリントが可能となる。なお，上記プリンタ制御言語に関する情報を取得するタイミングは，システムを立ち上げた時(電源をOＮにした時)または印刷開始時である。
      【0040】16aは例えば第1言語系の環境データ部で，フォーム(罫線データ)データ，外字データ，RAMデータ等から構成されており，RAMデータには現在のプリンタ制御言語に関する情報(例えばPRCL1)が設定されている。1501は操作パネルを示し，種々のモード設定のためのキー，エラー回復のためのキー等が配設されている。Sはカードスロットで，プリンタ1500をエミュレーション起動する際に接続される制御カードCが装着され，この制御カードCが装着されると，RAMデータに「PRCL1」が設定されるものとする。
      【0047】以上のように，ホストコンピュータ100に双方向性インタフェース13を介して接続されるプリンタ1500のメモリ(本実施例ではROM15)に格納されているプリンタ制御言語データ(プリンタ制御言語情報)を取得し，このプリンタ制御言語データ(プリンタ制御言語情報)に基づいてプリンタドライバの切り換えを指定し，この切り換え指定に従ってホストのプリンタドライバ環境を整合設定することにより，通信可能に接続されたプリンタとホストコンピュータとのプリンタ環境が不整合であっても，整合するプリンタ環境を設定して，最適なプリンタドライバを自動選択することを可能とする。
      【0048】なお，プリンタ環境の整合判定を，ホストコンピュータ100が自動判定する場合について説明したが，プリンタ1500の操作パネル1501からの制御言語切り換え指示または制御カードCの着脱状態を検出して，プリンタ環境の整合処理を自動起動する構成であっても良い。
    (3)
      上記記載によると，引用例2には，言語系の異なる制御カード(エミュレーションカード)を接続することができるように構成され(【0034】)，プリンタ1500をエミュレーション起動する際に接続される制御カードCがカードスロットSに装着されると，RAMデータに現在のプリンタ制御言語に関する情報「PRCL1」が設定され(【0040】)，プリンタ制御言語に関する情報がホストコンピュータへ送信され，ホストコンピュータはプリンタ制御言語情報に基づいてプリンタドライバを切り換えて，最適なプリンタドライバを自動選択する(【0047】)技術が開示されているものと認められる。
      そして，上記において認定した「言語系の異なる制御カード」が本願発明における「拡張装置」に相当することについては当事者間に争いがなく，引用例2に記載されたプリンタドライバとホストコンピュータにおいて，「言語系の異なる制御カード」(拡張装置)は，接続した状態で使用したり，接続しない状態で使用することが可能に構成されているものであるところ，上記1(2)カに説示したところに照らすと，この技術を引用発明1に適用して，補正前相違点に係る構成とすることが当業者にとって容易であることは明らかであるというべきである。
    (4)
      この点について，原告は，引用発明1において，エミュレーションカードの装着の有無に応じて，ホストコンピュータにおいて適切なプリンタドライバを選択できるように出力する情報を切り替えるという構成を想起することは当業者にとって容易ではない旨主張するが，上記1(2)ウの記載に照らし，原告の主張を採用することができないことは明らかである。
      また，原告は，本件審決の認定における「エミュレーションカードに対応する識別情報」が何を識別する情報であるか不明であるとも主張するが，上記1(2)オ及びカにおいて本件優先権主張日における技術常識等について説示したところに照らし，引用発明1及び引用発明2に記載された技術をみれば，エミュレーションカードが接続された場合に，当該エミュレーションカードに対応する言語系に基づいてプリンタを制御すべく，コンピュータがプリンタデバイスを選択する必要があることは明らかであり，識別の対象は言語系を含む拡張装置の属性であるものと認められるから，原告の主張を採用することはできない。
    (5)
      以上によると，補正前相違点についての本件審決の判断に誤りはないというべきであるから，取消事由2は理由がない。
  3 結論
    以上の次第であるから，原告主張の取消事由はいずれも理由がなく，原告の請求は棄却されるべきものである。
