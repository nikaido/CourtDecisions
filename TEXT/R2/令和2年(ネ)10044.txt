主文
  1 一審被告の控訴に基づき，原判決中，一審被告敗訴部分を取り消す。
  2 上記部分に係る一審原告の請求をいずれも棄却する。
  3 一審原告の控訴を棄却する。
  - 1 -
  4 訴訟費用は，第1，2審を通じて一審原告の負担とする。

事実及び理由
第1 控訴の趣旨
  (一審原告)
  1
    原判決を次のとおり変更する。
  2
    一審被告は，別紙物件目録記載2の製品の製造，販売又は販売の申出をしてはならない。
  3
    一審被告は，前項記載の製品を廃棄せよ。
  4
    一審被告は，別紙プログラム目録記載のプログラムの製造，使用，販売若しくは販売の申出又は電気通信回線を通じた提供若しくは電気通信回線を通じた提供の申出をしてはならない。
  5
    一審被告は，前項記載のプログラムを消去せよ。
  6
    一審被告は，一審原告に対し，9億5054万3000円及びうち1億円に対する平成27年10月1日から，うち8億5054万3000円に対する平成30年9月30日から，各支払済みまで年5分の割合による金員を支払え。
    (一審被告)
  1
    原判決中，一審被告敗訴部分を取り消す。
  2
    上記取消部分につき，一審原告の請求をいずれも棄却する。
第2 事案の概要等(本判決の略語は，特に断らない限り原判決に従う。)
  1 事案の概要
    (1)
      一審原告は，「流体供給装置及び流体供給方法及び記録媒体及びプログラム」の特許第4520670号(本件特許)の特許権者である。
      一審被告は，給油装置に組み込まれる設定器(別紙物件目録1記載の製品)を製造・販売しており，同設定器には電子マネーによる決済を可能にするプログラムを保存することができる。同設定器の多くは，これを組み込んだ給油装置を設置する給油所において，同プログラムが保存されアクティベートされた状態で運用されている。
      一審原告は，上記設定器が組み込まれた給油装置は本件特許の請求項1～3，8に係る発明の技術的範囲に属し，同設定器は同給油装置の生産にのみ用いられる物に該当するから，一審被告が同給油器を製造・販売等することは本件特許権の間接侵害(特許法101条1号)に当たる旨主張して，一審被告に対し，特許法100条1項及び2項に基づき，同設定器の製造，販売及び販売申出の差止め並びに同設定器の廃棄を求めるとともに，民法709条に基づき，損害賠償(一部請求)として，28億1101万5900円及びこれに対する年5分の割合の遅延損害金(起算日は，うち1億円につき平成27年10月1日，残額につき平成30年9月30日)の支払を求めた。
    (2)
      原審裁判所は，令和2年1月30日，一審原告の請求を次の範囲で認容する原判決をした。
      「1  一審被告は，別紙物件目録記載2の製品の製造，販売又は販売の申出をしてはならない。
  2
    一審被告は，別紙物件目録記載2の製品から，別紙プログラム目録記載のプログラムを除却せよ。
  3 一審被告は，一審原告に対し，4億2834万7890円及びうち●●●に対する平成27年10月1日から，うち●●●●●●●●●●●●に対する平成30年9月30日から，うち●●●●●●●●●●に対する令和元年6月30日から，各支払済みまで年5分の割合による金員を支払え。」
    (3)
      原審裁判所は，令和2年3月12日，原判決の主文3項を次のとおり更正する決定をした。
      「3  一審被告は，一審原告に対し，4億5054万3000円及びうち●●●に対する平成27年10月1日から，うち●●●●●●●●●●●●に対する平成30年9月30日から，うち●●●●●●●●●●●●に対する令和元年6月30日から，各支払済みまで年5分の割合による金員を支払え。」
    (4)
      一審原告及び一審被告は，それぞれ敗訴部分を不服として控訴した。一審原告は，控訴提起後に，上記(3)の更正決定も踏まえて，請求を上記第1のとおり整理した。うち，損害賠償請求の元本の金額は，原判決(更正後)の請求棄却部分のうち5億円に不服の範囲を限定する趣旨である。
  2 前提事実等(その1)
    以下の事実等は，当事者間に争いがないか，掲記の証拠により容易に認められる。
    (1)
      一審原告は，石油類及び石油化学製品等の販売，給油所の維持管理及び給油所関連の電算システムの運営管理に関する事業等を業として行っている。一審被告は，給油所用機器の製造及び販売等を業として行っている。
    (2)
      ア
        一審原告は，次の本件特許権の共有権者である。
        〔特許番号〕
        特許第4520670号
        〔発明の名称〕
        流体供給装置及び流体供給方法及び記録媒体及びプログラム
        〔出願日〕
        〔登録日〕
      イ
        本件特許権については，訴外日立オートモティブシステムズメジャメント株式会社(本件共有者。平成27年5月21日の登録名義人の表示の変更前はトキコテクノ株式会社)が100パーセントの持分を保有していたが，平成26年2月20日，本件特許権の50パーセントの持分が訴外コスモ石油株式会社に移転(特定承継)され，平成27年11月17日，当該持分が一審原告に移転(一般承継)されて，現在は，一審原告と本件共有者の共有となっている。
        なお，本件共有者は，計装機器の開発，製造及び販売，並びに給油所及びエコステーションのプランニング，設計及び施工等を業として行っている。
    (3)
      ア
        本件特許権の特許請求の範囲の請求項1～3，8に記載された本件発明1～3，8は，構成要件を分説して示すと，以下のとおりである(以下，各構成要件を「構成要件1A」「1A」等と表記し，1C1・1C2を併せて「1C」，1F1～1F4を併せて「1F」ということがある。)。
        (本件発明1)
        1A  記憶媒体に記憶された金額データを読み書きする記憶媒体読み書き手段と，
        1B  前記流体の供給量を計測する流量計測手段と，
        1C1  前記流体の供給開始前に前記記憶媒体読み書き手段により読み取った記憶媒体の金額データが示す金額以下の金額を入金データとして取り込むと共に，
        1C2  前記金額データから当該入金データの金額を差し引いた金額を新たな金額データとして前記記憶媒体に書き込ませる入金データ処理手段と，
        1D  該入金データ処理手段により取り込まれた入金データの金額データに相当する流量を供給可能とする供給許可手段と，
        1E  前記流量計測手段により計測された流量値から請求すべき料金を演算する演算手段と，
        1F1  前記流量計測手段により計測された流量値に相当する金額を前記演算手段により演算させ，
        1F2  当該演算された料金を前記入金データの金額より差し引き，
        1F3  残った差額データの金額を前記記憶媒体の金額データに加算し，
        1F4  当該加算後の金額データを前記記憶媒体に書き込む料金精算手段と，
        1G  を備えたことを特徴とする流体供給装置。
        (本件発明2)
        2A  前記入金データ処理手段は，前記流体の供給開始前に前記記憶媒体に記憶された金額データが示す金額よりも少ない金額を入金データとして取り込むと共に，当該記憶媒体の金額データから当該入金データの金額を差し引くこと
        2B  を特徴とする請求項1記載の流体供給装置。
        (本件発明3)
        3A  前記流体の供給前に返金指示があったときは，前記流体の供給前に前記入金データ処理手段により取り込まれた入金データの金額を前記記憶媒体の金額データの金額に加算する第1の返金手段と，
        3B  前記流体の供給後に返金指示があったときは，前記流量計測手段により計測された流量値に相当する金額を前記入金データの金額より差し引き，残った差額データの金額を前記記憶媒体の金額データの金額に加算し，当該加算後の金額データを前記記憶媒体に書き込む第2の返金手段と，
        3C  を備えたことを特徴とする請求項1または2記載の流体供給装置。
        (本件発明8)
        8P  入金データとして取り込まれた金額データに相当する流量を供給可能とする流体供給装置で実行されるプログラムであって，
        8C1  コンピュータに，流体の供給開始前に記憶媒体読み書き手段により読み取った記憶媒体の金額データが示す金額以下の金額を入金データとして取り込むと共に，
        8C2  前記金額データから当該入金データの金額を差し引いた金額を新たな金額データとして前記記憶媒体に書き込ませる第1の手順と，
        8D  該第1の手順で取り込まれた入金データの金額データに相当する流量を供給可能とする第2の手順と，
        8E  流量計測手段により計測された流量値から請求すべき料金を演算する第3の手順と，
        8F1  前記流量計測手段により計測された流量値に相当する金額を演算させ，
        8F2  当該演算された料金を前記入金データの金額より差し引き，
        8F3  残った差額データの金額を前記記憶媒体の金額データに加算し，
        8F4  当該加算後の金額データを前記記憶媒体に書き込む第4の手順と，
        8Q  を順次実行させるためのプログラム。
      イ
        本件発明8の構成は，本件発明1の給油装置の構成を，その動作を実行させるプログラムという観点から記述したものである(C～Fの符号がそれぞれ対応している。)。
    (4)
      一審被告は，EMGマーケティング合同会社が石油の元売りとしてガソリン等を供給していた同社系列給油所に対し，給油所における給油装置を構成する設定器(給油すべき量や顧客が支払う方法などを設定するもの)を製造，販売している。なお，同社は平成29年1月に東燃ゼネラル石油会社に吸収合併され，同社は，同年4月にJXTGエネルギー株式会社に吸収合併された。
      また，一審被告は，一審被告が製造，販売する設定器に保存され，給油装置において実行される，料金の精算等を可能とするためのプログラムを開発・販売している。
    (5)
      一審被告が製造，販売した設定器を用いる給油装置には，非接触式のICチップを用いた電子マネー媒体(いわゆる「FeliCa」。以下，本判決において「電子マネー(媒体)」というときには，特に断らない限りこれを指す。)により給油を行い，当該給油に対する料金の精算を行う場合に以下の①の構成を有し，②～⑦の動作を行うものがある。以下，給油装置にこのような動作を行わせるプログラムを「被告プログラム」といい，被告プログラムが保存された設定器を「被告設定器」といい，被告設定器を含む給油装置を「被告給油装置」という。また，②～⑦の各動作を「具体的動作②」などということがある。
      ①  一般に，給油装置は，顧客に給油する給油機，給油量を計測した上で単価に給油量を乗じた金額を表示する計量機，給油すべき量や顧客が支払う方法などを設定する設定器などから構成される。被告給油装置は，被告設定器と計量機(以下，被告給油装置を構成する計量機を「被告計量機」という。)とを含む給油装置である。被告設定器はディスプレイ及びリーダー等の構成を有する。
      ②  電子マネー媒体を用いた給油を行おうとする顧客は，被告設定器のディスプレイ上で電子マネーによる支払いを選択する。顧客は，被告設定器のディスプレイに表示された指示に従い，電子マネー媒体を被告設定器のリーダーにタッチさせる(なお，厳密には，「非接触式」であるため数cmの距離まで近付ければよく，以下では「タッチする」に代えて「かざす」ということがある。)。被告設定器は，1回目のタッチ動作において電子マネー媒体の残額を読み取っている。
      ③  被告設定器のディスプレイ上には給油量及び給油金額が記載されたボタンが表示され，顧客はそのボタンを押すことで給油量又は給油金額を選択することができる。このとき，油(ガソリンや軽油の総称)の単位量当たりの単価に基づき計算された給油による支払金額(給油量×単価で計算した金額)が前記②で読み取った電子マネー媒体の残額を超えるものについては，当該給油量又は給油金額の選択ができないようになっている。被告設定器のディスプレイ上では，各給油量及び給油金額について，選択可又は選択不可の区別が表示されている。
      ④  顧客は，給油したい給油量又は給油金額を選択した後，再度，電子マネー媒体を被告設定器のリーダーにタッチさせる。この2回目のタッチ動作により，被告設定器は，電子マネー媒体の残額をあらためて読み取り(なお，1回目のタッチ動作の後に電子マネー媒体が使用されたことにより残額が変動していることが有り得る。)，これをディスプレイ上に表示し，電子マネー媒体の残額から，選択された給油量に対応した支払金額又は選択された給油金額を引き去り，電子マネー媒体にその引去後の残額を書き込む(下線は，当裁判所が付した。以下，同じ。)。被告設定器のディスプレイ上には，顧客が選択した給油量に対応した支払金額(単価×選択された供給量)又は顧客が選択した給油金額を引き去った旨の表示がなされ，引き去られた後の電子マネー媒体の残額が表示される。
      ⑤  上記④の2回目のタッチ動作を行うと，被告設定器のディスプレイ上に給油を開始するよう表示がなされ，選択した給油量又は給油金額の給油が可能な状態になるので，顧客は，給油ノズルを被告計量機から取り出し，車に給油ができるようになる。
      給油中，被告計量機のディスプレイ上には，給油された量が表示され，その表示は給油量に応じて変化する。また，被告計量機のディスプレイ上では，給油量の変化とともに，その時点の給油量に応じた支払額が表示される。この支払額は，油の単価と実際に給油された給油量との積である。
      ⑥  顧客が，給油を途中で止めて給油ノズルを被告計量機の元の位置に戻した場合など上記④で選択した給油量又は給油金額に満たない給油量又は給油金額で給油を終了した場合には，被告設定器のディスプレイ上には，上記⑤のように被告計量機のディスプレイ上に支払額として表示されていたのと同じ金額が購入金額として表示される。このとき，被告設定器のディスプレイ上には，給油しなかった分に相当する額を返金する旨の表示とともに，返金金額が表示される。
      顧客が，上記の返金金額が被告設定器のディスプレイ上に表示された状態で，当該ディスプレイ上の返金を受け取るためのボタンを押すと，被告設定器のディスプレイ上に指示が表示される。それに従い，顧客が電子マネー媒体を被告設定器のリーダーにタッチさせると(3回目のタッチ)，被告設定器は，返金前の電子マネー媒体の残額に返金金額を加算し，電子マネー媒体の残額が加算後の残額となるように電子マネー媒体に残額を書き込む。被告設定器のディスプレイ上には，返金金額をチャージした旨の表示がなされ，電子マネー媒体の返金後の残額が表示される。この返金後の残額は，返金前の電子マネー媒体の残額に返金金額を加算した額である。
      ⑦  顧客が，電子マネー媒体を被告設定器のリーダーにタッチさせ(1回目のタッチ)，給油量の選択を行い，電子マネー媒体を被告設定器のリーダーに再びタッチさせ(2回目のタッチ)，被告設定器のディスプレイ上に給油を開始するよう表示がされた場合でも，その後，そのまま給油しないでいると，被告設定器のディスプレイ上には返金する旨の表示とともに，2回目のタッチ動作による支払金額と同じ金額が返金金額として表示される。この状態のとき，顧客は，被告設定器のディスプレイ上の返金を受け取るためのボタンを押すことができ，これを押すと，上記⑥と同様の動作(3回目のタッチ等)により，電子マネー媒体の残額に2回目のタッチ動作による引去額を加算し，電子マネー媒体の残額が上記引去額を加算した後の残額となるように電子マネー媒体に残額を書き込む。
    (6)
      カード型のFeliCa(Suicaカード，nanacoカード，Edyカード等)は，それ自体にCPU，アンテナ及びメモリ等を備えたコンピュータであり，演算及び通信等の機能を有する(乙37，38の1，38の2)。
      そのため，上記(5)の各下線部の動作は，厳密には，被告給油装置とFeliCaカード(電子マネー媒体)とで分担されている。例えば，同④の下線部では，被告給油装置は支払金額又は給油金額をFeliCaカードに送信し，FeliCaカードが，カード残高から上記金額を引き去る演算を行った上で引去後の残高をメモリに保存する。また，FeliCaカードは，被告給油装置に接続された通信網を通じて，カード発行元及び給油所運営者等に対し，上記金額が当該給油所で利用されたこと等の情報を送信し，カード発行元と給油所運営者との間での決済等を可能にしている。
      このように，厳密な意味では，被告給油装置は，カード残高の引去り等の演算や書込みの動作を行っていない。
    (7)
      ア
        被告給油装置の上記(5)①～⑥の構成及び動作を，本件発明1の構成要件に即して分説すると，次のとおりとなる(下線部は，上記(6)のとおり，FeliCaカードの仕様に照らして必ずしも正確でない。)。
        1a  電子マネー媒体に記憶された金額データを読み書きするリーダーと，
        1b  ガソリンや軽油といった油の供給量を計測する給油量計測手段と，
        1c1  油の供給開始前に前記リーダーによって読み取った電子マネー媒体の金額データが示す金額以下の金額であって，顧客が指定した金額を入金データとして取り込むとともに，
        1c2  前記金額データから当該入金データの金額を差し引いた金額を新たな金額データとして前記電子マネー媒体に書き込ませる入金データ処理手段と，
        1d  該入金データ処理手段により取り込まれた入金データの金額データに相当する油量の油を供給可能とする供給許可手段と
        1e  上記油量に達しない段階で給油を終了した場合に，返金のための金額を演算する演算手段と，
        1f  上記の場合に，上記演算に基づいて算定された返金額を前記電子マネー媒体に書き込ませる料金精算手段と，
        1g  を備えたことを特徴とする給油装置
      イ
        上記アの認定のうち，1e，1fの演算において行われる計算方法については争いがあり，一審被告は，顧客の指定した金額に基づく油量に達しない油量に相当する代金額，すなわち返金額を直接算定し(1e)，それを電子マネー媒体に書き込んでいる(1f)と主張するのに対し，一審原告は，本件発明1の構成要件1E，1Fと同様の計算が行われていると主張しているが，この点についての判断は留保する。
        また，一審原告は，ⅰ)1a，1c1，1c2及び1fの「電子マネー媒体」について，一審被告は，原審段階で，このような特定を主張することなく被告給油装置が用いているのは「記憶媒体」であることを認めていたものであるからこの点について自白が成立し，今の段階になってこれを争うことは許されない，ⅱ)1c1の「顧客が指定した金額」という点についても，一審被告は，そのような限定なしに，本件発明1の構成要件1C1充足性を認めていたものであるから，やはり自白が成立し，今の段階になってこれを争うことは許されない，と主張している。これらの主張の当否については，後に改めて検討する。
      ウ
        被告給油装置は，上記(5)②～④の動作に関し，次のような構成も含み得るものと考えられる。
        2a  入金データ処理手段は，油の供給開始までに電子マネー媒体の金額が示す金額よりも少ない金額を入金データとして取り込むと共に，当該電子マネー媒体から当該入金データの金額を差し引く
      エ
        被告給油装置の上記(5)⑦の動作は，「返金手段」の構成として，本件発明3の構成要件に即して次のとおり記述することができる。
        3a  油の供給前に返金指示があったときは，油の供給前に前記入金データ処理手段により取り込まれた入金データの金額を前記電子マネー媒体の金額データの金額に加算する返金手段
    (8)
      上記(7)のとおり記述された被告給油装置の構成要件のうち，1b，1g，2a，3aは，それぞれ，本件発明の構成要件1B，1G，2A，3Aを充足する(争いがない。)。
      これに対し，その他の構成要件1a，1c，1e，1fについては，その構成要件充足性について争いがある(詳細は後述する。)。
  3 前提事実等(その2)
    以下の事実等は，当事者間に争いがないか，掲記の証拠により容易に認められる。
    (1) 145号審判について
      ア 審判請求
        一審被告は，本件原審係属中の平成30年12月17日，特許庁に対し，本件特許の無効審判を請求した(無効2018-800145号。以下「145号審判」という。)。無効理由の要旨は，次のとおりである。
        なお，同審判の甲号証を，「審判甲A1」のように表記する。
        〔無効理由〕
        本件発明1は特開平7-210754号公報(乙14の1公報(審判甲A1)。以下「審判甲A1公報」という。)に記載された発明に対する関係で進歩性を有しない。
      イ 審決の予告
        令和2年2月21日，特許庁は，一審被告の上記主張には理由があるとして，本件発明1を無効とする旨の審決の予告をした。
      ウ 本件訂正
        (ア)
          令和2年6月29日，一審原告は，本件特許の訂正請求(以下「本件訂正」という。)をした。
        (イ)
          本件発明1についての訂正の実質的な内容は，構成要件1Gの記載を次のとおり訂正するもので，構成要件1X及び1Yの各下線部分が付加されている。
          「1X  を備える，給油所で燃料を給油する流体供給装置であって，
          1Y  前記記憶媒体読み書き手段により記憶媒体の金額データを読み取った後，前記記憶媒体の金額データが示す金額以下の金額を入金データとして取り込む前に，給油処理を中止することが可能である，流体供給装置。」
          本件発明8についても，構成要件1X及び1Yと実質的に同内容の構成を付加する訂正がなされた。
        (ウ)
          本件発明3についての訂正の実質的な内容は，次の構成要件3Zを附加するものである。
          「3Z  更に紙幣挿入部を備える，」
        (エ)
          なお，本件訂正前の請求項3は，請求項1及び2を引用していたところ，本件訂正においては，請求項2を引用する部分は独立請求項とされ，新たに追加する請求項9に移された。請求項9も，上記1X，1Y及び3Zに相当する構成を備える。
        (オ)
          被告給油装置は，本件訂正によって付加された構成要件1X及び3Zを充足するが，構成要件1Yの充足性については後記のとおり争いがある。
    (2) 146号審判について
      ア 審判請求
        一審被告は，上記(1)の無効審判請求と同日，特許庁に対し，本件特許の無効審判を請求した(無効2018-800146号。以下「146号審判」という。)。無効理由の要旨は，次のとおりである。
        なお，同審判の甲号証を，「審判甲B1」のように表記することがある。
        〔無効理由1〕
        本件発明1は，一審被告製造のアイランド精算用外設端末SF-1000において公然実施された発明との関係で進歩性を有しない(乙16の1(審判甲B1)はSF-1000のマニュアルで，以下，「審判甲B1マニュアル」といい，SF-1000を以下「審判甲B1装置」という。)。
        〔無効理由2〕
        本件発明1は，特開平11-130198号公報(乙16の4(審判甲B4))に記載された発明に対する関係で進歩性を有しない(乙16の4は，乙3と同一の文献なので，以下では原判決に従い「乙3公報」という。)。
        〔無効理由3〕
        本件発明1は，特開平4-57794号公報(乙16の21(審判甲B21)。以下「審判甲B21公報」という。)に記載された発明に対する関係で進歩性を有しない。
      イ
        146号審判については，審決の予告も訂正請求もなされていない。
  4 争点(以下，順に「争点1」のようにいう。)
    (1) 被告給油装置は本件発明1の技術的範囲に属するか
    (2) 被告設定器は被告給油装置の間接侵害品に当たるか
    (3) 侵害につき一審被告に過失があるか
    (4) 本件特許が特許無効審判により無効にされるべきものか
    (5) 損害の有無及びその額
    (6) 差止請求及び廃棄請求の対象となる製品の範囲
第3 当事者の主張
  1 争点1(充足論)について
    一審原告は，被告給油装置は本件発明1(本件訂正後のものも含む。)の技術的範囲に属する旨主張し，一審被告は，これを否認する。以下，一審被告の否認の理由ごとに，一審被告の主張，一審原告の主張の順に摘示する(なお，下記(1)以下の一審被告の各主張を順に「非侵害論主張①」のようにいう。)。
    なお，以下においては，本件発明1の関係に限って主張を整理し，判断を示すこととするが，その理由は次のとおりである。
    すなわち，本件発明2の構成要件2A充足性及び本件発明3の構成要件3A充足性については当事者間に争いがなく，構成要件2B及び3Cは「～を特徴とする流体供給装置」というだけの文言であって被告給油装置がこれに該当することは自明である。残る本件発明3の構成要件3Bは，本件発明1の構成要件1Eの「演算手段」及び同1Fの「料金精算手段」を，「前記流体の供給後に返金指示があったとき」の「返金手段」として記述したものにすぎず，本件発明1及び2の技術的範囲を限定する等の特段の意義を有しない。なぜなら，「残った差額データ」(1F)があるときにこれを「返金」しないで済ませることはおよそ考え難く，「返金指示」が必ずなされ，「返金手段」を備える必要があるはずであるし，そのための計算方法等について特段の定めをしているわけでもないからである。したがって，構成要件3B充足性を，構成要件1E，1F充足性とは別個に，独立して検討する必要はない。
    また，本件発明8は，上記「第2」2(3)イのとおり，本件発明1の給油装置の構成を，その動作を実行させるプログラムという観点から記述したものにすぎないから，被告給油装置が本件発明1の構成要件を充足するか否かと，被告プログラムが本件発明8の構成要件を充足するか否かは，当然に一致する。
    したがって，本件発明1の構成要件充足性に関する結論と，本件発明2，3，8の構成要件充足性に関する結論は同一となるから，後者を独立に検討する必要はなく，被告給油装置及び被告プログラムが本件特許権(後記の本件訂正による訂正前のもの)を侵害するか否かを判断するに当たっては，本件発明1の構成要件との関係で検討をすれば足りる。
    (1) 1Cの非充足(非侵害論主張①)
      〔一審被告の主張〕
      一審原告は，1回目のタッチによって読み取られる金額(具体的動作②)が，構成要件1c1の「リーダーによって読み取った電子マネー媒体の金額データ」(1c2の「前記金額データ」)に該当するとして，構成要件1Cの充足を主張している。
      しかしながら，構成要件1c1の金額データは，2回目のタッチによって読み取られる金額(具体的動作④)であるから，一審原告の主張は前提において誤っている。
      〔一審原告の主張〕
      ア
        一審被告は，原審の答弁書において構成要件1Cの充足を認めたため，自白が成立しており，この自白の撤回は許されない。
      イ
        1回目のタッチによって読み取られる金額と，2回目のそれとが異なり得るのは，1回目と2回目との間の短時間にカードを利用して別の買物をする等の異常な操作で動作させた場合に限られ，通常の動作においては金額が異なることはないから，構成要件1Cを充足する。一審被告の主張は，被告給油装置には本件特許を侵害しない例外的な使用態様があり得ることをいうものにすぎず，侵害との結論を左右しない。
    (2) 1C2，1F3，1F4の非充足(非侵害論主張②)
      〔一審被告の主張〕
      被告給油装置は，電子マネー媒体(FeliCaカード)に対して，加減すべき金額を指定して演算及び書込みの指示を行っているにすぎず，自ら加減演算や残高書込みを行っていないから，構成要件1C2，1F3，1F4を充足しない。
      〔一審原告の主張〕
      ア
        一審被告は，原審において，FeliCaカードの仕様に基づく上記のような主張を行わず，構成要件1Cの充足を認めた。また，構成要件1Fの充足の否認も，他の理由に基づくものであり，被告給油装置が加減演算や残高書込みを行っているとの点は争わなかった。したがって，一審被告の主張は，既に自白が成立した事実に関するものであり，この自白の撤回は許されない。
      イ
        FeliCaカードの仕様に関して提出された証拠によっては，一審被告主張どおりの動作が行われているとは証明されていない。
      ウ
        仮に，一審被告主張どおりの動作が行われているとしても，被告給油装置は，FeliCaカードに命令を出してその動作を制御しており，書き込まれた残高をディスプレイに表示して顧客の確認を受ける等の形でFeliCaカードの動作に関与している。そうすると，被告給油装置が，主体的に加減演算及び残高書込みの動作を制御し，これらを行っているといえるから，構成要件1C2，1F3，1F4を充足する。
    (3) 1E，1Fの非充足(非侵害論主張③)
      この点に関する双方の主張(均等侵害に関する主張を含む。)は，原判決14頁15行目から23頁15行目までに記載のとおりであるから，これを引用する。
    (4) 1C1の非充足(非侵害論主張④)
      〔一審被告の主張〕
      本件明細書等の記載を参酌すると，構成要件1C1の「記憶媒体の金額データが示す金額以下の金額」は，残高全額(【0037】)又は「予め決められた設定金額」(【0049】)であり，後者は，例えば，セルフサービス方式の計量機が設置された給油所(以下「セルフ式GS」という。)に関する行政規制に従って2万円に設定される。これに対し，被告給油装置の構成要件1c1では，「電子マネー媒体の金額データが示す金額以下の額」は，顧客によって，利用の都度，設定される。
      また，構成要件1C1の「入金データとして取り込む」は，「①金額データの読取り，②入金データの取込み，③給油料金の設定，④給油」の順に動作する。これに対し，被告給油装置の構成要件1c1では，②と③との順序が逆である。
      これらの点で，被告給油装置は，本件発明1の構成要件1C1を充足しない。
      〔一審原告の主張〕
      ア
        一審被告は，原審の答弁書において構成要件1Cの充足を認めたため，自白が成立しており，この自白の撤回は許されない。
      イ
        特許発明の技術的範囲は特許請求の範囲の記載に基づいて定められるものであり，明細書に記載された実施例の具体的な構成に限定して解釈されるべきものではない。そして，本件発明1の特許請求の範囲の記載は，取り込まれる入金データの額が残高の額「以下」であれば誰がその具体額を設定するか限定していないし，②と③との順序についても限定していないから，一審被告の上記主張は，被告給油装置の構成要件1c1が本件発明1の構成要件1C1に該当することを左右しない。
        なお，本件明細書等の【0061】～【0068】及び【図9】には，取り込まれる入金データの額が顧客設定の給油額であって(【図9】(B)の「設定した給油額をお預かりします」，(C)の「お預かり金額／3,000円」)，③(給油料金の設定)が②(入金データの取込み)の前に行われる実施例も開示されているから，明細書の記載を参酌して構成要件1C1を限定解釈したとしても，上記結論には変わりがない。
    (5) 1A，1C，1F3，1F4の非充足(非侵害論主張⑤)
      〔一審被告の主張〕
      被告給油装置の「電子マネー媒体」は非接触式ICカードのFeliCaカードであるところ，本件明細書等には，非接触式ICカードについては何らの説明もサポートもない。
      そもそも，非接触式ICカードを使用すると，カードの取り忘れという，本件発明が解決すべき課題は存在しなくなる。また，本件明細書記載の実施例の動作フローは，一定時間内はカードが給油装置内に保持されていることを前提とするから，非接触式ICカードを利用することはできない。
      したがって，被告給油装置の構成中の「電子マネー媒体」は本件発明1の構成要件中の「記憶媒体」に該当しない。
      〔一審原告の主張〕
      ア
        一審被告は，原審の答弁書において，何の留保もなく被告給油装置が本件発明1の「記憶媒体」という構成を有することを認めていた。したがって，一審被告の主張は自白の撤回に当たり許されない。また，この主張は，控訴審段階になって初めて行われたものであり，時機に後れたものでもある。
      イ
        本件発明の「記憶媒体」は，1C及び1Fの動作に適した「記憶媒体」であればよく，被告給油装置に用いられる非接触式ICカードを当然に含む。本件明細書にも，「実施例では，プリペイドカードを記憶媒体として説明したが，……金額データを記憶するためのICメモリが内蔵された電子マネーカードを用いることができる」【0070】と記載されており，本件特許出願時点で非接触式ICカードもよく知られていたから，「記憶媒体」は非接触式ICカードを含む。
      ウ
        非接触式ICカードが券売機に取り込まれて利用され得ることは周知であり，本件明細書の【0010】【0074】には，設定器内部にカードを取り込んだままとしない記憶媒体を用いることができることが示されているから，非接触式ICカードが本件発明の「記憶媒体」に当たらないとはいえない。
    (6) 1Yの非充足
      〔一審被告の主張〕
      被告給油装置においては，上記具体的動作④のとおり，2回目のタッチの際に，その時点における電子マネー媒体の残高の読取りと，選択された給油量に対応した支払金額(又は選択された給油金額)の引去りとがほぼ同時に行われるので，読取りと引去りとの間に給油処理を中止することは不可能である。
      一審原告の下記主張は，1回目のタッチの際に残高を読み取ることと，2回目のそれとの技術的意義を同一視することを前提にするものであって，上記(1)で述べたとおり，前提において誤っている。
      〔一審原告の主張〕
      被告給油装置の通常の使用方法においては，1回目のタッチによって金額を読み取ってから，2回目のタッチにより支払金額を引き去るまでの間に給油処理を中止することが可能であるから，構成要件1Yを充足する。
  2 争点2(間接侵害)について
    双方の主張は，原判決25頁3行目から26頁26行目までに記載のとおりであるから，これを引用する。
  3 争点3(過失)について
    双方の主張は，原判決27頁2行目から17行目までに記載のとおりであるから，これを引用する。
  4 争点4(無効論)について
    双方の主張は，下記(1)～(6)のとおりである(順に「無効主張A」などという。)。このうち，下記(1)，(2)，(4)の無効主張A，B，Dは，原審においても主張されたが，侵害論の心証開示後の主張であったため，原審裁判所は，時機に後れた攻撃防御方法としてこれらを却下した。一審原告は，当審においても，下記の各主張に先立ち，同様に却下を求めている。
    なお，特許法104条の3の無効の抗弁に関しても，上記1の充足論と同様に，もっぱら本件発明1についてのみ主張を整理し，判断を示すこととするが，その理由は次のとおりである。
    まず，本件発明2の構成要件2Aは，記憶媒体に記憶された金額から一定金額を引き去る際，全額を引き去ることとはせず，必ず一定額が残存するようにしたものであるが，このような全額引去りを認めるか，認めないかの選択は，特段の技術的創意を要しない設計的事項というべきものであるから，本件発明1が新規性，進歩性を欠き無効とされた場合に，その従属項である本件発明2が，構成要件2Aの存在を理由に新規性，進歩性を有すると判断されることは考えられない。
    また，本件発明3の構成要件3Aと3Bは，給油前に返金指示があった場合は既に引き去った額を返金し(3A)，給油後に返金指示があった場合は給油量に基づく精算を行った上で残金を返金する(3B)ことを定めたものであるが，前者(3A)は，当業者であれば誰でも思いつく常識的事項というべきものであり，後者(3B)は，本件発明1の1Eと1Fと実質的に同一であって本件発明1とは別個の技術的意義を有するものではないから，これらにより発明の新規性，進歩性が基礎付けられるようなものであるとは考えられない。したがって，本件発明1が新規性，進歩性を欠き無効とされた場合に，その従属項である本件発明3が，新規性，進歩性を有すると判断されることは考えられない(ただし，訂正によって追加された構成要件3Zに関連する部分に限っては，主張を整理し，判断を示すこととする。)。
    さらに，本件発明8は，本件発明1をプログラムという観点から記述したものにすぎず，独自の技術的意義を有しないことも既に説示したとおりであるから，無効事由の有無を判断するのに当たって，本件発明1と別個に，独自の検討をする必要はない。
    (1) 審判甲A1発明に基づく新規性・進歩性欠如(無効主張A)
      〔一審被告の主張〕
      ア
        審判甲A1には，以下の発明が記載されている。
        1a  非接触型プリペイドカードに記憶されたプリペイ金額データを読み書きする非接触型プリペイドカード読み書き手段と，
        1b  水の供給量を計測する流量検出装置と，
        1c1  水の供給開始前に非接触型プリペイドカード読み書き手段により読み取った非接触型プリペイドカードのプリペイ金額データ以下の使用者の指定した入金額だけ水道メータに残すと共に，
        1c2  プリペイ金額データから入金額を差し引いた金額を新たなプリペイ金額データとして非接触型プリペイドカードに記憶させる入金手段と，
        1d  入金手段により取り込まれた入金データの金額に相当する水量を演算しその限度で供給可能とする演算及び遮断手段と，
        1e  流量検出装置により計測された水量から請求金額を演算する演算手段と，
        1f1  流量検出装置により計測された水量に相当する金額を演算手段に演算させ，
        1f2  演算された水道料金を入金額より差し引き
        1f3  残った残金データの金額を非接触型プリペイドカードのプリペイ金額データに戻し，
        1f4  戻した後のプリペイ金額データを非接触型プリペイドカードに書き込む手段と，
        1g  を備えたことを特徴とする水供給装置。
      イ
        審判甲A1発明は，本件発明1の構成要件をすべて備えるから，本件発明1は，新規性を欠く。また，仮に，審判甲A1発明と本件発明1との間に，一審原告主張の相違点が存するとしても，その相違点に係る本件発明1の構成は，周知技術により容易想到である。
        ウ(訂正の再抗弁に対する反論)
        (ア)(訂正要件違反)
        a 構成要件1Yについて
          本件発明は，プリペイドカードを用いた決済方法で給油を行う場合に生じる課題を解決するためのものであり，利用客が実際に給油を行い，料金を精算することが各発明の当然の前提となっている。しかし，追加された構成要件1Yによれば，利用客がプリペイドカードを投入し，キャンセルし，プリペイドカードを取り出すことが行われるだけで，前払も，給油も，精算も生じない。
          このように，構成要件1Yを追加する訂正は，本件発明の目的とは全く関係のない新たな作用効果を生じさせ，特許請求の範囲を実質的に拡張・変更するから，訂正要件に違反する。
        b 構成要件3Zについて
          本件発明は，プリペイドカードを用いた決済方法で給油を行う場合に生じる課題を解決するためのものであり，特許請求の範囲にも記憶媒体を用いた決済についてのみが記載されている。本件発明は，紙幣を用いて決済することを全く想定していない。
          よって，本件発明に構成要件3Zを付加して紙幣の使用を可能にすることは，本件発明の目的と異なる新たな作用効果を生じさせ，特許請求の範囲を実質的に拡張するから，訂正要件に違反する。
          (イ)(訂正により付加された構成の容易想到性)
        a 構成要件1Xについて
          審判甲A1発明は水・ガス供給装置に関するものであるのに対し，訂正後の本件発明(以下「本件訂正発明」という。)は，構成要件1Xの追加により燃料給油装置に限定された。しかしながら，水・ガス供給装置と燃料給油装置とは技術分野が関連すること，カードの取り忘れの防止等の課題が共通すること，審判甲A1には燃料給油装置への適用を示唆する記載があることからすれば，審判甲A1発明を燃料給油装置に適用すること(構成要件1X)は容易想到である。
        b 構成要件1Yについて
          構成要件1Yは，審判甲A1発明を給油所の給油装置に適用するに当たって実用上当然に備えるべき構成であり，設計的事項または周知慣用技術の適用にすぎないから，容易想到である。
        c 構成要件3Zについて
          給油所の給油装置において，カードに加えて現金でも決済できるようにすることは周知の事項であるから，容易想到である。
          〔一審原告の主張〕
          ア(一審被告の上記主張イに対し)
          (ア) 相違点1-1の存在
            審判甲A1発明では，非接触型プリペイドカードをメータに近付けると，残高を読み取った上で直ちにその全額がメータに取り込まれ，その後，使用者の指定した金額を差し引いた額を同カードに書き込んでいる。この点において，「読取り」と「取込み」とが独立した工程となっている本件発明1の構成要件1C1とは相違する。
          (イ) 相違点1-2の存在
            審判甲A1発明では，料金を精算した上で払い戻しを行うことは開示されているが，その具体的演算方法は開示されていない。この点において，当該演算に関する本件発明1の構成要件1F2を備えない。
          (ウ) 相違点1-1の非容易想到性
            審判甲A1発明は，貸別荘等の生活インフラ(水道，ガス，電気等)の供給装置に係る発明である。水道等は生活に必需であり，また，滞在中の使用量を事前に予測することも難しいから，使用者は，原則としてカード残高の全額分の供給を望む。審判甲A1発明で，カード残高全額を直ちに取込むこととしているのはこのためであり，使用者の指定した金額を差し引いてカードに戻すための「定額入金回路」は，あくまでも付加的なものにすぎない。
            このような審判甲A1発明について，あえて設計変更をして，カード残高の一部のみを取り込む本件発明1の構成を採用することには，阻害要因があり，動機付けはない。また，カード残高の一部のみを取り込むことを想到するとしても，審判甲A1発明においては「定額入金回路」によって同じ効果を既に実現できているから，これにあえて変更を加えて本件発明1の構成とすることには阻害要因があり，動機付けはない。
            イ(訂正の再抗弁)
          (ア)
            本件訂正によって付加された構成要件1X，1Y，3Zは，いずれも審判甲A1発明との相違点となる。
          (イ) 構成要件1Xの非容易想到性
            給油所に用いる給油装置(本件訂正発明)と貸別荘等に用いる給水等装置(審判甲A1発明)とでは，技術分野が異なる。また，前者は接触式プリペイドカードのほか，現金やクレジットカードも扱える必要があるのに対し，後者はこれらの決済手段を想定していない。
            したがって，審判甲A1発明に接した当業者にとって，構成要件1Xを想到することは容易でない。
          (ウ) 構成要件1Yの非容易想到性
            上記ア(ア)(ウ)のとおり，審判甲A1発明では読取りと取込みとが同時であり，これは同発明の用途に照らして本質的な構成である。したがって，読取りと取込みとの間に給油処理を中止できるとの構成要件1Yを想到することは，審判甲A1発明に接した当業者にとって容易ではない。
          (エ) 構成要件3Zの非容易想到性
            審判甲A1発明の技術的思想は，現金を利用する従来のメータの不便を，代わりに非接触型プリペイドカードを用いて決済を行うことにより解決したものであり，現金を併用する態様は積極的に排除されている。したがって，審判甲A1発明の構成を，紙幣挿入部を設けて現金を併用できるように変更することには阻害要因がある。
    (2) 審判甲B1装置を主引用例とする進歩性欠如(無効主張B)
      〔一審被告の主張〕
      ア
        一審被告製造のアイランド精算用外設端末SF-1000(審判甲B1装置)は，セルフ式の給油装置であり，本件出願日以前に公然実施された。審判甲B1装置を現金決済により利用する際の動作は操作マニュアル(乙16の1(審判甲B1))記載のとおりであり，その具体的な内容は，次のとおりである。
        1a  現金を受け入れる口がある。
        1b  顧客から代金を受け取って給油をさせる装置であり，給油する量を計測する流量計測手段である給油機を有している。
        1c1  給油開始前に，顧客が，自分の財布の中の現金額を確認して，その現金額以下の金額を現金投入口に投入する。顧客の財布には，前記投入前に顧客が財布に保有していた金額から，顧客が現金投入口に投入した金額を差し引いた金額が残っている。そして，給油装置には，顧客が現金投入口に投入した(顧客の財布の中の現金額以下の，投入口に投入された)現金が取り込まれる。
        1d  取り込まれた投入した現金の金額に相当する給油を可能とする供給許可手段を有する。給油所であるから，現金投入口に投入され，給油装置内に取り込まれた現金額に相当する給油が行われる。
        1e  給油装置の計量器により計測された流量値から請求すべき料金を演算する演算手段を有する。
        1f1  給油装置の計量器により計測された流量値に相当する金額を前記演算手段により演算させ，
        1f2  当該演算された料金を，前記の現金投入口から投入された現金の金額より差し引く。
        1f3  残った差額データの金額を，おつりとして返金する。
        1g  を備えたことを特徴とする液体供給装置である。
      イ
        本件発明1と，審判甲B1装置とは，次の3点において相違する。
        〔相違点1〕
        本件発明1は，記憶媒体に記憶された金額データを読み書きする記憶媒体読み書き手段を備えるのに対し，審判甲B1装置は，これを備えない。
        〔相違点2〕
        本件発明1は，記憶媒体の金額データが示す金額以下の金額を入金データとして取り込むと共に(1C1)，上記金額データから上記入金データを差し引いた金額を新たな金額データとして前記記憶媒体に書き込ませる入金データ処理手段を備える(1C2)のに対し，審判甲B1装置は，これを備えない。
        〔相違点3〕
        本件発明1は，給油代金額を差し引いて残った差額データの金額を上記記憶媒体の金額データに加算し(1F3)，当該加算後の金額データを記憶媒体に書き込む料金精算手段(1F4)を備えるのに対し，審判甲B1装置は，これを備えない。
      ウ
        しかしながら，本件発明1の構成は，審判甲B1装置の現金決済の手順を，本件出願日時点で公知(特開平10-289354公報(乙16の2(審判甲B2)))又は周知であった非接触式電子マネーを用いた決済手順に置換しただけのものであり，上記の各相違点に係る本件発明1の構成は，このような置換を行おうとする場合には，当然に備わるべきものであるから，当業者が容易に想到し得た。
        〔一審原告の主張〕
      ア
        一審被告は，SF-1000が2000年以前に製造販売され，その操作マニュアルが審判甲B1である旨主張するが，審判甲B1の発行日付は2001年3月である。装置の販売開始後になって操作マニュアルが発行されることはあり得ないから，審判甲B1はSF-1000の操作マニュアルではなく，審判甲B1によってSF-1000の動作を立証することはできない。
        なお，一審被告が提出したその他の書証も，同様に2001年3月発行の操作マニュアル(乙16の18)や，端末の動作を認定できない記事(乙16の9，同23，同24)であり，SF-1000の動作が一審被告の主張どおりであることは立証されていない。
      イ
        主引用発明を，審判甲B1装置に現金を投入した場合の構成で認定するのであれば，プリペイドカード等の記憶媒体を使用する本件発明とは構成が全く異なったものになる上，本件発明と共通する解決課題が生じ得ない。
      ウ
        一審被告の主張は，ⅰ)現金による支払を記憶媒体による支払とすることが容易であること，及び，ⅱ)記憶媒体による支払とした場合に本件特許発明の構成とすることが容易であること，という2段階の容易想到性により進歩性欠如を主張するものであるから，いわゆる「容易の容易」の主張であって，理由がない。
      エ
        一審被告は，本件発明は人間が現金により行ってきた給油代金の支払を電子マネーによる支払に置き換えたものにすぎず，特許庁の審査基準によれば容易想到とされる「人間が行っている業務やビジネス方法のシステム化」に当たるとも主張するが，支払方法が現金であれ電子マネーであれ，人間がそれらを提供して装置が処理する点で共通するのであって，本件発明は，「人間が行っている業務やビジネス方法のシステム化」に該当しない。
    (3) 乙3公報(審判甲B4公報)を主引用例とする進歩性欠如(無効主張C)
      双方の主張は，原判決40頁21行目から43頁11行目までの記載(同部分において引用されている原判決36頁19行目から37頁23行目までの記載を含む。)のとおりであるから，これを引用する。
    (4) 審判甲B21公報を主引用例とする進歩性欠如(無効主張D)
      〔一審被告の主張〕
      ア
        審判甲B21公報には，次の発明が記載されている。
        1a  投入された現金を読み取る現金読み取り手段と，
        1b  流体の供給量を計測する流量計測手段と，
        1c1  前記流体の供給開始前に現金読み取り手段により読み取った金額データが示す金額以下の金額を入金データとして取り込むと共に，
        1c2  前記金額データから当該入金データの金額を差し引いた金額を新たな金額データとして記録する入金データ処理手段と，
        1d  当該入金データ処理手段により取り込まれた入金データの金額データに相当する流量を供給可能とする供給許可手段と，
        1e  前記流量計測手段により計測された流量値から請求すべき料金を演算する演算手段と，
        1f1  前記流量計測手段により計測された流量値に相当する金額を前記演算手段に演算させ，
        1f2  当該演算された料金を前記入金データの金額より差し引き，
        1f3  残った残額データの金額を釣銭として払い戻す精算手段
        1g  を備えたことを特徴とする流体供給装置
      イ
        本件発明1と審判甲B21公報に係る発明(以下，「審判甲B21発明」という。)とは，次の点で相違する。
        〔相違点1〕
        本件発明1は，記憶媒体に記憶された金額データを読み書きする記憶媒体読み書き手段を備えるのに対し，審判甲B21発明は，これが投入された現金を読み取る現金読み取り手段である。
        〔相違点2〕
        本件発明1は，1C1，1C2の構成において，記憶媒体と記憶媒体読み書き手段との間で，金額データの取り込みや書き込みを行っているのに対し，審判甲B21発明は，1c1，1c2の構成において，取り込む金額は，現金読み取り手段により読み取った金額であると共に，現金読み取り手段から読み取った金額データから入金データの金額を差し引いた金額を新たな金額データとして記憶媒体に書き込むという操作を欠いている。
        〔相違点3〕
        本件発明1は，給油代金額を差し引いて残った差額データの金額を上記記憶媒体の金額データに加算し(1F3)，当該加算後の金額データを記憶媒体に書き込む料金精算手段(1F4)を備えるのに対し，審判甲B21発明は，これを備えない。
      ウ
        しかしながら，上記の各相違点は，いずれも，顧客が自分の財布から現金を支払う代わりに，電子マネーにより支払うことによる相違点である。そして，現金決済の手順を電子マネーによる決済の手順に置換するのが容易想到であることは，上記(2)と同様である。
        〔一審原告の主張〕
        審判甲B21発明においては，「貨幣を投入した顧客に識別符号を付した購入伝票を発行すること」等が，課題を解決するために必須の構成であるから，これらを除外して引用発明(一審被告の主張する「審判甲B21発明」)を認定するべきでない。
        また，審判甲B21発明は，現金決済を前提とするものであるから，「記憶媒体」のデータの読取り，取込み及び書込み等の構成を有しない。一審被告は，これらの相違点は，電子マネーによる決済を開示する文献(特開平10-289354(乙10)等)に記載された技術事項の適用により容易想到である旨主張するが，これらの文献は給油装置に関するものではないから技術分野が異なる上に，上記のとおり貨幣(現金)取引を前提とした課題解決手段を必須の構成とする発明(審判甲B21公報が開示する発明)に対して，電子マネーによる決済を適用することは，解決すべき課題と矛盾する技術の組合せであり，当業者にとって容易想到でない。
    (5) 給油装置に関する周知慣用技術に基づく進歩性欠如(無効主張E)
      〔一審被告の主張〕
      一審被告は，原審において，特開2000-335698(乙1公報)に記載された従来技術を主引用発明とする進歩性欠如の主張(原判決27頁22行目から30頁9行目まで)をした。この主張は，乙1公報を主引用例とする進歩性欠如の主張としては撤回するが，乙1公報その他複数の文献に共通に記載された周知慣用技術を主引用発明とする進歩性欠如の主張として維持する。
      〔一審原告の主張〕
      複数の文献の記載事項を組み合わせて主引用発明を認定する手法は許されないこと，一審被告のいう「周知慣用技術」(原審で一審被告が主張した「引用発明1」)から本件発明1に想到するのが容易でないことは，原審において主張したとおりである(原判決30頁11行目から35頁19行目まで)。
    (6) 乙2公報を主引用例とする進歩性欠如(無効主張F)
      双方の主張は，原判決35頁21行目から40頁19行目までに記載のとおりであるから，これを引用する。
  5 争点5(損害論)について
    双方の主張は，原判決47頁7行目から52頁10行目までに記載のとおりであるから，これを引用する。
  6 争点6(差止請求等の対象)について
    双方の主張は，原判決52頁12行目から23行目までに記載のとおりであるから，これを引用する。
第4 当裁判所の判断
  1 本件発明の技術的意義等
    (1) 本件明細書の記載
      本件明細書には，本件発明の課題，解決手段及び効果等について，以下の内容が記載されている。
      ア 発明の属する技術分野
        本件発明は，プリペイドカードを使用して流体の料金を精算するよう構成された流体供給装置及びプログラムに関する。(【0001】)
      イ 従来の技術
        従来，セルフ式GSの燃料供給システムにおいて，顧客が，プリペイドカードを用いた決済方法で給油する場合には，空いている計量機の前に車両を停止させ，プリペイドカードをカードリーダライタ(以下「R／W」という。)に挿入した後，油種選択スイッチで給油する油種を指定し，当該指定した油種の給油ノズルを車両の給油口に差し込んで給油を開始し，給油が終了すると，給油量に応じた給油金額がプリペイドカードに記憶された残金データから差し引かれ，残った金額データがプリペイドカードに書き込まれ，返却されていた。(【0004】)
      ウ 発明が解決しようとする課題
        上記の従来技術(以下「本件従来技術」という。)では，①プリペイドカードがカードリーダライタに挿入されてしまうと，外部からプリペイドカードが見えないため，給油終了後にプリペイドカードを挿入してあるのを忘れてしまい，プリペイドカードを置いたまま給油所から退場してしまうおそれがあり，②プリペイドカードが給油中の計量機に設けられたカードリーダライタに挿入されている場合，その間に例えば飲み物の自動販売機等にプリペイドカードを挿入して飲み物を購入するなどの他の用途にプリペイドカードを用いることができず不便であり，③プリペイドカードの一部がカード挿入口からはみ出した状態で給油開始されるように構成された方式では，給油終了後のカード忘れが防止される反面，給油中にプリペイドカードを引き抜くことができるため，プリペイドカードが盗難にあう可能性があり，運転者が計量機から離れられない，という三つの課題(以下「本件3課題」という。)があった。(【0005】～【0007】)
      エ 課題を解決するための手段
        本件発明は，本件3課題の解決手段として，流体の供給開始前に，記憶媒体の金額データが示す金額(x)以下の金額(y)を入金データとして取り込み，金額データxから当該入金データの金額yを差し引いた金額(x-y)を新たな金額データとして書き込ませること，入金データyに相当する流量を供給可能とすること，流体の供給後に請求すべき金額(z)を確定し，入金データとして取り込んだ額yと上記請求すべき金額zとの差額(y-z)の金額を記憶媒体の金額データ(x-y)に加算し，当該加算後の金額データ((y-z)＋(x-y)＝(x-z))を記憶媒体に書き込むことなどの制御を行うという手段等を採用した。(【0009】～【0011】，【0016】)
      オ 発明の効果
        本件発明の構成をとることで，流体供給中に記憶媒体を抜くことができるようになるので上記①及び②の課題を解決できる。また，給油中に記憶媒体が差し込まれたままであるとしても，その残高はゼロ又は低額となっているため，盗難の被害額が抑えられ，上記③の課題を解決できる。(【0073】【0074】)
    (2) 先引落しの処理を加えることの技術的意義
      ところで，本件従来技術では，給油操作の開始前にプリペイドカードをR／Wに挿入することとされているが，プリペイドカードとR／Wとの間で給油代金の引落し及び残高の書込みが行われるのは，給油操作の終了後である(以下「後引落し」という。)。そうすると，本件3課題を解決するためには，より簡便な手段として，給油操作の終了後に初めてプリペイドカードをR／Wに挿入すればよいとすることが考えられる。また，給油操作の開始前に，記憶媒体の金額データが示す金額(以下「カード残高」という。)xを認識する目的で，プリペイドカードを給油装置に挿入することが必要であるとしても，それだけの目的であれば，カード残高xを読み取った後にはいったんプリペイドカードを給油装置から抜き，給油終了後に再度挿入するように仕様を変更するだけで，本件3課題は簡便に解決できる。
      課題解決のためにこれらの簡便な手段があるにもかかわらず，本件発明においては，給油開始前に金額yを引き落とすという処理(以下「先引落し」という。)を加えている。また，実際の給油金額zは，金額yと異なることが多いから，その場合は給油終了後にその差額を精算する処理(以下「後精算」という。)も必要となる。そのため，プリペイドカードの金額データの書換え等の処理の機会が，1度から2度へ増加することになり，全体プロセスは複雑化する。
      このように，全体プロセスの複雑化という結果を生じるにもかかわらず，本件発明が「先引落し」の処理を加える構成をあえて採用したことの理由は，本件明細書には記載されていない。しかし，セルフ式GSでの利用を前提とする限り，その理由は，上記の簡便な手段では，顧客が給油終了後に代金決済をせずに立ち去る可能性を排除できないことにあると推認するのが合理的である(乙4(特開平11-11594号公報。以下「乙4公報」という。)の【0002】【0003】には，現金決済のセルフ式GSについて，「給油代金を支払わずに逃げられてしまう可能性」があるため，「後払い方式」よりも「前払い方式」が好ましい旨の記載がある。)。
      すなわち，不特定多数の顧客を対象とするセルフ式GSにおいては，顧客から何らかの「担保」を取らないで給油を許可することは，GS運営者にとって，代金回収不能のリスクを伴う。本件従来技術において，給油操作中はプリペイドカードをR／Wに挿入したままにしておいたのは，このリスクを避けるため，残高相当の価値を化体するプリペイドカードを担保に取っていたといえる。そして，本件発明では，プリペイドカードという物を担保に取ることに代えて，入金データ金額yを担保に取るという新規な構成によって，代金回収不能のリスクを避けつつ，本件3課題を解決したものといえる。
      言い換えると，本件従来技術においては，給油開始前にプリペイドカードを預かること(以下「媒体預かり」という。)と給油終了後に代金を引き落とすこと(以下「後引落し」という。)との組合せによって，代金回収不能のリスクを避けつつセルフ式GSの運営を可能にしていた。これに対し，本件発明は，代金回収不能のリスクを避けつつセルフ式GSの運営を可能にするだけでなく，本件3課題を解決するために，「先引落し」と「後精算」との組合せを採用したものといえる。
  2 被告給油装置の構成等について
    被告給油装置について，後掲各証拠及び弁論の全趣旨によれば，以下の各事実が認められる。
    (1) 一般に，給油装置は，顧客に給油する給油機，給油量を計測した上で単価に給油量を乗じた金額を表示する計量機，給油すべき量や顧客が支払う方法などを設定する設定器などから構成される。(弁論の全趣旨)
      被告給油装置は，被告設定器と被告計量機とを含む給油装置である。被告設定器はディスプレイ及びリーダー等の構成を有する。
    (2)
      被告給油装置を用いて，電子マネー媒体により給油を行い，当該給油に対する料金の精算を行う場合，前掲「第2」2(5)記載のとおりの動作を行う。
    (3)
      被告プログラムは，被告設定器に保存され，被告給油装置内において実行される。この被告プログラムは，顧客による操作に対応して，被告給油装置に対し，上記(2)の動作を被告給油装置に行わせる。
    (4) 被告計量機その他の一審被告が製造，販売している計量機では，通常，給油料金額の最終計算における小数点以下の端数の処理は「切り捨て」に設定されており，その場合には，計量機に表示される給油金額と設定器に表示される購入金額は同一の金額になる。上記の設定を「四捨五入」に変更した場合には，計量機に表示される給油金額と設定器に表示される購入金額が一致しないことがある。(乙6，7)
      一審被告が旧EMG系列給油所に対して製造，販売している被告給油装置及び被告プログラムにおいては，返金処理をする場合に，その返金金額が，支払金額(電子マネー媒体から引き去った金額)から購入金額(被告計量機に支払額として表示された額)を減算した金額と同額にならないものは存在していない。
    (5) 被告給油装置が設置されている給油所に配布されている被告給油装置についてのマニュアルには，以下の記載がある。(乙11)
      ア
        電子マネーの前払い式支払手段は，基本的に現金での払戻し(換金)が認められていない。
      イ
        前払い式電子マネーの取扱いの場合，顧客は電子マネーで支払った金額分の「給油ができる権利」を購入することになり，支払金額以下の数量で給油を終了した場合には，給油できなかった分の返金として相当金額を電子マネーで顧客に返金する。具体的には，前払い式電子マネーで5000円を入金した場合には，顧客とSSとの間で5000円分の給油ができる権利についての売買が成立し，その後の給油の際に3000円分で満タンになった場合には，残りの2000円分の油を顧客からSSが買い上げる形で返金処理をすることになる。
    (6) 旧EMG系列給油所では，石油元売りであるEMGマーケティングに申請をすることによって，平成27年10月1日から，FeliCaカードを用いた料金の精算等が可能になった。(甲5)
    (7)
      被告設定器において電子マネー媒体による決済を可能にするためには，被告設定器に被告プログラムを保存し，被告設定器が設置されている給油所においてアクティベートという作業を行う必要がある。上記のアクティベートは，概要，①給油装置の設定器の操作画面に電子マネー決済についての表示がされるようにし，②電子マネーの設定に関するファイルをダウンロードして，給油制御のプログラムや電子マネー金額計算にかかわるプログラムを書き換え，電子マネー媒体を使用して支払を行うためのプログラムを動作可能な状態にし，③非接触クレジットカード用のカードリーダを電子マネー媒体にも使用可能な状態にし，④設定器ごとにIDを割り当てて，カード情報や決済情報等を管理・通信するセンターに当該IDを登録するなどの通信設定を行うことを内容とする作業である。
  3 争点1(充足論)について
    (1) 非侵害論主張④について
      ア 自白の成否
        一審原告は，一審被告の非侵害論主張④は，原審の答弁書の認否によって成立した自白の撤回に当たり，許されない旨主張する。
        しかしながら，自白が成立しているかどうかは，当事者の答弁の全体を踏まえて検討すべきものと考えられるところ，一審被告は，原審答弁書において，構成要件1Cの充足を「認める」としたものの，均等主張に対する認否の項や，一審被告の主張の項においては，例えば，(a)本件発明1の構成要件1Cにおいて引き落とす金額は設定器のシステムが設定するのに対して，被告給油装置の構成要件1cにおいて引き落とす金額は顧客が指定する金額である，(b)被告給油装置では構成要件1cにおいて完結する取引が行われる，(c)本件発明1の構成要件1Fにおいては，給油量に応じた代金額を計算して引落し額との差額を返金するのに対して，被告給油装置の構成要件1fにおいては，給油できなかった量を返品することによる売買代金額を計算している，等の主張をしている。これらは，実質的には，被告給油装置において行われている処理は，本件発明1の構成要件1Cにおいて行われている処理とは異なることを主張するものと理解すべきものであるから，原審が，構成要件1Cの充足につき単純に争いがないとして扱ったのは不相当であったといえる。
        以上によれば，非侵害論主張④が，自白の撤回に当たり許されないとはいえない。
      イ 引き落とされるべき金額について
        (ア)
          本件発明1の構成要件1C1において，「先引落し」の金額となる「記憶媒体の金額データが示す金額以下の金額」，すなわち「カード残高以下の額」を具体的にどのように定めるかは特定されていない。そこで，本件明細書の記載を参酌すると，先引落しの金額は，実施例1においてはカード残高の全額であり(【0037】)，実施例2においては「予め決められた設定金額」(以下「事前設定金額」という。)である(【0049】)。
          後者の「設定」を誰が行うかについて，一審原告は，顧客が設定する場合も含まれると主張するが，顧客が設定する金額は，給油の都度変動するはずのものであって，「予め決められた」金額であるということはできないから，上記主張を採用することはできず，上記文言は，設定器のシステムが予め設定した金額を意味するものと解すべきである(ただし，顧客が，個々の給油とは別に，予め定額の引き去り額を設定するというのであれば，これは，「予め決められた設定金額」に当たる可能性はあり得る。しかし，被告給油装置の具体的動作③④において顧客が選択する「給油量又は給油金額」は，まさに，個々の給油の際に指定するものであって，その都度変動するものであるから，上記の定義には当てはまらない。)。
        (イ)
          このように，「先引落し」の対象として，通常であれば，まず第一に思いついてよいはずの「顧客が指定した金額」が実施例として記載されず，いわば給油所運営者側の都合で設定される「カード残高の全額」又は「予め決められた設定金額」のみが実施例として記載されているのは，構成要件1C1における「先引落し」額が，上記1(2)で指摘したとおり，給油代金の「担保」としての性格を有するものだからであると考えられる。すなわち，本件発明1の構成要件1Cのステップにおいては，給油予定量とは何ら関係なく，担保としての「先引落し」額が決定されるものであり，その後，1Dないし1Fのステップにおいて初めて，「実際の給油→給油量に基づく給油代金の算定→先引落し額から給油代金額の引去り→残額の返還」という，給油が実施されたことを前提とした精算処理が予定されている。このように，「先引落し」額そのものは，実際の給油代金額としてではなく，あくまでも後に支払われるべき給油代金額の担保として決定されるものであるため，その額の決定に当たっては，給油所運営者の側が，給油代金確保の必要性その他の観点から適当な金額を定めれば足りるのであって，その額を決定するのに当たって顧客の意思を反映させる必要はない。このように考えると，実施例が，顧客が先引落し額を決定する場合を記載していないのは，その必要がないからであり，したがって，本件発明1は，顧客が「先引落し」額を決定するという構成を想定していないものと解される。
          これに対し，被告給油装置においては，「先引落し」の金額となる「電子マネー媒体の金額データが示す金額以下の金額」は，顧客が利用に際して指定する給油予定量に対応した給油予定金額である。これは，上記2(5)のとおり，被告給油装置が利用する前払い式電子マネーの決済手続においては，まず，顧客が一定額を支払って「給油ができる権利」を購入する必要があるからである。このため，被告給油装置の構成要件1c1において引き落とされる金額は，担保ではなく給油代金そのものであり，したがって，それが顧客の意思と関わりなく決定されることはあり得ない。
          このように，本件発明1と被告給油装置とでは，先引落し金額が有する意味合いが全く異なり，それを反映して，被告給油装置においては，先引落し金額を，本件発明1の構成要件1C1が想定しない，顧客が定めるという方法で定めることとなっているのであるから，被告給油装置の構成要件1c1は，本件発明1の構成要件1C1を充足しない。
          なお，一審原告は，本件明細書等の【0061】～【0068】及び【図9】には，取り込まれる入金データの額が顧客設定の給油額である(【図9】(B)の「設定した給油額をお預かりします」，(C)の「お預かり金額／3,000円」)実施例も開示されていると主張するが，【図9】の表示が，顧客が指定した金額を「お預かり」していることを表示していると断定することは，その表示自体からしても困難である。むしろ，【0061】～【0068】が実施例1，2を説明する部分であり，【図9】は，その説明の一環として掲げられているものであることを考慮すると，上記【図9】の表示は，顧客が給油額を指定する場合ではなく，実施例1，2どおり，媒体に残された金額全額，あるいは，予め設定された金額が引き落とされる場合を前提として，その説明をしているのにとどまると解する方が遥かに合理的である。したがって，一審原告の主張を採用することはできない。
    (2) 非侵害論主張⑤について
      ア 自白の成否及び時機に後れた攻撃防御方法該当性
        一審原告は，非侵害論主張⑤は，原審の答弁書記載の認否によって成立した自白の撤回に当たり，また，時機に後れた主張でもあるから，許されない旨主張する。
        たしかに，一審被告は，原審答弁書における構成要件1A等の認否に際し，被告給油装置の電子マネー媒体が本件発明の「記憶媒体」に当たるとの対比を明確に争っていたわけではないが，従前から，被告給油装置が本件発明の技術的思想を具現化したものでないことを主張しており，非侵害論主張⑤は，これを，使用される決済手段の差異(プリペイドカードと非接触式ICカード)という観点から論じたものであるといえるから，一審被告が充足論全体について単純に認めるとの認否をしていない以上，自白を撤回して新たな主張をしているとはいえないし，この主張を時機に後れたものとして扱うのも相当ではない。
        したがって，一審原告の上記主張は採用することができない。
      イ 非接触式ICカードの「記憶媒体」該当性
        本件明細書において，本件発明の「記憶媒体」の具体的態様としては，磁気プリペイドカード(【0033】)のほか，「金額データを記憶するためのICメモリが内蔵された電子マネーカード」(【0070】)や「カード以外の形態のもの，例えば，ディスク状のものやテープ状のものや板状のもの」(【0071】)も開示されている。このように，本件発明の「記憶媒体」は必ずしも磁気プリペイドカードには限定されない。
        しかしながら，本件発明の技術的意義が上記1のとおりであることに照らして，「媒体預かり」と「後引落し」との組合せによる決済を想定できる記憶媒体でなければ，本件3課題が生じることはなく，したがって，本件発明の構成によって課題を解決するという効果が発揮されたことにならないから，上記の組合せによる決済を想定できない記憶媒体は，本件発明の「記憶媒体」には当たらない。
        かかる見地にたって検討するに，被告給油装置で用いられる電子マネー媒体は非接触式ICカードであるから，その性質上，これを用いた決済等に当たっては，顧客がこれを必要に応じて瞬間的にR／Wにかざすことがあるだけで，基本的には常に顧客によって保持されることが予定されているといえる。そのため，電子マネー媒体に対応したセルフ式GSの給油装置を開発するに当たって，物としての電子マネー媒体を給油装置が「預かる」構成は想定し難く，電子マネー媒体に対応する給油装置を開発しようとする当業者が本件従来技術を採用することは，それが「媒体預かり」を必須の構成とする以上，不可能である。
        そうすると，被告給油装置において用いられている電子マネー媒体は，本件発明が解決の対象としている本件3課題を有するものではなく，したがって，本件発明による解決手段の対象ともならないのであるから，本件発明にいう「記憶媒体」には当たらないというべきである。むしろ，電子マネー媒体を用いる被告給油装置は，現金決済を行う給油装置において，顧客が所持金の中から一定額の現金を窓口の係員に手渡すか又は給油装置の現金受入口に投入し，その金額の範囲内で給油を行い，残額(釣銭)があればそれを受け取る，という決済手順(これは乙4公報の【0002】に従来技術として紹介されており，周知技術であったといえる。)をベースにした上，これに電子マネー媒体の特質に応じた変更を加えた決済手順としたものにすぎず，本件発明の技術的思想とは無関係に成立した技術であるというべきである。一審被告の非侵害論主張⑤は，このことを，被告給油装置の電子マネー媒体は本件発明の「記憶媒体」に含まれないという形で論じるものと解され，理由がある。
      ウ 一審原告の主張について
        (ア)
          一審原告は，本件発明の「記憶媒体」は，構成要件1C及び1Fの動作に適した「記憶媒体」であれば足りる旨主張する。
          しかしながら，発明とは課題解決の手段としての技術的思想なのであるから，発明の構成として特許請求の範囲に記載された文言の意義を解釈するに当たっては，発明の解決すべき課題及び発明の奏する作用効果に関する明細書の記載を参酌し，当該構成によって当該作用効果を奏し当該課題を解決し得るとされているものは何かという観点から検討すべきである。しかるに，一審原告の上記主張は，かかる観点からの検討をせず，形式的な文言をとらえるにすぎないものであって，失当である。
          したがって，一審原告の上記主張は採用することができない。
        (イ)
          一審原告は，本件明細書の【0070】に「記憶媒体」として「金額データを記憶するためのICメモリが内蔵された電子マネーカード」を例示する記載があり，非接触式ICカードもこれに含まれる旨主張する。
          しかしながら，上記記載は，【0033】の「プリペイドカード71は，磁気カードからなり」等の記載を受けて，カードの記憶素子が磁性材ではなくICメモリであっても良い旨を示すにとどまり，そのカードが非接触で動作することを示す記載ではない。また，上記記載において，ICメモリは「金額データを記憶するための」ものであって，非接触式ICカードのように演算・通信の機能を有することは開示も示唆もされていないから，上記記載を根拠に非接触式ICカードが本件発明の「記憶媒体」に当たるとはいえない。
          したがって，一審原告の上記主張は採用することができない。
        (ウ)
          一審原告は，非接触式ICカードが券売機に取り込まれて使用され得ることは周知であり，本件明細書には設定器内部にカードを取り込んだままとしない記憶媒体を用い得ることが示されているから，非接触式ICカードが本件発明の「記憶媒体」に当たらないとはいえない旨主張する。
          しかしながら，前掲前提事実のとおり，被告給油装置において電子マネー媒体を使用する際には，電子マネー媒体(非接触式ICカード)はR／Wにかざされるだけであって装置に「取り込まれ」ることはない。非接触式ICカード一般に一審原告主張のような使用態様はあり得るものの，被告給油装置ではそのような使用態様によらずに非接触式ICカードが「電子マネー媒体」として用いられているので，被告給油装置における「電子マネー媒体」の技術的意義は，本件発明における「記憶媒体」のそれとは異なる。
          したがって，一審原告の上記主張は採用することができない。
    (3) 充足論についての小括
      以上によれば，一審被告の非侵害論主張④及び⑤は理由があるから，その余の非侵害論主張の成否について判断するまでもなく，被告給油装置及び被告プログラムは本件特許を侵害しない。
  4 争点4(無効論)について
    念のため，仮に，本件発明1の「先引落し」金額は顧客が指定する場合を含み(上記3(1)イ(イ)参照)，また，非接触式ICカードも本件特許の「記憶媒体」に含まれる(上記3(2)イ参照)とした前提で，無効論につき検討する。
    なお，本件において，無効論は，本件発明1及び本件発明3(本件訂正後のもの)について検討すれば足りる。このことは，上記「第3」4の冒頭に説示したとおりである。
    (1) 「時機に後れた攻撃防御方法」該当性について
      無効主張A，B，Dは，原審における侵害論の心証開示後に主張されたものであり，そのため，原審においては時機に後れたものとして取り扱われたわけであるが，既に充足論に関する項で指摘したとおり，構成要件1C1充足性(非侵害論主張④)及び構成要件1A，1C，1F3，1F4充足性(非侵害論主張⑤)に関する原審の主張整理には，本来は，争いがあるものとして扱うべき論点を争いのないものとして扱ったという不備があったといわざるを得ない。そして，無効論に関する主張の要否や主張の時期等は，充足論における主張立証の推移と切り離して考えることができないのであるから，充足論について，本来更に主張立証が尽くされるべきであったと考えられる本件においては，無効主張が原審による心証開示後にされたという一事をもって，時機に後れたものと評価するのは相当ではない。
      また，上記無効事由に関する当審における無効主張は，控訴後速やかに行われたといえる。
      以上によると，一審被告による上記無効主張は，原審及び当審の手続を全体的に見た観点からも，また，当審における手続に着目した観点からも，時機に後れたものと評価することはできない。
      したがって，いずれの無効主張も，時機に後れた攻撃防御方法として却下すべきものではない。
    (2) 本件訂正の訂正要件適合性について
      本件訂正に基づく訂正の再抗弁は，各無効主張につき共通に主張されているので，便宜上，下記のとおり本件訂正が訂正要件に適合することを先に明らかにした上，無効論の検討は本件訂正発明を前提に行うこととする。
      ア 構成要件1Xについて
        構成要件1Xの付加は，訂正前の「流体供給」を「給油」に限定する訂正であって，これが訂正要件に適合することは当事者間に争いがない。
      イ 構成要件1Yについて
        構成要件1Yは，カード残高の読取り後，カード残高以下の額の引落し前に，給油処理を中止することを可能とする構成である。
        一審被告は，本件発明は給油代金の支払及び精算を行う際の課題を解決するための発明であって，利用客が実際に給油を行うことが当然の前提であるのに対し，追加された構成要件1Yは，給油がそもそも行われないことを前提とした構成であるから，本件発明1の目的とは全く関係のない新たな作用効果を生じさせるものである旨主張する。
        しかしながら，セルフ式GSにおいて，給油の開始前に利用客の意思に基づいて給油処理が中止されることは想定されるから，給油が行われないことが本件発明1の当然の前提に反するとはいえない。また，構成要件1Yに対応する本件明細書の記載からは，構成要件1Yが奏する作用効果は定かではないから，訂正前の本件発明1の目的とは関係のない新たな作用効果を生じさせるとまではいえない 。
        よって，構成要件1Yの付加は，訂正前の請求項との関係で特許請求の範囲を実質的に拡張・変更するものではない。
      ウ 構成要件3Zについて
        構成要件3Zは，更に紙幣挿入部を備えることによって，紙幣(現金)を取り扱えるようにする構成である。
        一審被告は，本件発明はプリペイドカードを用いた支払等を当然の前提とする発明であって，現金を用いた支払等を可能にする構成を付加することは，本件明細書に記載された本件発明の作用効果とは全く無関係な新たな作用効果を発揮させるから，特許請求の範囲を実質的に拡張・変更する旨主張する。
        しかしながら，本件明細書には，紙幣挿入部を備えた具体的実施態様が開示されているから(【0024】【0026】【0031】【図2】【図3】)，現金を用いた支払等を行うことが本件発明と無関係であるとはいえない。また，プリペイドカードに加えて現金も使用できることが，本件発明の目的とは全く無関係な新たな作用効果を生じさせるとまではいえない。
        よって，構成要件3Zの付加は，訂正前の請求項との関係で特許請求の範囲を実質的に拡張・変更するものではない。
    (3) 無効主張Bについて
      ア 主引用発明としての審判甲B1装置について
        (ア)
          2000年4月30日付けで一審被告が発行した広報誌(乙16の19)には「アイランド精算用端末機SF-1000」がセルフ式GSで実際に稼動している旨の記事があるところ，記事中の写真及び説明文によると，2001年3月1日発行の操作マニュアル(乙16の18)は，上記広報誌に記載されたのと同一機種のマニュアルであると認められる。そして，同マニュアルと審判甲B1マニュアル(乙16の1)とは，発行日が同一であり，表示画面が「LED」方式か「LCD」方式かで異なるにすぎず，記載された操作手順及びこれから推認される端末の動作及びプログラムの内容は異ならないから，審判甲B1マニュアル(別紙としてその抜粋を示す。)をもって，本件出願日に公然実施されていた審判甲B1装置(SF-1000)の構成を認定することができる。
        (イ)
          この点につき，一審原告は，操作マニュアルが製品の発売以後に発行されることはあり得ないから，2001年発行の審判甲B1マニュアル(乙16の1)をもって2000年当時の審判甲B1装置(乙16の19)の構成(審判甲B1発明)を認定することはできない旨主張するが，操作マニュアルが，再発行や改訂等によって，後の日付で作成されることはあり得ないことではなく，そうすると，審判甲B1マニュアルを，少なくとも，その作成日付である2001年3月1日時点(これは，本件特許の出願日前である。)における公然実施発明を認定するための証拠とすることは何ら妨げられるものではないというべきであるから，上記主張は，失当である。
      イ
        本件発明1(本件訂正前のもの)を電子マネー媒体(非接触式ICカード)に適用する際の構成と，審判甲B1装置において現金を使用する際の構成(引用発明)との対比は，次の表のとおりである(後者について，【】内の数字は審判甲B1マニュアルの該当頁を示し，【】のない事項は一般常識により当然に推認される事項である。)。
        本件発明1  引用発明
        1A：電子マネー媒体に記憶された 1a：財布の所持金額を数えたり
        金額データを読み書きするR／W 現金を出し入れしたりすることが
        と，  できる顧客を対象に，
        1B：流体の供給量を計測する流量 1b：計量機を備え【7】，  一致点
        計測手段と，
        1C1：前記流体の供給開始前に， 1c1：給油開始前に，顧客の所
        前記R／Wにより読み取った電子マ 持する現金の額x以下の額yの紙
        ネー媒体の残高x以下の金額yを， 幣を，装置の紙幣投入口から受け
        入金データとして取り込むと共に，  入れて取り込み【1-5】，
        1C2：前記残高xから当該入金デ 1c2：顧客の財布には，投入前
        ータの金額yを差し引いた金額(x の所持金額xから上記取込金額y-y)を新たな金額データとして電 を差し引いた金額(x-y)が残子マネー媒体に書き込ませる入金デ り，
        ータ処理手段と，
        1D：該入金データ処理手段により 1d：上記装置に取り込まれた紙 一致点
        取り込まれた上記入金データの金額 幣の金額yに相当する給油が可能yに相当する流量を供給可能とする となり【1-6】，
        供給許可手段と，
        1E：前記流量計測手段により計測 1e：計量機により計測した流量 一致点
        された流量値から請求すべき料金を 値から給油代金額を計算する機能
        演算する演算手段と，  を有し，
        1F1：前記流量計測手段により計 1f1：計量機により計測された 一致点
        測された流量値に相当する金額zを 流量値に相当する金額zを上記計前記演算手段により演算させ，  算機能により計算し【1-7】，
        1F2：当該演算された料金zを前 1f2：金額zを取込金額yから 一致点
        記入金データyの金額より差し引 差し引き【1-7】，
        き，
        1F3：残った差額データの金額 1f3：紙幣返却口・硬貨返却口
        (y-z)を前記電子マネー媒体の 【4】からお釣り(y-z)が排金額データ(x-y)に加算し，  出され【1-7】，顧客はこれを金額(x-y)の入った財布に受け入れ，
        1F4：当該加算後の金額データ 1f4：顧客の所持する現金の額
        (x-z)を前記電子マネー媒体に は(x-z)となる，
        書き込む料金精算手段と，
        1G：を備えたことを特徴とする流 1g：給油装置  一致点
        体供給装置。
      ウ 相違点の容易想到性
        上記の表において一致点とされていない本件発明1の構成は，相違点となる。
        しかしながら，いずれの構成も，セルフ式GSの給油装置において，審判甲B1装置の現金による支払を，電子マネー媒体による支払に置き換える際には，当然に備わる構成である。すなわち，上記の各相違点をまとめると，本件発明1においては装置がR／Wを備えること，電子マネーの金額データはR／Wにより電子的に書き換えられること，の2点となるが，いずれの構成も，現金の場合は貨幣という有体物に化体されている金銭的価値を，電子的情報という無体物に化体させたことによって必然的に生じる帰結である。
        また，現金による支払を電子マネー媒体による支払に置き換えること自体は，電子「マネー」という名称自体からも容易に着想することができるし，例えば乙16の12(電子商取引推進協議会「モバイルECに関わる決済標準モデルの研究中間報告書」平成13年3月発行)には，非接触式ICカードが「電子マネー」として利用されること，FeliCa内蔵の携帯電話は「電子財布」になること等が記載されており，これらの記載は，現金による支払いを電子マネー媒体に置き換えることを動機付ける。
        そうすると，当業者にとって，上記各相違点にかかる本件発明1の構成に想到することは，通常の創作能力の発揮にすぎず，容易であったといえる。
      エ 容易想到性に関する一審原告の主張について
        (ア)
          一審原告は，引用発明を，審判甲B1装置に現金を投入した場合の構成で認定するのであれば，プリペイドカード等の記憶媒体を使用する本件発明1とは構成が全く異なったものになる上，本件3課題が生じ得ない旨主張する。
          しかしながら，本件発明1の「記憶媒体」として非接触式ICカードを使用する場合には，そもそも本件発明1においても本件3課題が生じ得ないことは上記3(2)において説示したとおりである。そうであるにもかかわらず，構成要件充足性の段階では，本件発明1の「記憶媒体」には，本件3課題の解決を前提としない非接触式ICカードを含むと主張する一方で，引用発明の記憶媒体を非接触式ICカードに置き換える技術に基づく無効主張に対しては，本件3課題を解決していないから無効主張たり得ないと主張するのは自己矛盾であるといわざるを得ない。
          したがって，一審原告の上記主張は採用することができない。
        (イ)
          一審原告は，一審被告の主張は「容易の容易」に当たる旨主張する。
          しかしながら，上記ウで説示したとおり，審判甲B1装置の現金による支払を電子マネー媒体による支払とした場合，上記イの表の本件発明1の構成は当然に備わるものであり，当業者にとって「想到」することを必要としない。
          したがって，一審原告の上記主張は採用することができない。
        (ウ)
          一審原告は，本件発明1は，特許庁の審査基準が容易想到とする「人間が行っている業務やビジネス方法のシステム化」に該当しない旨主張するが，上記ウのとおり，本件発明1の容易想到性の根拠は，現金による支払を，電子マネー媒体による支払に置き換えることは容易想到であり，かつ，この点に思い至れば，当然に，相違点に係る本件発明1の構成に到達する(この点は，当然の結果であって，想到を要するものではない。)というものであって，「人間が行っている業務やビジネス方法のシステム化」に該当するかどうかを問題にしているわけではないから，一審原告の主張は上記判断を左右しない。
      オ 本件訂正発明の進歩性について
        (ア) 構成要件1Xについて
          審判甲B1装置は給油装置であるから，構成要件1Xは相違点とならない。
        (イ) 構成要件1Yについて
          セルフ式GSの給油装置が一般公衆向けの自動販売装置である以上，いかなる段階においても顧客が操作を中止できるものとし，その場合に顧客に特段の負担を求めないことは一般常識に属するといえる。そして，本件訂正発明において，カード残高の読取り前に給油処理を中止するための具体的な構成やその技術的意義は明らかでない。
          したがって，引用発明に，一般常識に属する手法に基づいてこのような構成を加えることは容易想到というべきである。
        (ウ) 構成要件3Zについて
          給油装置において，カード挿入口のほかに紙幣挿入口を備えて現金決済も可能とすることは，審判甲B1マニュアル自体にも開示されているし，自動販売装置において複数の決済手段に対応できるようにすること自体は周知技術である(乙3公報など)。また，構成要件3Zは，紙幣挿入口を備えることを特定しているだけであり，本件明細書にも，プリペイドカードと現金とを併用するに当たっての処理手順などが開示されているわけではないから，上記周知技術とは異なる特段の技術的意義は明らかでない。
          したがって，引用発明に，周知技術に基づいてこのような構成を加えることは容易想到というべきである。
        (エ)
          以上によれば，本件訂正によって付加された構成要件は，進歩性を基礎付けるものではない。
      カ
        以上によれば，無効主張Bは理由がある。
    (4) 無効主張Aについて
      ア 本件発明1と審判甲A1発明との対比
        本件発明1と，審判甲A1発明との対比は下表のとおりである。なお，審判甲A1公報記載の実施例はガス供給装置の例であるため，下表でもこれによった。
        本件発明1  審判甲A1発明
        1A：記憶媒体に記憶された金額デ 1a：メータ側制御部10は， 一致点
        ータを読み書きする記憶媒体読み書 「非接触型プリペイドカード1に
        き手段と，  記憶されたプリペイ金額をメータ側無線受信部8で受信し，残金をメータ側無線送信部11を経由してプリペイドカード1側に送信する」部分を備え，
        1B：流体の供給量を計測する流量 1b：流量検出装置15を備え，  一致点
        計測手段と，
        1C1：前記流体の供給開始前に前 1c：前記メータ側無線受信部8 一致点
        記記憶媒体読み書き手段により読み で受信したプリペイ金額の全額x
        取った記憶媒体の金額データxが示 をメータ側のROM9にストック
        す金額以下の金額yを入金データと し，(この状態でいつでもガスコして取り込むと共に，  ックを開くことによりガスを使用なお，この場合，入金データyは， でき，)定額入金回路18を駆動顧客が指定する場合も含み，  して，使用者(顧客)が指定した1C2：前記金額データから当該入 入金したい金額yだけをメータ内金データの金額を差し引いた金額 に残して残金(x-y)をプリペ(x-y)を新たな金額データとし イドカード1側に戻すことがでて前記記憶媒体に書き込ませる入金 き，
        データ処理手段と，
        1D：該入金データ処理手段により 1d：メータ側のROM9にスト 一致点
        取り込まれた入金データの金額デー ックした金額yに相当する使用リタに相当する流量を供給可能とする ミット量を演算する手段を備え，
        供給許可手段と，
        1E：前記流量計測手段により計測   相違点された流量値から請求すべき料金を 1
        演算する演算手段と，
        1F1：前記流量計測手段により計 1f：それまでに使用した量から 相違点測された流量値に相当する金額を前 料金を精算し，残金があった場 2
        記演算手段により演算させ，  合，この残金をストックし，プリ
        1F2：当該演算された料金を前記 ペイドカード1側に残金を払い戻入金データの金額より差し引き，  すことができる，
        1F3：残った差額データの金額を
        前記記憶媒体の金額データに加算し，
        1F4：当該加算後の金額データを前記記憶媒体に書き込む料金精算手段と，
        1G：を備えたことを特徴とする流 ことを特徴とする非接触型プリペ
        体供給装置。  イドカード方式ガスメータ。
      イ 相違点1について
        (ア) 相違点1の内容
          審判甲A1発明の流量検出装置15が，本件発明1の構成要件1Eの「演算手段」を備えているのか否かが不明である。
        (イ) 相違点1の容易想到性
          審判甲A1公報には，「入金された金額に相当するガス量を演算し，この量が零になると遮断装置16を遮断する。又，供給継続中に使用者の意思でガスをストップすることができる。この場合には，それまでに使用した料金を精算し」【0019】との記載がある。この記載を踏まえると，審判甲A1発明においても，流体の流量から料金を演算する手段を備えることは示唆されているといえる。また，自動化された給油所で燃料を給油する給油装置が，給油量から料金を演算する手段を当然に備えるべきことは自明である。
          したがって，相違点1は，実質的な相違点ではないか，相違点であるとしても，給油所で燃料を給油する流体供給装置である本件発明1において，相違点1に係る構成要件1Eとすることは，当業者が容易になし得たといえる。
      ウ 相違点2について
        (ア) 相違点2の内容
          両発明は，「それまでに使用した量から金額を演算手段により演算させ，当該演算された料金を前記入金データの金額より差し引き，残った差額データの金額を前記記憶媒体に払い戻す料金精算手段」という限りで一致するが，審判甲A1発明では，ⅰ)「それまでに使用した量から金額を演算手段により演算させ」るが，本件発明1のように「流量計測手段により計測された流量値に相当する金額を前記演算手段により演算させ」るものか不明であり，ⅱ)「記憶媒体に払い戻す」が，本件発明1のように「記憶媒体の金額データに加算」し「当該加算後の金額データを前記記憶媒体に書き込む」ものであるかも不明である。
        (イ) 相違点2の容易想到性
          a 上記ⅰの点について
            審判甲A1発明において，「それまでに使用した量」が「流量検出装置15」によって検出されることは当業者にとって自明である。また，給油装置を，給油量から料金を演算する手段を備えるよう構成することは，当業者にとって容易である(上記イ)。
            したがって，上記aの点にかかる本件発明1の構成は，当業者が容易に想到し得た。
          b 上記ⅱの点について
            審判甲A1発明は，構成要件1cにおいて，定額入金回路18を駆動して入金したい金額だけメータ内に残し，残金をプリペイドカード1に戻すことができるものであるから，定額入金回路18により残金が戻されたプリペイドカード1に対し，構成要件1fの払戻しによりさらに残金を戻すのであれば，定額入金回路18によりプリペイドカード1に戻された残金の金額データに対し，更に加算をする方法によることとし，払戻しによる残金を加算したものをプリペイドカード1の残金として書き込むこととなることは，審判甲A1自体において示唆されているといえる。そして，一般に，記憶媒体に対して取引の残金の金額データを払い戻すために，記憶媒体の金額データに払戻額を加算し，当該加算後の金額データを前記記憶媒体に書き込むという構成をとることはきわめて自然である(なお，145号審判の「審決の予告」(乙47)の32頁には，複数の特許文献を挙げてこれが周知技術である旨が認定されている。)。
            したがって，審判甲A1発明に接した当業者が，上記周知技術を踏まえつつ，相違点2に係る本件発明1の構成を発明特定事項とすることは，通常の創作能力の範囲で容易になし得た。
      エ 本件訂正発明の進歩性について
        (ア) 構成要件1Xについて
          本件訂正発明1では，流体供給装置が「給油所で燃料を給油する」ものである旨の構成要件1Xが付加されているのに対し，審判甲A1発明はかかる特定がないから，この点が相違点となる。
          しかしながら，本件訂正発明1の構成要件1Xに関して，本件発明の本質的な特徴はセルフ式の給油所における決済手順にあり，流量計測手段(メータ)そのものにはないところ，審判甲A1発明の非接触型プリペイドカード方式メータを「給油所で燃料を給油する流体供給装置」に適用することは，対価を受け取って流体を供給するメータに用いられる決済手順という点では共通である。また，審判甲A1公報には，水道メータにも利用できる旨が記載され，他方，本件明細書【0069】には，流体として燃料のほかに飲料水などにも適用できる発明である旨の記載があるから，それぞれの発明の属する技術分野は関連しているといえるので，審判甲A1発明を，審判甲A1公報に例示された用途に限らず，燃料油に適用することによって，本件訂正発明1の構成要件1Xを得ることは，当業者が容易に想到し得たといえる。
        (イ) 構成要件1Y，3Zについて
          構成要件1Y，3Zに係る本件訂正発明1の構成は，無効主張Bについて上記(3)オに説示したとおり，当業者が容易に想到し得た。
      オ 一審原告の主張について
        (ア)
          一審原告は，本件発明1と審判甲A1発明とは技術分野が異なる旨主張するが，この主張を採用できないことは上記エのとおりである。
        (イ)
          一審原告は，本件発明1の構成要件1Cと審判甲A1発明の構成要件1cとは相違するとした上，審判甲A1発明においては，別荘地の水道・ガスなどの供給装置という特性上，顧客は全額を入金するのが原則であり，「定額入金回路18を駆動して入金したい金額だけをメータ内に残し，残金をプリペイドカード1側に戻」す構成とするのは付加的事項にすぎず，このような審判甲A1発明について，あえて設計変更をして，カード残高の一部のみを取り込む本件発明1の構成を採用することには，阻害要因があり，動機付けはないし，カード残高の一部のみを取り込むことに想到するとしても，審判甲A1発明においては「定額入金回路」によって同じ効果を既に実現できているから，これにあえて変更を加えて本件発明1の構成とすることには阻害要因があり，動機付けはない旨主張する。
          しかしながら，本件発明1の構成要件1Cと審判甲A1発明の構成要件1cの基本的な動作は，プリペイドカードに記録された金額xを認識し，そのうちの金額yを供給装置側に移し，残金(x-y)をプリペイドカード側に書き込むというものであって，この操作は共通しており，しかも，本件発明1において，このような操作を行うのについて特別な仕掛けを利用している形跡はなく，一般的な手段によってこれを実現しているのにすぎないと考えられるのであるから，両者に実質的な相違があるとは認められない。
          したがって，一審原告の上記主張は採用することができない。
        (ウ)
          一審原告は，構成要件1X，1Yについても，阻害要因がある又は動機付けがないと主張するが，いずれも一般常識に属する手法あるいは周知技術の適用にすぎないから特段の動機付けを要せず，阻害要因もないから，一審原告の主張は採用することができない。
        (エ)
          一審原告は，コイン(現金)を使用することによる不便を課題としてこれを解決しようとする審判甲A1発明に，紙幣を併用するための構成要件3Zを付加することには阻害要因がある旨主張する。
          しかしながら，プリペイドカードが現金決済の不便を解消するために発展してきた決済手段であることは審判甲A1発明に限らないところ，現金は今日なお最も汎用性の高い決済手段であるため，プリペイドカード対応の自動販売装置の多くが現金にも対応できる仕様とされていることは，一般常識に属する。また，本件訂正発明3の構成要件3Zは単に「紙幣挿入部を備える」とするだけで，紙幣を用いた決済がどのように行われ，「記憶媒体」(カード)を用いた本件訂正発明の決済手順全体とどのように関連するのかなどは何ら特定されておらず，紙幣を用いた決済に特段の技術的意義があるとも認めがたい。そうすると，審判甲A1発明に，一般的な手法に基づいて紙幣挿入口を備えることも，単なる設計事項にすぎないから，そのようにすることには動機付けを要しないし，阻害要因もない。
          したがって，一審原告の上記主張は採用することができない。
        (オ)
          なお，本項の冒頭に述べたとおり，この無効論の検討は，本件発明1は先引落し額を顧客が指定する場合も含むため，被告供給装置も本件発明1の構成要件を充足するという前提に立つものである。したがって，審判甲A1発明は，先引落し額を顧客が指定するのに対し，本件発明1は，このような指定方法を含まず，したがって，この点が相違点となるし，この相違点を克服することはできない，との議論は成り立たない。
    (5) 無効論についての小括
      以上によれば，一審被告の無効主張B及びAは理由があるから，その余の無効主張の成否について判断するまでもなく，本件特許は，本件訂正がなされたとしても，特許無効審判により無効とされるべきである。
  5 結論
    よって，一審原告の請求は理由がなく棄却すべきであり，これを一部認容した原判決は不当である。そこで，一審被告の控訴に基づき，原判決中，一審被告敗訴部分を取り消し，同部分に係る一審原告の請求をいずれも棄却し，一審原告の控訴は理由がないからこれを棄却することとして，主文のとおり判決する。
