主文
  1 原告の請求を棄却する。
  2 訴訟費用は原告の負担とする。
  3 この判決に対する上告及び上告受理申立てのための付加期間を30日と定める。

事実及び理由
第1 請求
  特許庁が不服2011-15463号事件について平成24年9月26日にした審決を取り消す。
第2 前提となる事実
  1 特許庁における手続の経緯
    原告は，発明の名称を「パーソナルメディア放送システム」とする発明について，平成17年6月7日に国際出願し(優先権主張  平成16年6月7日，米国。以下「本願」といい，その明細書及び図面を併せて「本願明細書」という。)(甲2)，平成22年9月27日，特許請求の範囲を変更する旨の手続補正を行い(甲4)，平成23年3月4日付けで拒絶査定を受け，同年7月16日，拒絶査定不服審判(不服2011-15463号事件)を請求するとともに，特許請求の範囲を変更する旨の手続補正(以下「本件補正」という。)をした(甲3)。特許庁は，平成24年9月26日，本件補正を却下するとともに，請求不成立の審決(以下「審決」という。)をし，その謄本は同年10月17日，原告に送達された。
  2 特許請求の範囲
    本件補正後の請求項10は，本件補正前(平成22年9月27日付け手続補正後のもの)の請求項17を変更したものである(甲3，4)。
    本件補正後の請求項10に係る特許請求の範囲は，以下のとおりである(以下，同項に係る発明を「補正後発明」という。)(甲3)。
    「【請求項10】オーディオ／ビジュアルソースから離れた場所において該オーディオ／ビジュアルソースにアクセスできるようにするための方法であって，
    オーディオ／ビジュアルソース装置から入力信号を受信するステップと，
    バッファ内に残っている空きスペースの量に少なくとも部分的に基づいて選択されたビットレートを用いて前記受信した入力信号を符号化し，前記バッファ内に残っている空きスペースの量の変化に応じて前記ビットレートを変化させるようにすることにより，ネットワークを経由して送信するのに適したメディアストリームを，該符号化した入力信号から構築するステップと，
    送信に先立って前記メディアストリームを前記バッファに格納するステップと，
    前記バッファからネットワーク経由で遠隔のクライアントに前記メディアストリームを送信するステップと，
    を備える方法。」
    本件補正前の請求項17に係る特許請求の範囲は，以下のとおりである(以下，同項に係る発明を「本願発明」という。)(甲4)。
    「【請求項17】オーディオ／ビジュアルソースへのアクセスを前記オーディオ／ビジュアルソースから離れた場所において提供するための方法であって，
    オーディオ／ビジュアルソース装置から入力信号を受信するステップと，
    バッファ内に残っている空きスペースの量に少なくとも部分的に基づいて選択されたビットレートを用いて前記入力信号を符号化することにより，ネットワークを経由して送信するのに適したメディアストリームを構築するステップと，
    前記メディアストリームを前記バッファに格納するステップと，
    前記バッファからネットワーク経由で遠隔のクライアントに前記メディアストリームを送信するステップと，
    を備える方法。」
  3 審決の理由
    (1)
      審決の理由は，別紙審決書写しに記載のとおりであり，その要旨は以下のとおりである。
      補正後発明は，特開2003-114845号公報(以下「刊行物1」という。)に記載された発明(以下「刊行物1発明」という。)に基づいて当業者が容易に発明することができたものであるから，特許出願の際独立して特許を受けることができない。本願発明も，同様に，刊行物1発明に基づいて当業者が容易に発明することができたものである。
    (2)
      審決が認定した刊行物1発明の内容，補正後発明と刊行物1発明の一致点及び相違点は，以下のとおりである。
      ア 刊行物1発明の内容
        「端末からのリクエストに応じて，映像あるいはオーディオ(以下，「オーディオ」を音声またはオーディオの意味で用いる)および映像を伝送路を介して，サーバから端末へ該当データを配信する方法であって，
        サーバは，監視カメラ等から映像信号を受信するステップと，
        同一コンテンツにつき，ビットレートの異なる複数のストリームを用意し，ネットワークのビットレートに適応したビットレートを用いて，複数のストリームを切り替えて出力することにより，送信バッファの残量から推定した，サーバから端末へ配信するためのネットワーク(回線)のビットレートが変動するとき，(変動するネットワークの)ビットレートに適応したビットレートにてコンテンツストリームを配信するステップと，
        送信バッファに送信のためのデータを記憶するステップと，
        サーバから端末へ出力されるデータはメディアストリームであって，上記メディアストリームは，ネットワークを介して，端末に配信するステップと，
        を有するデータ配信方法。」
      イ 一致点
        オーディオ／ビジュアルソースから離れた場所において該オーディオ／ビジュアルソースにアクセスできるようにするための方法であって，
        オーディオ／ビジュアルソース装置から入力信号を受信するステップと，
        バッファ内に残っている空きスペースの量に少なくとも部分的に基づいて選択されたビットレートを用いて，前記バッファ内に残っている空きスペースの量の変化に応じて，空きスペースの量に少なくとも部分的に基づいて選択されたビットレートを変化させるようにすることにより，ネットワークを経由して送信するのに適したメディアストリームを，入力信号から構築するステップと，
        送信に先立って前記メディアストリームを前記バッファに格納するステップと，
        前記バッファからネットワーク経由で遠隔のクライアントに前記メディアストリームを送信するステップと，
        を備える方法
      ウ 相違点
        補正後発明では，上記ネットワークを経由して送信するのに適したメディアストリームを，入力信号から構築するステップが，「選択されたビットレートを用いて前記受信した入力信号を符号化することにより，該符号化した入力信号から」構築しているのに対し，刊行物1発明では，「選択されたビットレートを用いて，用意したビットレートの異なる複数のストリームの一つを選択して出力することにより」構築している点
第3 取消事由に関する当事者の主張
  1 原告の主張
    (1) 本件補正の却下決定の誤り(取消事由1)
      ア 刊行物1発明の認定の誤り
        刊行物1発明における「送信バッファ」は，サーバと端末が同期して動作する場合，すなわち，端末側よりデータ受信完了の通知あるいは，次データの送信要求が得られるシステムの場合に使用されるものである。
        したがって，刊行物1発明は，以下のとおり，下線箇所を追加して認定されるべきであり，下線箇所の限定がない審決の認定は誤りである。
        すなわち，刊行物1発明は，「サーバと端末が同期して動作する場合において，送信バッファの残量から推定した，サーバから端末へ配信するためのネットワーク(回線)の送信ビットレートが変動するとき，(変動するネットワークの)送信ビットレートに適応した送信ビットレートにてコンテンツストリームを配信する」構成，「同一コンテンツにつき，ビットレートの異なる複数のストリームを用意し，ネットワークの送信ビットレートに適応した送信ビットレートを用いて，複数のストリームを切り替えて出力することにより，サーバと端末が同期して動作する場合は，送信バッファの残量から推定した，サーバから端末へ配信するためのネットワーク(回線)の送信ビットレートが変動するとき，(変動するネットワークの)送信ビットレートに適応した送信ビットレートにてコンテンツストリームを配信する」構成を有していると認定されるべきである。
      イ 補正後発明と刊行物1発明との対比の誤り
        (ア)
          補正後発明における「バッファ」は，符号化した入力信号から構築するメディアストリームを，送信処理そのものに先立って格納しておくものである。これに対し，刊行物1発明における「送信バッファ」は，符号化したメディアストリームを送信に際して格納しておくものであり，送信側で送信パケットを一時記憶しておき，受信側からの受信確認信号に応じて送信済みパケットの記憶を消去するものであって，送信が確実になされたことを確認するためのものである。刊行物1発明における「送信バッファ」は，「送信バッファの残量から送信ビットレートを推定する」ことができればよいのであって，補正後発明における「バッファ」とは異なる。
          また，補正後発明では，「バッファ」に最新に書き込まれるメディアストリームは現在の送信ビットレートを反映しているが，時間的に最も古いメディアストリームを読み出して送信タスクに渡すことから，「バッファ」の読み出しに基づき送信されるメディアストリームのビットレートは，必ずしも現在のビットレートに対応しているとはいえない。これに対し，刊行物1発明では，その都度の送信ビットレートにリアルタイムに対応して，送信ストリームのビットレートを切り替えて送信する。したがって，この点でも，補正後発明の「バッファ」と刊行物1発明の「送信バッファ」とは異なる。
        (イ)
          補正後発明では，「バッファ内に残っている空きスペースの量に少なくとも部分的に基づいて選択されたビットレートを用いて前記受信した入力信号を符号化し，前記バッファ内に残っている空きスペースの量の変化に応じて前記ビットレートを変化させるようにすることにより，ネットワークを経由して送信するのに適したメディアストリームを，該符号化した入力信号から構築する」ことを行っており，入力信号の符号化をビットレートを変化させて行うことと，メディアストリームを該符号化した入力信号から「構築」することは，不可分である。
          これに対し，刊行物1発明では，送信レートに応じたビットレートの選択を行う以前に，異なるビットレートの複数のメディアストリームが「構築」済みであり，「メディアストリームを構築するステップ」と，「複数のメディアストリームのいずれかを選択して配信するステップ」とは，全く別の技術的構成要素である。刊行物1発明における，既に構築済みの異なるビットレートの複数のメディアストリームのいずれかを単に選択する構成をもって，「ネットワークを経由して送信するのに適した(ビットレートの)メディアストリームを構築する」ことが示されているとすることはできない。
        (ウ)
          以上によると，補正後発明と刊行物1発明とは，以下の2点で相違する。
          ①  相違点1
          補正後発明では，「バッファ内に残っている空きスペースの量に少なくとも部分的に基づいて選択されたビットレートを用いて前記受信した入力信号を符号化し，前記バッファ内に残っている空きスペースの量の変化に応じて前記ビットレートを変化させるようにすることにより，ネットワークを経由して送信するのに適したメディアストリームを，該符号化した入力信号から構築するステップ」との構成を備えているのに対し，刊行物1発明はこれに相当する構成を備えていない点。
          ②  相違点2
          補正後発明では，「送信に先立って前記メディアストリームを前記バッファに格納するステップ」との構成を備えているのに対し，刊行物1発明ではこれに相当する構成を備えていない点
      ウ 相違点に係る容易想到性の判断の誤り
        (ア)
          特開2002-27479号公報(甲5。以下「周知文献A」という。)に記載された技術は，再符号化の目的のビットレートが明示的に指定されることを前提としている技術であり，「バッファ記憶手段5005」は，復号化後に再量子化及び再符号化された動画データを一時記憶し，そのバッファ占有量をもって，バッファ占有量検出手段5006を介して，再符号化された動画データのビットレート情報を「再量子化手段5003」にフィードバックし，再符号化の目的とするビットレートと比較するために設けられたものである。「バッファ記憶手段5005」は，送信ビットレートを推定するものでもなく，また，再符号化の目的とするビットレートを選択するものでもない。
          これに対し，刊行物1発明は，送信バッファの残量から送信ビットレートを推定するものであり，同発明の「送信バッファ」は，周知文献Aの「バッファ記憶手段5005」とは機能において相違する。したがって，刊行物1発明と周知文献A記載の技術とを組み合わせる理由がない。仮に，これらを組み合わせたとしても，上記相違点1に係る構成には至らない。
        (イ)
          国際公開03／047264号(甲6。以下「周知文献B」という。)には，トランスコーディングシステムを用いてビットレート変換を行うことが一般的に示されているにすぎず，上記相違点1及び2に係る構成を開示も示唆もしていない。
        (ウ)
          以上のとおり，補正後発明は，刊行物1発明並びに周知文献A及びBに示された周知技術に基づいて，当業者が容易に発明することができたものではない。
      エ 補正後発明の効果についての認定の誤り
        補正後発明は，前記相違点1及び2に係る構成により，送信レートの変動に応じて符号化のビットレートを調整して，該符号化したメディアストリームを(中間の)バッファに格納し，該バッファからメディアストリームを送信するようにしているため，ネットワーク混雑時及びデータレート変動によるデータロスを回避し，帯域幅の変動があっても，最適なユーザー体験を提供することができ，かつ，クライアント装置からのフィードバックを要求せずにそのことを実現できるとの効果を奏する。
        なお，補正後発明では，「前記メディアストリームを送信するステップ」の前の段階で，バッファ内に様々なビットレートのメディアストリームが途切れることなく順次蓄積されるので，バッファが満杯にならない限り，データロスは起こり得ない。これに対し，刊行物1発明では，「データロス」を回避できない。刊行物1発明では，その都度の送信ビットレートにリアルタイムに対応して，送信ストリームのビットレートを切り換えて送信している。このとき，通信ネットワークの混雑状況の変動に対応しきれない場合も起こり得るから，そのような場合には，送信タスクで使用される送信バッファによっては，送信の遅れを吸収することができず，データロスが生じる。
        したがって，補正後発明は，刊行物1発明に基づいて，当業者が容易に発明をすることができたものではない。
    (2) 本願発明の容易想到性の判断の誤り(取消事由2)
      本願発明のうち，「バッファ内に残っている空きスペースの量に少なくとも部分的に基づいて選択されたビットレートを用いて前記入力信号を符号化することにより，ネットワークを経由して送信するのに適したメディアストリームを構築するステップ」との構成は，補正後発明の前記相違点1に係る構成に準じたものであり，刊行物1発明との相違点となっている。そして，上記「バッファ」は，周知文献AにもBにも記載されていない。
      したがって，本願発明は，当業者が容易に発明できたものではない。
  2 被告の反論
    (1) 本件補正の却下決定の誤り(取消事由1)に対して
      ア 刊行物1発明の認定の誤りに対して
        原告は，刊行物1発明では「送信バッファ」は「サーバと端末が同期して動作する場合」に使用されるものであるから，その点を認定すべきであると主張する。
        しかし，以下のとおり，原告の主張は失当である。
        本願明細書の記載によれば，補正後発明の一実施形態では，「バッファ内に残っている空きスペースの量」を求めるには，「信頼性が高い(送信データは常に正しい順序で宛先に届くことが保証されている)TCPのプロトコルを用いる」ことを必須としている。TCPのプロトコルは，高い信頼性を担保するために，「端末よりデータ受信完了の通知あるいは，次のデータの送信要求が得られるシステム」であることは，技術常識である。したがって，補正後発明も，その実施形態において「端末よりデータ受信完了の通知あるいは，次のデータの送信要求が得られる」ものであり，この点において刊行物1発明と異なるところはない。本願明細書の段落【0060】における「クライアント装置からのフィードバックを要求せず」とは，クライアント装置からのフィードバックを全く要求しないということではなく，受信ビットレートの情報や回線レートに関する情報について，フィードバックを受けることなく，「バッファ内に残っている空きスペースの量」から，回線のビットレートを推定できることを述べていると理解される。
      イ 補正後発明と刊行物1発明との対比の誤りに対して
        (ア)
          補正後発明の「バッファ」は「メディアストリームがネットワーク経由で遠隔地のクライアントに向かって出て行くよりも前に，メディアストリームが格納される格納手段」といえる。
          刊行物1発明の「送信バッファ」は，ストリームデータがネットワークを経由して遠隔地の端末に向かって出て行くよりも前に，ストリームデータが格納される格納手段であるから，補正後発明の「バッファ」と刊行物1発明の「送信バッファ」とは，この点において相違はない。
        (イ)
          補正後発明における「構築」は，「選択されたビットレートを用いて前記受信した入力信号を符号化」することにより得られた「符号化した入力信号」に対して，何らかの処理を行い，「ネットワークを経由して送信するのに適したメディアストリームを」得る，上記「何らかの処理」と捉えることができる。
          刊行物1発明では，入力信号を得て，当該入力信号を処理して，メディアストリームを配信していることから，メディアストリームを入力信号から「構築」しているといえる。刊行物1発明では，ビットレートの異なる複数のストリーム(原ストリーム)は，配信される前に，リアルタイムデータ変換処理及び配信処理により，配信するために必要な処理が行われ，配信されている。補正後発明における上記「何らかの処理」と刊行物1発明における上記一連の処理と異なる点はない。
        (ウ)
          以上のとおり，審決の相違点の認定に誤りはない。
      ウ 相違点に係る容易想到性の判断の誤りに対して
        審決認定の相違点に係る構成は周知の技術事項であり，相違点に係る構成を採用することは当業者が容易になし得たことであるとした審決の判断に誤りはない。
        10エ  補正後発明の効果についての認定の誤りに対して
        原告は，補正後発明は，クライアント装置からのフィードバックを要求せずに，「ネットワーク混雑時及びデータレート変動によるデータロスを回避し，帯域幅の変動があっても，最適なユーザー体験を提供することができる」と主張する。
        しかし，刊行物1発明では，「端末への回線レートが変動するシステムにおいても，その時々の回線レートにあったレートにより配信することが可能となる」のであるから，ネットワークの混雑時及びデータレート変動によるデータロスを回避し，帯域幅の変動があっても，最適なユーザ体験ができるといえる。また，前記のとおり，「クライアントからのフィードバック」がされている点では，補正後発明と刊行物1発明との間に相違はない。したがって，補正後発明に格別な効果があるということはできない。
    (2) 本願発明の容易想到性の判断の誤り(取消事由2)に対して
      本願発明が刊行物1発明に基づき当業者が容易に発明することができたとする審決の判断に誤りはない。
第4 当裁判所の判断
  当裁判所は，原告主張の取消事由にはいずれも理由がないと判断する。その理由は，以下のとおりである。
  1 認定事実
    (1) 本願明細書の記載
      本願明細書には，以下の記載がある。図3は別紙本願明細書図3のとおりである。(甲2)
      「【0002】本発明は，一般に，パーソナルストリーミングメディア放送局に関し，より詳細には，ネットワーク経由でクライアント装置に入力されるメディアソースからのストリーミングメディアに関する。」
      「【0031】図3は，本発明の一実施の形態によるパーソナルメディア放送局100の内部コンポーネントを示すブロック図である。図示のように，放送局10  110には，アナログケーブルから，またはアンテナからのRF信号，Sビデオ信号，コンポジットビデオ信号，および左右オーディオ信号，を含む多様な入力形式の何れかを受信するための入力インターフェース305が含まれる。」
      「【0032】・・・アナログ信号は，A／V復号器315内で更にデジタル信号に変換する。次いで，A／V復号器315からのデジタルビデオ，およびオーディオ信号は，更に処理するためにプロセッサ320に送る。パーソナル放送局100には，関係する処理タスクをプロセッサ320が実行するために用いる，フラッシュメモリ，またはSDRAM等の，メモリ330が含まれる。メモリ330は，各種の実施の形態に対して本明細書で説明するように，送出するメディアストリームのためのバッファとしても用いることができる。
      【0033】一実施の形態では，プロセッサ320は，圧縮する前にデジタルオーディオ，およびビデオ信号に前処理を施す。・・・前処理の後，プロセッサは，任意の適切な圧縮技法(WM9，MPEG-4，H．263，およびH．264等)を用いて，オーディオ，およびビデオ信号を所望のビットレートに圧縮する。・・・一実施の形態では，プロセッサ320は，ユーザーリクエスト，入力コンテンツ，利用可能なネットワーク帯域幅，またはプロセッサ320に既知の任意の他のデータ，に応じて，静的，および／または動的に圧縮ビットレート，フレームレート，解像度，およびフィルタ処理を調整できる。次いで，圧縮したメディアストリームは，ネットワークインターフェース325を介して，ローカルネットワーク140，またはリモートネットワーク160経由で送信するためにネットワークパケットに変換する。」
      「【0044】パーソナルメディア放送システムの動作
      図1～図3を参照して上記説明したように，パーソナルメディア放送局100は，幾つかのA／Vソース装置120の内の任意の装置からの入力ビデオ信号を受け取ることができる。次いで，放送局100は，受け取ったビデオ信号をメディアストリームとして作製し，ユーザがメディアストリームを視聴するリモートまたはロー  12カルのクライアントにネットワーク経由で送信される。この基本処理に対する追加，代替，および改良を以下に説明する。」
      「【0049】スループットおよび装置能力に基づく符号器設定の調整
      放送局が，ローカルエリアネットワーク，および各種のリモートネットワークに接続される多様なクライアント装置形式によるメディアストリームのアクセスを可能にするので，一端のパーソナル放送局と，他端のローカルクライアントおよびリモートクライアントとの間の利用可能なデータスループットは，ネットワークトポロジーに基づいて大きく変動し得る。競合トラフィック，および一般的なネットワーク混雑状況により，所与の接続でかなりのスループット変化がある場合も考えられる。本発明の一実施の形態では，利用可能なネットワーク帯域幅，およびクライアント装置の能力に基づいてオーディオ圧縮(例えば，ビットレートおよびサンプリングレート)，およびビデオ圧縮(例えば，ビットレート，解像度，およびフレームレート)を最適化するための方法を実装する。」
      「【0060】バッファーリソースのバッファリングおよび制御
      本発明の一実施の形態によれば，パーソナルメディア放送局は，バッファリングスキームを実装して，クライアント装置からのフィードバックを要求せずに，バッファーリソースを管理する。上記説明のように，放送局およびクライアントは，トランスポートプロトコルとしてTCPを用いて通信でき，その場合は放送局がサーバとして働く。利点は，TCPは，信頼性が高いプロトコルであり，送信データは常に正しい順序で宛先に届くことが保証されている，という点にある。サーバ上のTCPスタックのパラメータ，および／または振る舞いをモニタして，一つ以上の既知の技法により，ネットワークの混み具合，および速度を推定できる。
      【0061】  本発明の実施の形態によれば，大きいバッファが，符号器(データを生成する)と，ネットワークインターフェース上のTCPスタック(データを転送する)との間に追加される。TCPスタックの上に追加されたこの追加バッファーレイヤは，ネットワーク混雑時，およびデータレート変動によるデータロスを  13回避するのに役立つ。一実施の形態では，図3を参照すると，符号器機能がプロセッサ320により実行され，TCPスタック機能がネットワークインターフェース325により実行され，そしてバッファーレイヤが，汎用メモリ330内に，または大きいバッファのための専用メモリーモジュール内に実装される。このバッファのサイズは，少なくとも二つのパラメータ，すなわち符号器が生成できる最小データ，およびサポートしなければならないネットワークの最大ダウン時間，を考慮して選択できる。利用できる帯域幅が，放送局が要求する最小帯域幅に長時間の間満たない場合，システムはデータロスを防ぐことはできないが，バッファが大きいほど，この危険性を低下させるのに役立つ。
      【0062】メディアストリーム用のデータを放送局が生成している時，中間バッファはFIFO待ち行列として働く。利用できるネットワークの帯域幅が，符号器の帯域幅を超える場合，放送局は，生成すると直ぐにデータを送信できる。中間バッファは空になり始める。利用できるネットワークの帯域幅が，符号器の帯域幅に満たない場合，放送局は，データを送信するより速くデータを生成できる。それにより，バッファは一杯になり始める。従って，バッファは，完全に一杯の状態と，完全に空の状態との間で変化することになる。バッファの占有度を分類するために，幾つかの水準を定義して，バッファ内の残っている空きスペースの量を指示する。水準の個数は変更できるが，一実施の形態では，4個の水準を，90％，75％，50％，および30％のレベルで用いる。データをバッファに追加したり，抜き出すと，バッファを満たすデータ量は，時間経過とともに変更できる。このレベルが水準の内の一個に達した時，どの水準に達したのかに応じて，様々なアクションをとる。
      【0063】中間バッファに残る空きスペースの量は，一定時間(例えば，1分)観察する。最新の観察期間中に，バッファ内の空きスペースの量が，90％水準を超えて残っている場合，符号器の出力ビットレートは増加させてもよい。アプリケーションに基づいて幾らでも増加して実施できるが，一実施の形態では，その  14増加幅は，その時に用いているビットレートの約10％である。
      【0064】ネットワーク帯域幅は，時間経過とともに変化するので，利用できる帯域幅が突然低下することが頻繁に起きる。このような場合，TCPスタックの送信レートを下げるので，中間バッファの占有率は増加する。長い時間に亘ってこれが起きる場合，バッファの空きスペースが減少するので，90％水準が突破されることになる。それに応じて，放送局は，符号器のビットレートを僅かな割合で，例えば，そのときに用いているビットレートの約15％，低下させる。このネットワーク問題が一時的なものである場合，TCPスタックは，バッファ内のデータのバックログを再度送信できるので，バッファ内の空きスペースの量は，再び90％水準を超えて上昇する。その後，符号器のビットレートを増加させることができる。
      【0065】他方，ネットワーク問題が持続する場合，空きスペースの量は，減少し続ける。ある時間が過ぎると，バッファは一杯になり，他の水準が突破される。それぞれの水準が突破されるたびに，符号器のビットレートは更に減少する。一実施の形態では，これらの後続の減少率は次第に大きくなる(例えば，それぞれの水準に対して33％，50％，50％)。
      【0066】説明してきたように，システムは，TCPスタックの振る舞いを知的に生かしてネットワークの状態を推定し，帯域幅の変動があっても，最適なユーザー体験を提供するよう反応する。これにより，複雑で，反応が遅く，符号器の出力ビットレートの変動が予想される場合には正しい決定ができないこともあるクライアントとサーバとの相互作用を用いる方法と比較すると，改善した性能を提供できる。」
    (2) 刊行物1の記載
      刊行物1は，発明の名称を「メディア変換方法およびメディア変換装置」とする発明に係る公開特許公報であり，以下の記載がある。図15及び16は，別紙刊行物1図15及び同図16のとおりである。(甲1)
      「【0001】
      15【発明の属する技術分野】本発明は映像配信サーバに係わり，特に映像ファイルを途中から配信する場合および配信サーバを介してリアルタイムの映像を配信する場合の処理方法に関する。
      【0002】
      【従来の技術】端末からのリクエストに応じて，映像あるいはオーディオ(以下，「オーディオ」を音声またはオーディオの意味で用いる)および映像を伝送路を介して，サーバから端末へ該当データを配信する場合には，各メディア，すなわち映像およびオーディオの再生タイミングを示すための同期情報と，映像データ・オーディオデータ・同期情報を1つのデータとして多重化するシステムレイヤが必要となる。これら，システムレイヤおよび同期情報を規定する方式として，従来は，アイ エス オー／アイ イー シー ISO/IEC 14496-1にて定められた，ファイルフォーマット(以下MP4フォーマット)があった。MP4フォーマットは図1のようにmoovと呼ばれる付帯情報部分11と，mdatと呼ばれる符号化されたメディアデータ(映像データあるいはオーディオデータ部分12)とから構成される。」
      「【0004】
      【発明が解決しようとする課題】・・・本発明は，コンテンツの途中からの再生，あるいはリアルタイムにエンコードされている永続するストリームを，従来技術の方式にのみ対応する端末において再生可能とするストリーム変換方法を提供することを目的とする。」
      「【0006】
      【発明の実施の形態】以下本発明による第1の実施例を図6に示す。図6は，映像51をエンコード処理52により一旦MP4フォーマットに合致した原ストリーム53を生成し，蓄積処理54により一旦蓄積した後に，再生開始時刻60を受け，蓄積したストリーム55を読み出し，変換処理56により，ストリーム53の途中の指定された付近の時刻から開始される変換ストリーム57を生成し，生成したストリーム57を配信処理58により，配信ストリーム59として端末へ配信す  16る。」
      「【0019】図15は，本発明の第3の実施例である。図15では，同一コンテンツにつき，ビットレートの異なる複数(図16の例では3つ)のストリームを用意しておき，端末からの要求に応じて，moof/mdatの組み合わせ単位で複数のストリームを切り替えることによってビットレート可変の伝送が可能となる。図16は，ビットレート可変の例として，端末への回線のビットレートが変動するようなシステムに適用した例であり，ネットワークのビットレートに適応したビットレートにて配信することが可能になる。
      【0020】図16では当初32kbpsにて開始した配信を，時刻4付近からのバンド幅の拡大に伴い，時刻4の最中48kbpsへの変更要求があり，時刻5からレートを変更，以降時刻11より64kpbsに，時刻13より32kbpsへと，ビットレートを変更している。
      【0021】図17は図15の処理に対応したリアルタイムデータ変換処理の詳細を説明するためのフローチャートである。処理の内容は図13とほぼ同じであるが，配信開始時にビットレート設定処理150，各moof/mdat配信前にビットレート変更要求有無判定151およびビットレート変更要求有りの場合にビットレート変更処理152が追加されている点が図13と異なる。また，各moof/mdatは，それぞれの時点で設定されているビットレートに対応するストリームから読み出す。一方，上記に該当しないビットレートのストリームに関しては，処理160，161にてmoof/mdatを読み飛ばし，常に同期をとっておく。・・・
      【0022】図15から図17の処理により，端末への回線レートが変動するシステムにおいても，その時々の回線レートにあったレートにより配信することが可能となる。また，配信中の回線レートの変動は少ないが，実際の回線レートが周囲環境等により決定され，事前に決定されない場合にも有効である。なお，回線レートの計測は以下のような環境の情報を用いて行う。
      【0023】(1)端末より，端末にて計測した受信ビットレートを通知する。
      17(2)端末より，回線レートに関連する情報を通知し，配信側は受信した情報をもとに適切なビットレートを設定する。例えば，最大ビットレート等，複数回線を束ねる通信路では取得回線数，無線通信路では電波の強度，エラーレートの値等が使われる。
      (3)サーバと端末が同期して動作する，すなわち，端末側よりデータ受信完了の通知あるいは，次データの送信要求が得られるシステムの場合は，サーバにて送信ビットレートを計測する。
      (4)サーバと端末が同期して動作する場合，送信バッファの残量から送信ビットレートを推定する。
      (5)ネットワークより，通信ビットレート通知する。
      (6)ネットワークより，回線レートに関連する情報を通知する。
      (7)上記の組み合わせ。」
      「【0032】第3の実施例では，端末への回線レートが変動するシステムにおいても，その時々の回線レートにあったレートにより配信することが可能となる。」
  2 本件補正の却下決定の誤り(取消事由1)について
    (1) 刊行物1発明の認定の誤りについて
      原告は，刊行物1発明について，審決が，①「送信ビットレート」を「ビットレート」と認定した点，②送信バッファの残量からネットワーク(回線)のビットレートを推定するのは「サーバと端末が同期して動作する場合」に限られるにもかかわらず，その点の限定をすることなく認定した点に誤りがあると主張する。
      しかし，以下のとおり，原告の主張は，刊行物1発明と補正後発明との相違点を認定判断する上で，何ら影響を及ぼすものではなく，主張自体失当である。
      ア 補正後発明(甲2，3)
        補正後発明は，ネットワーク経由でクライアント装置に入力されるメディアソースからのストリーミングメディアの送信に関する発明である。本願明細書の記載に  18よると，一実施形態であるパーソナルメディア放送局100において，入力インターフェース305は，オーディオビデオ(A／V)ソース装置から入力信号を受信し，プロセッサ320はデジタルオーディオ及びビデオ信号に前処理を施した後，任意の圧縮技法により，オーディオ及びビデオ信号を所望のビットレートに圧縮し，圧縮したメディアストリームを，ネットワークインターフェース325を介して，ローカルネットワーク140又はリモートネットワーク160経由で送信するのに適したネットワークパケットに変換する。メモリ330は，送出するメディアストリームのためのバッファとしても用いることができる。
        パーソナルメディア放送局は，バッファリングスキームを実装して，クライアント装置からのフィードバックを要求せずに，バッファーリソースを管理している。また，トランスポートプロトコルとしてTCPを用いて通信することができる。
        パーソナルメディア放送局がメディアストリーム用のデータを生成している時，中間バッファはFIFO待ち行列として働く。利用できるネットワークの帯域幅が，符号器の帯域幅を超える場合には，生成されたデータは直ぐに送信され，中間バッファは空になり始めるが，利用できるネットワークの帯域幅が，符号器の帯域幅に満たない場合には，データは，送信するよりも速く生成されるため，バッファは一杯になり始める。バッファの占有度を分類するために，バッファ内の残っている空きスペースの量について幾つかの水準を定義し，バッファ内の残っている空きスペースの量が水準の内の一個に達した時，どの水準に達したのかに応じて，符号器の帯域幅(ビットレート)を増減させる。
        このように，補正後発明においては，TCPスタックの振る舞いを知的に生かしてネットワークの状態を推定し，帯域幅の変動があっても，最適なユーザー体験を提供するよう反応するとの作用効果を有する。
      イ 刊行物1発明
        刊行物1発明は，映像配信サーバを介したリアルタイムの映像配信の処理方法に関する発明である。刊行物1発明(刊行物1の第3実施例)においては，映像51  19にエンコード処理52を行って原ストリーム53を生成し，リアルタイムデータ変換処理131により，原ストリーム53を変換ストリーム57に変換し，配信処理58により，配信ストリーム59として配信される。そして，刊行物1発明においては，同一コンテンツにつき，ビットレートの異なる複数のストリームが用意され，回線レートの測定結果に基づき，端末からビットレート変換要求130があると，これに応じて複数のストリームを切り替えることによって，ビットレート可変の伝達が可能となる。回線レートの計測は，サーバと端末が同期して動作する，すなわち，端末側よりデータ受信完了の通知あるいは，次データの送信要求が得られるシステムの場合は，送信バッファの残量から送信ビットレートを推定する方法により行うことができる。この処理方法により，端末への回線レートが変動するシステムにおいても，その時々の回線レートにあったレートにより配信することが可能となるとの作用効果を有する。
      ウ 原告主張の当否について
        (ア)
          原告主張に係る①については，刊行物1発明における「ビットレート」も，補正後発明における「ビットレート」も，送信におけるビットレートを意味するものと解される。したがって，補正後発明と刊行物1発明との対比の前提としての刊行物1発明の認定において，「ビットレート」と認定したことに，結論に影響を及ぼす誤りはない。
        (イ)
          原告主張に係る②については，前記のとおり，刊行物1発明において送信バッファの残量から送信ビットレートを推定する方法により回線レートの計測が行われるのは，サーバと端末が同期して動作する場合であると認められる。
          そこで，補正後発明において，「サーバと端末が同期して動作」しているか否かを検討する。
          前記のとおり，補正後発明におけるパーソナルメディア放送局は，トランスポートプロトコルとしてTCPを用いて通信することができ，この場合，ネットワークインターフェース上でTCPスタック(データを転送する)機能が実行される。
          20TCP(Transmission Control Protocol)では，信頼性を保証するためにPAR(Positive Acknowledgment with Re-transmission)方式という仕組みを使用しており，受信側がデータが無事に届いたことを確認した場合は，肯定確認応答(positive acknowledgment)を送信側に返し，データが壊れていた場合は，そのデータを廃棄し，あるセグメントに対して，一定のタイムアウト期間が経過しても受信確認の応答が返ってこなければ，送信側のTCPはそのセグメントを再送信することは，本願優先日当時，当該技術分野では技術常識であったと認められる(乙3)。そうすると，補正後発明においては，「バッファ内に残っている空きスペースの量に少なくとも部分的に基づいて選択されたビットレートを用いて前記受信した入力信号を符号化し，前記バッファ内に残っている空きスペースの量の変化に応じて前記ビットレートを変化させるようにする」に当たり，システムサーバと端末が同期して動作するものが含まれていると解される。
          以上のとおり，補正後発明には，システムサーバと端末が同期して動作する場合に，バッファ内に残っている空きスペースの量の変化に応じてビットレートを変化させるものが含まれており，補正後発明と刊行物1発明との対比の前提としての刊行物1発明の認定において，送信バッファの残量から送信ビットレートを推定するのが，「サーバと端末が同期して動作する」場合であると認定しなかったことが，結論に影響のある誤りとはいえない。
          よって，審決の刊行物1発明の認定に誤りはない。
    (2) 補正後発明と刊行物1発明との対比の誤りについて
      原告は，補正後発明と刊行物1発明については，以下のとおりの相違点を認定すべきであり，審決の相違点の認定には誤りがあると主張する。
      ①  相違点1
      補正後発明では，「バッファ内に残っている空きスペースの量に少なくとも部分的に基づいて選択されたビットレートを用いて前記受信した入力信号を符号化し，前記バッファ内に残っている空きスペースの量の変化に応じて前記ビットレートを  21変化させるようにすることにより，ネットワークを経由して送信するのに適したメディアストリームを，該符号化した入力信号から構築するステップ」との構成を備えているのに対し，刊行物1発明はこれに相当する構成を備えていない点
      ②  相違点2
      補正後発明では，「送信に先立って前記メディアストリームを前記バッファに格納するステップ」との構成を備えているのに対し，刊行物1発明ではこれに相当する構成を備えていない点
      以下，原告主張に係る相違点2，相違点1の順で検討する。
      ア 相違点2について
        補正後発明では，「送信に先立って前記メディアストリームを前記バッファに格納するステップ」との構成を備えており，プロセッサ320で生成されたメディアストリームは，「バッファ」に格納された後に送信される。
        これに対し，刊行物1には，送信バッファの残量から送信ビットレートを推定することは記載されているが，この「送信バッファ」が送信に先立ってコンテンツストリーム(メディアストリーム)を格納するものであるか否かは不明である。
      イ 相違点1について
        補正後発明では，「バッファ内に残っている空きスペースの量に少なくとも部分的に基づいて選択されたビットレートを用いて前記受信した入力信号を符号化し，前記バッファ内に残っている空きスペースの量の変化に応じて前記ビットレートを変化させる」との構成を有する。これに対し，刊行物1には，送信バッファの残量から送信ビットレートを推定することは記載されているが，上記のとおり，この「送信バッファ」が補正後発明における「バッファ」に相当するか否かは不明である。
        また，補正後発明では，「選択されたビットレートを用いて前記受信した入力信号を符号化し」「ネットワークを経由して送信するのに適したメディアストリームを，該符号化した入力信号から構築する」のに対し，刊行物1発明では，「同一コ  22ンテンツにつき，ビットレートの異なる複数のストリームを用意し，ネットワークのビットレートに適応したビットレートを用いて，複数のストリームを切り替えて出力することにより」「コンテンツストリームを配信する」ものである点で，相違する。
      ウ
        以上によると，原告の指摘に係る点を前提とするならば，補正後発明と刊行物1発明との相違点について，審決が認定した「補正後発明では，上記ネットワークを経由して送信するのに適したメディアストリームを，入力信号から構築するステップが，『選択されたビットレートを用いて前記受信した入力信号を符号化することにより，該符号化した入力信号から』構築しているのに対し，刊行物1発明では，『選択されたビットレートを用いて，用意したビットレートの異なる複数のストリームの一つを選択して出力することにより』構築している点」を相違点であると認定した上で容易想到性の判断をするよりは，むしろ，以下のように相違点を認定した上で，容易想到性の有無を判断するのが，より適切であるといえる。もっとも，以下のように認定したとしても，認定に係る下記相違点は，後記のとおり，「実質的な相違点とはいえない部分」及び「補正後発明の容易想到性に影響を与えるとはいえない部分」を付加したものであり，本願優先日当時における技術常識に照らして，結論に影響を有するものではない。以下では，判断の便宜上，相違点Aと相違点Bに分けて記載した。
        ①  相違点A   補正後発明は，「バッファ内に残っている空きスペースの量に少なくとも部分的に基づいて選択されたビットレートを用いて前記受信した入力信号を符号化し，前記バッファ内に残っている空きスペースの量の変化に応じて前記ビットレートを変化させるようにすることにより，ネットワークを経由して送信するのに適したメディアストリームを，該符号化した入力信号から構築するステップ」を有するのに対し，刊行物1発明が上記の構成を有するとは認められない点。
        ②  相違点B   23  補正後発明が「送信に先立って前記メディアストリームを前記バッファに格納するステップ」を有するのに対し，刊行物1発明は，「送信バッファに送信のためのデータを記憶するステップ」は有するものの，「送信に先立って前記メディアストリームを前記バッファに格納するステップ」を有するか否かは不明である点。
    (3) 相違点A及びBの実質的な観点からの検討及び容易想到性の有無について
      相違点B，相違点Aの順で判断する。
      ア 相違点Bの容易想到性について
        (ア)
          刊行物1には，「送信バッファ」の機能等についての明示的な記載はない。しかし，以下の証拠によれば，刊行物1発明における「送信バッファに送信のためのデータを記憶するステップ」において，「送信バッファ」に，送信に先立ってコンテンツストリームを記憶させる(格納する)機能を持たせることは，当業者において技術常識であるといえる。
          すなわち，本願優先日前に頒布された刊行物には，以下の記載がある。
          ①  周知文献A(甲5)
          圧縮符号化された動画データを伝送路に送信する場合，伝送路が伝送可能なビットレートと動画データのビットレートが異なることがあり，リアルタイムに動画を再生するためには，動画データのビットレートを伝送可能なビットレートに合わせて変更する必要性があること(段落【0003】)，従来技術である動画符号化装置において，再量子化手段5003は入力手段5007より入力されたビットレートとバッファ占有量検出手段5006より入力されたバッファ占有量を比較して，所定のビットレートを満たすように量子化値を設定し再量子化を行うこと，バッファ記憶手段5005は可変長符号化手段5004より入力された動画データを出力手段5008に出力するとともに，動画データのデータ量をバッファ占有量検出手段5006に出力すること(段落【0007】)が記載されている。
          ②  特開2003-244706号公報(乙4)
          従来の画像符号化データ変換装置(画像符号化方式変換と画像符号化レート変換  24を行う装置)が，外部から出力されるビットストリームを蓄積するバッファ101，バッファ101から出力される画像符号を復号するデコーダ102，デコーダ102から出力される画像信号を符号化するエンコーダ103，エンコーダ103から出力される画像符号を蓄積し，外部に出力するバッファ104からなること，エンコーダ103は，バッファ104のバッファ占有量を監視しており，このバッファ占有量はエンコーダ103において実行される符号化処理中の生成符号量の制御に利用されること(段落【0008】【0015】)，上記公報に記載された発明に係る画像符号化データ変換装置において，量子化ステップ変更手段52は出力バッファ蓄積値504を監視し，出力バッファ40でオーバーフローが生じるような場合には，符号化量子化ステップ502を変更して，符号化部2で発生する符号量を低減させ，出力バッファ40でアンダーフローが生じるような場合には，符号化量子化ステップ502を変更して，符号化部2で発生する符号量を増加させること(段落【0067】～【0068】)が記載されている。
          ③  特開2001-160967号公報(乙5)
          従来の画像符号化方式変換装置が，外部から出力されるビットストリームを蓄積するバッファ5，バッファ5から出力される画像符号を復号するデコーダ6，デコーダ6から出力される画像信号を符号化するエンコーダ7，エンコーダ7から出力される画像符号を蓄積し，外部に出力するバッファ8を備えていること(段落【0010】)，エンコーダ7は，バッファ8のバッファ占有量を監視しており，このバッファ占有量はエンコーダ7において実行される符号化処理中の生成符号量の制御に利用されること(段落【0011】)，上記公報に記載された発明に係る画像符号化方式変換装置において，量子化ステップ制御手段71は出力バッファ情報109を監視し，出力バッファ40でオーバーフローが生じるような場合には，量子化ステップ情報103を変更して，符号化部2で発生する符号量を低減させ，出力バッファ40でアンダーフローが生じるような場合には，量子化ステップ情報103を変更して，符号化部2で発生する符号量を増加させること(段落【0080】  25～【0081】)が記載されている。
          ④  特開平9-307518号公報(乙6)
          画像データ等の情報データを伝送するための情報データ伝送システムにおいて(段落【0001】)，VLC(可変長符号化)回路106では，ハフマン符号化方式を用いてデータ量の削減を行って，送信バッファ107へ入力し，送信バッファ107はバッファの充足度をレートコントロール回路118へ入力すること(段落【0059】～【0060】)，レートコントロール回路118は，送信バッファ107の充足度に応じて，量子化回路105を制御する量子化スケールをブロック単位，あるいはブロックの複数単位で適宜更新し，量子化回路105に入力すること，送信バッファ107の充足度が小さい場合には，データ発生量を増やすため，量子化回路105の量子化ステップが小さくなるように，量子化スケールを小さい値にし，送信バッファ114の充足度が大きい場合には，データ発生量を減少させるために，量子化回路105の量子化ステップが大きくなるように，量子化スケールを大きい値にすること(段落【0067】)が記載されている。
        (イ)
          以上によると，符号化したビットストリームを伝送路に送信する装置において，ビットストリーム(動画データ)を送信に先立ってバッファに格納した後に，伝送路に出力すること，上記バッファの占有量(充足度)に応じて，符号化における生成符号量(データ発生量)を制御することは，本願優先日当時，当該技術分野において通常に行われていたことであると認められる。そうすると，刊行物1発明における「送信バッファに送信のためのデータを記憶するステップ」において，「送信バッファ」に，送信に先立ってコンテンツストリームを記憶させる(格納する)ことは，当業者において通常実施される技術であると認められる。
          なお，原告は，補正後発明では，時間的に最も古いメディアストリームから読み出すことから，「バッファ」の読み出しに基づき送信されるメディアストリームのビットレートは，必ずしも現在のビットレートに対応しているとはいえないのに対し，刊行物1発明では，その都度の送信ビットレートにリアルタイムに対応して，  26送信ストリームのビットレートを切り替えて送信しているため，補正後発明の「バッファ」と刊行物1発明の「送信バッファ」とは異なる旨主張する。
          しかし，上記のとおり，刊行物1発明の「送信バッファ」においても，送信に先立ってコンテンツストリームを格納しているとすると，送信されるコンテンツストリームのビットレートは必ずしも現在のビットレートに対応しているとはいえず，その点において補正後発明と異なることはない。
          以上によると，補正後発明における「バッファ」と刊行物1発明における「送信バッファ」との間に実質的な相違があるとは認められず，相違点Bは，補正後発明と刊行物1発明との実質的な相違点とはいえない。
      イ 相違点Aの容易想到性について
        (ア)
          a
            補正後発明も刊行物1発明も，ネットワークを介してメディアストリームを端末に送信するに際しては，ネットワークの帯域幅(回線レート)が時間とともに変動するため，この変動に適応したビットレートで符号化されたメディアストリームを送信することを目的とした発明である。
            上記目的を解決するため，補正後発明では，①受信した入力信号を符号化するのに用いられるビットレートが，「バッファ内に残っている空きスペースの量に少なくとも部分的に基づいて選択」され，「前記バッファ内に残っている空きスペースの量の変化に応じて変化」し，さらに，②「(上記のとおり)選択されたビットレートを用いて前記受信した入力信号を符号化し」「該符号化した入力信号から」メディアストリームを構築し，これを送信するとの構成を採用する。
            これに対し，刊行物1発明では，①サーバから配信するためのネットワーク(回線)のビットレートが，「送信バッファの残量から推定」され，さらに，②同一コンテンツにつき，ビットレートの異なる複数のストリームを用意し，上記のとおり送信バッファの残量から推定したネットワークのビットレートに適応したビットレートに基づき，複数のストリームのうち出力するストリームに切り替え，これを配信するとの構成を採用する。
  27
    b  前記のとおり，補正後発明における「バッファ」と刊行物1発明における「送信バッファ」との間に実質的な相違があるとは認められないことから，補正後発明における，ビットレートが「バッファ内に残っている空きスペースの量に少なくとも部分的に基づいて選択」されることと，刊行物1発明における，ビットレートが「送信バッファの残量から推定」されることとは，実質的に相違しないと認められる。また，刊行物1発明ではビットレートが「送信バッファの残量から推定」されることから，「送信バッファの残量」の変化に応じてビットレートも変動すると認められ，補正後発明における，ビットレートが「前記バッファ内に残っている空きスペースの量の変化に応じて変化」することと，実質的に相違しないと認められる。
    したがって，入力した信号を変動するネットワークの帯域幅に適応したビットレートで符号化するため，このビットレートを「バッファ内に残っている空きスペースの量に少なくとも部分的に基づいて選択」するとの補正後発明の構成は，刊行物1に開示されているといえる。
          c
            上記のとおり，符号化に当たり適切なビットレートが選択された場合に，刊行物1発明は，用意されていたビットレートの異なる複数のストリームから，選択されたビットレートに適応したビットレートで符号化されたストリームに切り替えて出力するものであるが，当業者が，この構成に代えて，補正後発明における「選択されたビットレートを用いて前記受信した入力信号を符号化し」「該符号化した入力信号から」メディアストリームを構築し，これを送信するとの構成を採用することは容易であると認められる。その理由は，以下のとおりである。
            本願優先日前に頒布された刊行物である周知文献Bに，以下の記載がある(甲6。なお，訳は，対応特許の公表特許公報(甲7)による。)。
            「一実施形態では，トランスコーディングエンコーダ150は，フレームバッファ140に記憶されたトランスコーディングデコーダ130の復号出力を，ソースビデオデータ105とは異なる特性をもつ，すなわち解像度，フレームレート，ビ  28ットレート等が異なるターゲットビデオデータ165に再符号化する。」(段落【0010】，「無線通信では，希望するビットレートと利用できるビットレートとの間の相違は，より顕著であり，チャネルの帯域は，その時々に変化する。このような場合，トランスコーディングシステム110を利用して，通信媒体155のチャネルビットレートにターゲットビデオデータ165を適合させる。」(段落【0012】)，「したがって，トランスコーディングシステムにおけるレート制御モジュールは，それぞれの符号化ビデオフレームサイズを制御して，平均ビットレートがチャネルデータレートに等しくなるようにし，ターゲットシステム160のビデオバッファ175がオーバフローまたはアンダーフローしないようにする。」(段落【0014】)
            上記周知文献Bの記載及び前記周知文献Aの記載によると，圧縮符号化した動画データを伝送路に送信する場合に，伝送路が伝送するのに適したビットレートで映像信号を符号化して動画データを得ることは，本願優先日当時，当業者に周知の技術であったと認められる。
            そうすると，当業者が刊行物1発明に上記周知技術を組み合わせて，補正後発明における上記構成を採用することは，容易であると認められる。
        (イ)
          補正後発明に係る特許請求の範囲には，ネットワークを経由して送信するのに適したメディアストリームを「該符号化した入力信号から構築する」との記載はあるが，特許請求の範囲や本願明細書には，メディアストリームの「構築」の意味内容を示した記載はない。補正後発明に係る特許請求の範囲の記載からすると，メディアストリームの「構築」とは，メディアストリームをネットワークを経由して送信できるよう適宜の処理をすることと理解するのが合理的である。
          刊行物1には，映像51にエンコード処理52を行って原ストリーム53を生成し，リアルタイムデータ変換処理131により，原ストリーム53を変換ストリーム57に変換し，配信処理58により，配信ストリーム59として配信されるとの記載がある。
  29
    刊行物1発明においては，同一コンテンツにつきビットレートの異なる複数のストリームが用意され，ネットワークのビットレートに適応したビットレートを用いて，これらの複数のストリームを切り替えて出力することにより，ネットワーク(回線)のビットレートに適応したビットレートでコンテンツストリームを配信する。刊行物1発明における「ビットレートの異なる複数のストリーム」は上記の「原ストリーム53」に対応し，これに対してリアルタイムデータ変換処理131により複数のストリームの切り替えが行われ，この切り替えられたストリームが変換ストリーム57に対応し，さらにこれに配信処理58が行われて得られた「コンテンツストリーム(メディアストリーム)」が「配信ストリーム59」に対応するのであり，この「コンテンツストリーム(メディアストリーム)」は，ネットワークを経由して送信するのに適したものであると認められる。
    したがって，刊行物1発明においても，ネットワークを経由して送信するのに適したメディアストリームを得るための処理が行われた「コンテンツストリーム(メディアストリーム)」の「構築」がなされていると認められ，この点において補正後発明と実質的な相違はない。
        (ウ)
          以上によると，当業者が補正後発明における相違点Aに係る構成に至るのは容易であり，この点につき審決の判断に誤りはない。
      ウ 原告の主張に対して
        原告は，①刊行物1発明では，送信バッファの残量から送信ビットレートを推定するものであり，この「送信バッファ」は周知文献Aの「バッファ記憶手段5005」とは機能が異なり，刊行物1発明と周知文献A記載の技術とを組み合わせる理由がない，仮に，これらを組み合わせたとしても，相違点に係る構成には至らない，②周知文献Bは相違点に係る構成を開示しておらず，刊行物1発明と組み合わせても，相違点に係る構成には至らない旨主張する。
        しかし，以下のとおり，原告の主張は失当である。
        前記のとおり，周知文献A及びBは，本願優先日当時，圧縮符号化した動画デー  30タを伝送路に送信する場合に，伝送路が伝送するのに適したビットレートで映像信号を符号化して動画データを得ることは，当業者にとって周知の技術であったことを示すものである。刊行物1発明は，映像信号のネットワーク通信に関する発明であり，選択されたビットレートに適応したビットレートで映像信号を符号化するにつき，当業者が，同じ技術分野における上記周知技術を組み合わせることは容易であるといえる。
    (4) 補正後発明の効果についての認定の誤りについて
      原告は，補正後発明は，ネットワーク混雑時及びデータレート変動によるデータロスを回避し，帯域幅の変動があっても，最適なユーザー体験を提供することができ，かつ，クライアント装置からのフィードバックを要求せずにそのことを実現できる，という優れた効果を奏する旨主張する。
      しかし，以下のとおり，原告の主張は失当である。
      前記のとおり，刊行物1発明は，端末への回線レートが変動するシステムにおいても，その時々の回線レートにあったレートにより配信することが可能となるとの作用効果を奏するものである。そして，刊行物1発明は，「同一コンテンツにつき，ビットレートの異なる複数のストリームを用意し，ネットワークのビットレートに適応したビットレートを用いて，複数のストリームを切り替えて出力する」ものと認められ，また，補正後発明における「バッファ」と，刊行物1発明における「送信バッファ」との間に実質的な相違があるとはいえず，刊行物1発明においても，送信のためのデータである「コンテンツストリーム」は，送信に先立って「送信バッファ」に記憶されると認められるから，刊行物1発明において，「ネットワークのビットレート」が大きく低下した場合に，できるだけ多くの時間分の符号化信号が「送信バッファ」内に記憶され，その結果，データロスが回避されることは，当業者には自明である。そうすると，補正後発明の作用効果として原告が主張する，ネットワークの混雑時及びデータレート変動によるデータロスを回避し，帯域幅の変動があっても，最適なユーザ体験を提供することができるとの作用効果は，刊行  31物1発明も奏するものと認められる。
      そして，上記のとおり，刊行物1発明において，「コンテンツストリーム」は，送信に先立って「送信バッファ」に記憶され，ネットワーク(回線)のビットレートは「送信バッファ」の残量から推定するものであるから，ネットワークの混雑時及びデータレート変動によるデータロスを回避し，帯域幅の変動があっても，最適なユーザ体験を提供することができるとの作用効果を，クライアント装置からのフィードバックを要求せずに実現できることは自明である。そうすると，補正後発明の作用効果として原告が主張する，クライアント装置からのフィードバックを要求せずに，ネットワークの混雑時及びデータレート変動によるデータロスを回避し，帯域幅の変動があっても，最適なユーザ体験を提供することができるとの作用効果は，刊行物1発明も奏するものと認められる。
    (5) 小括
      以上によると，補正後発明は当業者が容易に想到し得る発明であると認められ，補正後発明が特許出願の際独立して特許を受けることができないものであるとした審決の判断に誤りはない。
  3 本願発明の容易想到性の判断の誤り(取消事由2)について
    原告は，本願発明のうち，「バッファ内に残っている空きスペースの量に少なくとも部分的に基づいて選択されたビットレートを用いて前記入力信号を符号化することにより，ネットワークを経由して送信するのに適したメディアストリームを構築するステップ」との構成は，刊行物1発明との相違点であり，上記「バッファ」は周知文献AにもBにも記載されていないので，容易想到ではないと主張する。
    しかし，上記構成は相違点Aに含まれる構成であり，前記のとおり，相違点Aは刊行物1発明及び周知技術により，当業者が容易に想到し得るものであるから，上記構成も容易想到であるといえる。したがって，原告の主張は採用できない。
  4 結論
    上記のとおりであるから，原告主張の取消事由はいずれも理由がない。その他，  32原告は縷々主張するが，いずれも理由がない。よって，原告の請求を棄却することとして，主文のとおり判決する。


事件番号: 平成25年(行ケ)10040
裁判所: 知的財産高等裁判所
裁判所部名: 知的財産高等裁判所第1部
裁判年月日: 2013-12-25
権利種別: 特許権
事件種別: 審決取消訴訟
判例ID: 083856
知財高裁判例ID: 3610
