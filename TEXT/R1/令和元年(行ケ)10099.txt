主文
  1 原告の請求を棄却する。
  2 訴訟費用は原告の負担とする。
  3 この判決に対する上告及び上告受理申立てのための付加期間を30日と定める。

事実及び理由
第1 請求
  特許庁が不服2017-11744号事件について平成31年3月4日にした審決を取り消す。
第2 事案の概要
  本件は，原告の特許拒絶査定不服審判請求を不成立とした審決に対する取消訴訟である。争点は，進歩性の有無(引用発明の認定誤りに伴う相違点の看過)についての認定判断の当否である。
  1 特許庁における手続の経緯
    原告は，発明の名称を「グローバル電子シャッター制御を持つイメージ読み取り装置」とする発明について，平成18年3月7日を国際出願日とする特許出願(特願2008-500844号。優先権主張：平成17年3月11日［以下「本件優先日」という。］，優先権主張国：米国)をし，平成25年1月11日，上記特願2008-500844号の一部を特願2013-003616号として分割出願し，平成26年3月10日，上記特願2013-003616号の一部を特願2014-046409号として分割出願し，平成27年11月20日，上記特願2014-046409号の一部を特願2015-227211号として分割出願したが，平成29年4月5日付けで拒絶査定を受けた。
    原告は，平成29年8月7日，拒絶査定不服審判(不服2017-11744号)を請求する(甲8)とともに，同日付け手続補正書(甲9)により特許請求の範囲を変更する手続補正を行い，その後，平成30年7月13日付け手続補正書(甲12)及び平成31年1月18日付け手続補正書(甲15)により，それぞれ特許請求の範囲を変更する手続補正を行った。
    特許庁は，平成31年3月4日，「本件審判の請求は，成り立たない。」との審決(以下「本件審決」という。)をし，その謄本は，同月14日，原告に送達された。
  2 本願発明の要旨(甲15)
    前記1の平成31年1月18日付け手続補正書による補正後の本願の請求項1に係る発明(以下「本願発明」という。)の要旨は，以下のとおりである(以下，本願の願書に添付した明細書及び図面の翻訳文［甲3の2］を「本願明細書」という。)。
    【請求項1】
    「バーコードを読み取る際に使⽤するための装置であって，該装置が，
    2次元イメージセンサアレイであって，前記2次元イメージセンサアレイは相補型⾦属酸化物半導体からなり，前記2次元イメージセンサアレイは行のピクセルを包含する，2次元イメージセンサアレイと，
    前記2次元イメージセンサアレイに光を焦点合わせする撮像レンズと，
    サポートアセンブリであって，前記サポートアセンブリは前記撮像レンズをサポートするためのレンズホルダーを包含する，サポートアセンブリと，
    照明パターンを投射するのに使⽤するための照明光源であって，前記照明光源が，発光ダイオードからなる，照明光源と，
    露光期間中に同時に，前記2次元イメージセンサアレイの複数の行のピクセルを露光するように配置されたグローバル電⼦シャッター制御モジュールであって，2次元イメージセンサアレイにおける複数の行のピクセルの露光が同時に開始されるように，グローバル電⼦シャッター制御モジュールが2次元イメージセンサアレイを制御するように構成される，グローバル電子シャッター制御モジュールと
    を有し，
    該装置が，照明期間の間に，前記発光ダイオードを同時に駆動することができ，露光期間と照明期間との間の調整が少なくとも部分的に時間がオーバーラップする照明期間と露光期間とによって特徴づけられることを特徴とする装置。」
  3 本件審決の理由の要点
    (1) 甲1(特開2003-132301号公報)に記載されている発明(以下「引用発明」という。)について
      甲1には，以下の引用発明が記載されている。
      「バーコード読み取り装置であって，
      光電変換により2次元画像を生成するためのCMOS型のイメージセンサーであって，m行×n列の画素S11～Smnから成る撮像素子部のイメージセンサー6と，
      被写体像をセンサー面に結像するためのレンズ部1と，
      撮影対象物を十分な光量で均一に照らすための赤色発光ダイオード(LED)2～5と，
      タイミング信号発生部に送る光電変換時間の情報を決定するシステム制御部8と，
      イメージセンサー6に駆動クロックを供給するタイミング信号発生部のタイミング信号発生器(TG)7と，
      を有し，
      各画素の増幅MOSトランジスタM3のゲートとフォトダイオードPDが電圧VRに，垂直信号線V1～Vnが電圧VVRにリセットされ，
      LEDを点灯し(t1)，
      全ての画素S11～Smnにおいて，同時に，フォトダイオードPDのカソード側に光信号電荷が蓄積され，その後，蓄積された光信号電荷が，同時に増幅MOSトランジスタM3のゲートに転送され，その後，同時に光信号電荷の増幅MOSトランジスタM3への転送が終了し(t2～t5)，
      電荷転送終了後にLEDを消灯し(t6)，
      第1行目の画素S11～S1nの光信号電圧が光信号保持容量CTSに読み出され(t7～t8)，
      ノイズ電圧がノイズ信号保持容量CTＮに読み出され(t11～t12)，
      ノイズ信号保持容量CTＮと光信号保持容量CTSに保持されていた電圧が順次差動回路ブロックに読み出され，光信号とノイズ信号との差がとられ，出力端子VOUTに順次出力され(t14～t15)，
      以下同様に，垂直走査回路ブロックVSRからの信号によって，第2行目～第
      m行目に接続された画素S21～Smnの信号が順次読み出され，全画素の読み出しが完了する装置。」
(2) 本願発明と引用発明の対比及び相違点についての判断
  ア 対比
    (一致点)
    バーコードを読み取る際に使用するための装置であって，該装置が，
    2次元イメージセンサアレイであって，前記2次元イメージセンサアレイは相補型金属酸化物半導体からなり，前記2次元イメージセンサアレイは行のピクセルを包含する，2次元イメージセンサアレイと，
    前記2次元イメージセンサアレイに光を焦点合わせする撮像レンズと，照明パターンを投射するのに使用するための照明光源であって，前記照明光源が，発光ダイオードからなる，照明光源と，
    露光期間中に同時に，前記2次元イメージセンサアレイの複数の行のピクセルを露光するように配置されたグローバル電子シャッター制御モジュールであって，2次元イメージセンサアレイにおける複数の行のピクセルの露光が同時に開始されるように，グローバル電子シャッター制御モジュールが2次元イメージセンサアレイを制御するように構成される，グローバル電子シャッター制御モジュールと
    を有し，
    該装置が，照明期間の間に，前記発光ダイオードを同時に駆動することができ，露光期間と照明期間との間の調整が少なくとも部分的に時間がオーバーラップする照明期間と露光期間とによって特徴づけられることを特徴とする装置。
    (相違点)
    本願発明が「サポートアセンブリであって，前記サポートアセンブリは前記撮像レンズをサポートするためのレンズホルダーを包含する，サポートアセンブリ」を有しているのに対して，引用発明は対応する構成を備えているのか定かでない点。
  イ 相違点についての判断
    バーコードを読み取る光学読取装置は，レンズを介してイメージセンサーにバーコードの画像を撮像するものであるから，光学読取装置においてレンズを保持する構成を備えていることは自明である。そして，バーコードを読み取る光学読取装置のレンズを保持する具体的構成として，甲2(⽶国特許出願公開第2005／0001035号明細書)に記載されているように，複数のレンズを保持するものとして「レンズアセンブリ40」を備え，レンズアセンブリ40を包含するものとして「保持部82と有する支持体80」を備えることで，撮像レンズをサポートするためのレンズホルダー及びレンズホルダーを包含するサポートアセンブリを備えことは公知技術と認められる。
    そうすると，「バーコード読み取り装置」である引用発明においても，「レンズ部1」のレンズを保持するための構成は必要であることから，該保持するための構成として甲2に記載の公知技術を採用して，相違点に係る構成を備えるようにすることは，当業者が適宜なし得る事項である。
    したがって，本願発明は，引用発明及び甲2に記載された事項に基づいて当業者が容易に発明できたものであり，特許法29条2項により特許を受けることができない。
第3 原告主張の審決取消事由
  1 取消事由1(引用発明の認定の誤り)
    (1)
      本件審決は，引用発明は，「全ての画素S11～Smnにおいて，同時に，フォトダイオードPDのカソード側に光信号電荷が蓄積され，その後，蓄積された光信号電荷が，同時に増幅MOSトランジスタM3のゲートに転送され，その後，同時に光信号電荷の増幅MOSトランジスタM3への転送が終了し(t2～t5)」という構成を備えていると認定したが，以下の(2)～(4)のとおり，これは誤りである。
    (2)
      甲1には，以下のとおり，全ての「画素S11～Smn」において，同時に，フォトダイオードPDに光信号電荷が蓄積及び転送されること並びにリセットが解除されることは開示も示唆もされていないから，本件審決の引用発明の認定には誤りがある。
      ア
        甲1の段落【0020】には，「図3の転送MOSトランジスタTXのゲートを一行目からm行目までの全ての画素について同時に選択する信号TXaが，各行ごとに全ての画素を選択する信号の転送パルスTX1～TXn(原告注：TXnはTXmの誤記)とのOR回路を通して各転送MOSトランジスタTXに接続されている。」ことが開示されており，また，【図3】には，行ごとの画素に対応してOR回路が設けられている。
        下記図に示すように，信号TXaがローレベルであったとしても，信号TX1がローレベルで，信号TX2がハイレベルであった場合には，画素S11～S1nにおけるトランジスタTXはオフとなりフォトダイオードPDに電荷が蓄積される一方で，画素S21～S2nにおけるトランジスタTXはオンとなりフォトダイオードPDに電荷は蓄積されない。
        甲1には，上記OR回路に入力される二つの入力信号について，「次に，φTXaがローレベルになりフォトダイオードPDには光に応じた電荷の発生が可能になる(t2)。」(段落【0022】)と記載されているにすぎず，t2の時点で，他方の入力信号である「TX1～TXm」の信号の状態は一切記載も示唆もされていないから，甲1には，全ての「画素S11～Smn」において，同時に，「電荷転送スイッチTX」がオフとなることが開示されているとはいえない。仮に，引用発明において，信号TXaによって全ての「画素S11～Smn」の選択が制御されるとすると，【図3】に記載された「φTX1～TXm」の信号が引用発明の動作に関係しないこととなってしまう上，各行において，信号TXaと信号TX1～TXmの二つを入力とするOR回路が敢えて図示されていることの技術的説明がつかない。また，段落【0020】に「各行ごとに全ての画素を選択する信号の転送パルスTX1～TXm」と明記されているTX1～TXmの目的とも矛盾する。
        また，甲1の段落【0021】～【0023】の記載は，第1行目の行に接続された画素に対して行われる処理であるから，段落【0022】の記載が示唆するところは，第1行目の行の画素に対応するOR回路の他方の入力信号である「TX1」がt2の時点においてローレベルになることのみで，第2行目以降の行の画素に対応するOR回路の他方の入力信号である「TX2～TXm」がローレベルになることについては記載も示唆もない。同様に，甲1の段落【0023】では，【図5】のt5の時点において，第1行目の行に接続された画素に対してフォトダイオードPDの電荷転送が終了になること，すなわち，第1行目の行の画素に対応するOR回路の他方の入力信号である「TX1」がローレベルになることが示唆されているにとどまり，第2行目以降の行の画素に対応するOR回路の他方の入力信号である「TX2～TXm」がローレベルになることは記載も示唆もされていない。
        本件審決は，OR回路の一方の入力信号である「φTXaがローレベルになる」という構成をもって，他方の入力信号である「TX1～TXm」信号の状態についていかなる開示があるかの検討を行うことなく，【図5】のt2の時点で，全ての「画素S11～Smn」において，同時に，フォトダイオードPDに光信号電荷が蓄積されると認定しており，引用発明の認定に誤りがある。
      イ
        甲1の段落【0020】には，「一行目からm行目までの全ての画素のリセットMOSトランジスタM1のゲートを同時に選択する信号RESaが，各行ごとに全ての画素をリセットするパルスRES1～RESn(原告注：RESnはRESmの誤記)とのOR回路を通して各リセットMOSトランジスタM1に接続されている。」ことが開示されており，また，【図3】には，行ごとの画素に対応してOR回路が設けられている。
        前記アと同様，下記図に示すように，信号RESaがローレベルでありかつ信号RES1がローレベルであったとしても，他方で，信号RES2がハイレベルであった場合には，画素S11～S1nにおけるトランジスタM1はオフとなりリセットが解除される一方で，画素S21～S2nにおけるトランジスタM1はオンとなりリセットは解除されない。
        甲1の段落【0022】には，上記OR回路に入力される二つの入力信号について，「リセットMOSトランジスタM1のゲートへのパルスφRESa，垂直信号線リセットMOSトランジスタM8のゲートパルスφVRES，がローレベルとなり，M1(原告注：M1はM3の誤記)のゲートと垂直信号線のリセットが解除される(t3)。」と記載され，【図5】のタイミング図においてt3の時点において φRES1がローレベルとなっていることが開示されているにすぎず，2行目以降の行に対応するOR回路の他方の入力信号である「RES2～RESm」の信号の状態は記載も示唆もされていない。甲1の段落【0020】に「各行ごとに全ての画素をリセットするパルスRES1～RESm」と記載されているように，各行ごとにリセットするか否かを個別に制御するために用いられることが説明されている。
        本件審決は，OR回路の一方の入力信号である「RESa」が「ローレベルとな」るという構成をもって，2行目以降の行に対応するOR回路の他方の入力信号である「RES2～RESm」の信号の状態についていかなる開示があるかの検討を行うことなく，【図5】のt3の時点で，全ての「画素S11～Smn」において，同時に，リセットMOSトランジスタM1がオフとなって，リセットが解除されると認定したものであり，引用発明の認定に誤りがある。
      ウ
        甲1からは，t2までの動作において，OR回路の一方の入力となるφRESa及びφTXaがハイレベルとなり，その時点において，全画素のリセットMOSトランジスタM1及び転送MOSトランジスタTXがオン状態となって，これにより増幅MOSトランジスタM3のゲート及びフォトダイオードPDがそれぞれ電圧VRとなることは理解できる。
        しかし，φRESa及びφTXaがt2の時点でハイレベルとなる以前において，全画素のトランジスタが一括してオフ状態でなければならないことについては甲1に記載も示唆もないから，t2の時点以前において，全画素のトランジスタが一括してオフ状態であること(すなわち，全てのOR回路の出力がローレベルであること)が，被告の主張するとおり自明であるとはいえない。
    (3)
      甲1の記載事項に基づくと，以下のとおり，引用発明は，各行ごとに，異なるタイミングで，フォトダイオードPDに光信号電荷が蓄積される構成を備えていると解される。
      ア
        甲1の段落【0019】～【0025】及び【図3】～【図5】によると，引用発明は，概ね，下記①～⑦の順番に行われる処理を備えている。
        ①MOSトランジスタM3のゲートとフォトダイオードPDをリセットし，かつ，垂直信号線V1～Vnをそれぞれリセットする(【図5】のt2まで。段落【0021】)。
        ②フォトダイオードPDへの電荷蓄積(【図5】のt2～t4。段落【0022】)を行う。この間，MOSトランジスタM3のゲート及び垂直信号線V1～Vnをそれぞれリセット解除する(【図5】のt3。段落【0022】)。
        ③フォトダイオードPDの電荷をMOSトランジスタM3のゲートに転送し(【図5】のt4～t5。段落【0022】及び【0023】)，その後，垂直信号線V1～Vnを介して光信号電圧を光信号保持容量CTSに読み出す(【図5】のt8まで。段落【0023】)。
        ④MOSトランジスタM3と垂直信号線V1～Vnのそれぞれとをリセットし(【図5】のt9～t10。段落【0023】)，その後，MOSトランジスタM3のゲート及び垂直信号線V1～Vnをそれぞれリセット解除し(【図5】のt10。段落【0023】)，その後，垂直信号線V1～Vnを介してノイズ電圧をノイズ信号保持容量CTSに読み出す(【図5】のt12まで。段落【0023】)。
        ⑤ノイズ信号保持容量CTS及び光信号保持容量CTSに保持された電圧を差動回路ブロックに読み出し，光信号とノイズ信号の差に基づく出力を出力端子VOUTに出力する(【図5】のt15まで。段落【0023】)。
        ⑥ノイズ信号保持容量CTS及び光信号保持容量CTSをそれぞれリセットする(段落【0024】)。
        ⑦垂直走査回路ブロックVSRからの信号によって，第2行目～第m行目の行に接続された画素についての読み出しを順次行う(【段落0025】)。
      イ
        上記の処理⑥について，甲1に「以上で，第1行目に接続された画素セルの読み出しが完了する。この後，第2行目の読み出しに先立って，ノイズ信号保持容量CTＮおよび光信号保持容量CTSのリセットスイッチM9，M10のゲートへのφCTRがハイレベルとなり，VRCTにリセットされる。」(段落【0024】)と記載されているとおり，処理⑥よりも前の処理①～⑤は，第1行目の行に接続された画素に対して行われる処理であり，また，処理⑥は，第2行目の行の読み出しに先立って行われる処理である。
        他方で，処理⑦における第2行目～第m行目の各行に接続された画素については，甲1に「以下同様に，垂直走査回路ブロックVSRからの信号によって，第2行目～第m行目に接続された画素セルC21～Cmn(原告注：C21～CmnはS21～Smnの誤記)の信号が順次読み出され，全画素セルの読み出しが完了する。」(段落【0025】)と記載されているところ，第2行目～第m行目の各行に接続された画素の信号について，甲1において，画素の信号の「読み出し」の定義や記載がないこと及び甲1の段落【0025】に第1行目の行に接続された画素についての処理①～⑥の説明を受けて，「以下同様に」と記載されていることからすると，段落【0025】の「以下同様に・・・順次読み出され，全画素セルの読み出しが完了する」とは，フォトダイオードPDへの電荷蓄積及びトランジスタM3への電荷転送を含む，画素を読み出すために行われる読み出し全体の処理，すなわち，処理①～⑥を繰り返すことを示すものといえる。
      ウ
        上記イの解釈は，甲1において開示された画素の読み出し動作とも整合する。
        (ア)
          上記アの処理①～⑤のとおり，画素の光信号を垂直信号線V1～Vnを介して光信号保持容量CTSに読み出すためには，【図5】の最初からt2のとおり，パルスφVRESをハイレベルにして，垂直信号線V1～Vnをそれぞれリセットし(処理①)，【図5】のt3のとおり，パルスφVRESをローレベルにして，それらのリセットを解除する(処理②)という一連の動作が必要である。そして，第2行目の行に接続された画素の処理においても，上記第1行目の行と同様に，画素の光信号を垂直信号線V1～Vnを介して光信号保持容量CTSに読み出すことが行われるから，第2行目の行に接続された画素の処理においても，垂直信号線V1～Vnをそれぞれリセットし，それらのリセットを解除するという一連の動作が必要である。
          甲1の開示内容に接した当業者は，第2行目の行に接続された画素についての処理⑦は，第1行目の行に接続された画素についての処理①～⑥を終えた後，パルスφVRESをハイレベルにして，垂直信号線V1～Vnをそれぞれリセットし(【図5】の最初からt2まで)，その後，パルスφVRESをローレベルにして，垂直信号線V1～Vnのリセットを解除するという(【図5】のt3)，【図5】のタイミングチャートの最初に戻って行われると理解するから，ここからしても引用発明は，各行ごとに，異なるタイミングで，フォトダイオードPDに光信号電荷が蓄積される構成を備えていると解されるべきである。
        (イ)
          甲1の段落【0025】には，「以下同様に，垂直走査回路ブロックVSRからの信号によって，第2行目～第m行目に接続された画素セルC21～Cmn(原告注：C21～CmnはS21～Smnの誤記)の信号が順次読み出され，全画素セルの読み出しが完了する。」と記載されている。ここで，「垂直走査回路ブロックVSR」からの信号とは，【図3】に示すとおり，「SEL1～SELm」，「RES1～RESm」及び「TX1～TXm」を指すものである。そして，前記のとおり，段落【0025】における「以下同様に・・・順次読み出され，全画素セルの読み出しが完了する」とは，フォトダイオードPDへの電荷蓄積及びトランジスタM3への電荷転送を含む，画素を読み出すために行われる読み出し全体の処理を繰り返すことを示すにすぎないものであること，甲1には，各行において，信号TXaと信号TX1～TXmの二つを入力とするOR回路が敢えて図示されており，段落【0020】において「各行ごとに全ての画素を選択する信号の転送パルスTX1～TXm」と明記されていることからすると，引用発明においては，第2行目～第m行目の各行に接続された画素の読み出し処理において，「垂直走査回路ブロックVSR」からの「TX1～TXm」信号によって，各行ごとに，異なるタイミングで，フォトダイオードPDに光信号電荷の蓄積を制御すると解される。
    (4)
      ア  本願発明は，従来，CMOS(相補型金属酸化物半導体)ベースのイメージリーダーは，伝統的に，各行ごとに，異なるタイミングで，露光及び読み出しを行う回転式シャッター(ローリングシャッター)を用いてきたところ(本願明細書の段落【0005】)，回転式シャッターでは，①各行のピクセルが露出される時間が異なることによって生じるイメージ歪及び②長い時間露光に曝されることによるイメージぼやけが生じるという欠点があったことに鑑みて(段落【0006】～【0008】)，そのような欠点を克服するために，「グローバル電子シャッター制御モジュール」について，「露光期間中に同時に，前記2次元イメージセンサアレイの複数の行のピクセルを露光するように配置されたグローバル電子シャッター制御モジュールであって，2次元イメージセンサアレイにおける複数の行のピクセルの露光が同時に開始されるように，グローバル電子シャッター制御モジュールが2次元イメージセンサアレイを制御するように構成される，グローバル電子シャッター制御モジュールと」という構成(以下，この構成のことを「特定事項F」という。)を採用したというものである。
      これに対し，引用発明は，従来，CCDを用いたバーコード読み取り装置においては，リセット動作に1画面分の走査時間を必要とし，これによりバーコードを読み取るまでの立ち上がり時間が長時間かかっていた等の問題に鑑みて(甲1の段落【0002】～【0010】)，イメージセンサをスリープ状態から画像取り込み可能な状態へとより高速に変換し，かつ，そのような変換を低消費電力で行うことを発明の目的又は課題とするものであり(段落【0011】及び【0026】)，本願発明のようにバーコードの取り込み及び復号を改善することを目的又は課題とするものではなく，甲1の従来の問題や発明の課題の記載を見ても，上記CMOSベースの各欠点については示唆されておらず，甲1において，全ての「画素S11～Smn」において，同時に，フォトダイオードPDに光信号電荷が蓄積される「グローバル電子シャッター」の構成を想起し得る記載又は示唆はない。
      イ
        また，被告が引用発明認定の根拠とする甲1の段落【0020】～【0025】の記載は，前記アのような引用発明の課題からして，バーコード読み取りの前段階である「センサの早期立ち上げ」という動作(従来の回転式シャッターを採用したCMOSセンサの立ち上げ動作を改善したもの)に関わる開示をしているものにすぎず，実際に画像のキャプチャを要する，バーコードを読み取る動作に関する何らかの機能を示唆するものではない。このことは，甲1の段落【0026】～【0029】で初めてバーコードを読み取るときの本露光時に行う動作(通常モード)が説明されていることからも明らかである。
      ウ
        本件優先日において，CMOS2次元イメージセンサアレイを用いたバーコード読み取り装置には，通常，回転式シャッターが使用されていた(甲18［特開2003-233806号公報］，甲19［特開2003-32541号公報］)上，甲19は，段落【0049】及び【0050】において，CCDセンサと対比して，従来のCMOSセンサは，回転式シャッターを使用する必要があることを述べている。
        被告は，「露光後に一行毎の読み出しを順次行うことで全画素の読み出しとする」ことが甲1に記載されていると主張するが，これは，甲19の上記段落で説明されている問題を引き起こすものであるから，仮に引用発明が，被告が主張するとおりの動作を行うものであるとすると，甲19に記載される技術常識に基づく回転式シャッターが必要となる。
  2 取消事由2(相違点の看過)
    本件審決は，前記1のとおり，引用発明が，「全ての画素S11～Smnにおいて，同時に，フォトダイオードPDのカソード側に光信号電荷が蓄積され，その後，蓄積された光信号電荷が，同時に増幅MOSトランジスタM3のゲートに転送され，その後，同時に光信号電荷の増幅MOSトランジスタM3への転送が終了し(t2～t5)」という構成を備えていることを前提として，本願発明と引用発明の一致点について，「露光期間中に同時に，前記2次元イメージセンサアレイの複数の行のピクセルを露光するように配置されたグローバル電子シャッター制御モジュールであって，2次元イメージセンサアレイにおける複数の行のピクセルの露光が同時に開始されるように，グローバル電子シャッター制御モジュールが2次元イメージセンサアレイを制御するように構成される，グローバル電子シャッター制御モジュールと」(特定事項F)という構成が一致点であると誤って認定し，この構成に係る相違点を看過した。
    そして，この相違点は，引用発明及び甲2に記載された事項から当業者が容易に想到し得たものではない。
  3 本願発明の実施品の商業的成功
    本願発明の技術的特徴である「グローバル電子シャッターモジュール」を備えた実施品は，市場において販売されるや否や，急激にその売上げを伸ばし，原告のシェア拡大に大きく貢献したものである(甲17)。このような本願発明の実施品の商業的成功は，本願発明がこれまで解決されていなかった課題を解決するものとして市場に受け入れられたこと及び競合他社が本願発明と同様の設計思想に想到して具現化することが容易ではなかったことを示すものであり，進歩性の存在を肯定的に推認する間接事実として大いに参酌されるべきである。
  4 被告の主張に対する反論
    (1) 乙1(特表平10-508133号公報)，乙2(特開2002-368201号公報)，乙3(特開2004-77633号公報)に基づく主張について
      ア
        乙1～3に基づく周知例は，審決の理由においては挙げられておらず，審決の理由を構成するものではないから，本件訴訟の段階となって審決の理由の根拠として追加して主張することは許されるべきでなく，被告による乙1～3に基づく周知例に関する主張は全て排斥されるべきである。
      イ
        乙1～3の開示内容は，以下のとおりであるから，乙1～3の開示内容を踏まえても，引用発明が本願発明の特定事項Fに相当する構成を備えるとはいえないし，本願発明が引用発明に基づいて容易に想到できるともいえない。
        (ア)
          乙1は，15頁18行目～末行目及び【図3】～【図5】にあるとおり，1次元画像のみをキャプチャ対象とするもので，2次元イメージセンサアレイに関するものではない。乙1には，2次元画像をキャプチャするための「2次元センサーアレイ」や「2次元イメージセンサアレイにおける複数の行のピクセルの露光が同時に開始されるように制御する」ことは記載も示唆もされておらず，グローバル電子シャッターに相当する構成は開示されていない。乙1記載の装置は，個々の画素ごとに固有の選択信号によって画素を選択するもので(乙1の3頁6行目，7行目，10頁24行目～末行目，12頁13行目～13頁8行目，24頁末行目～25頁1行目，28頁17行目，30頁21行目～22行目，31頁8行目～14行目，【図16】)，「多方向パターン」と「非破壊読み取り」を容易にするために各画素に追加ハードウェアを設けるものである(乙1の31頁8行目～14行目)。
        (イ)
          乙2には，グローバルシャッターやグローバル電子シャッターモジュールに関する記載は何ら含まれておらず，本願発明のようなグローバル電子シャッターを開示するものではない。また，乙2の装置は，転送ゲート電極19の電位を三つの異なる電位レベルに設定する構成を採用することによって，「信号蓄積動作の開始，終了タイミングは全画素同時となるため，ゆがみのない画像を得ることができる」ものである(乙2の段落【0012】，【0015】～【0022】)。
          また，乙2は，本願発明のようなバーコードスキャンに関するものでもない。
        (ウ)
          乙3には，「固体撮像素子回路部32」の回路構成やタイミングチャートなどの具体的な記載が一切ないから，本願発明に係る「2次元イメージセンサアレイ」として記載された特定の構成は記載も示唆もされていない。また，乙3は，引用発明が属する技術である「バーコード読み取り技術」に関するものでもない。乙3の発明は，銀塩カメラと電子カメラを組み合わせた撮像装置という，極めて特殊な用途の技術分野において，従来，双方のカメラによって得られる画像のイメージが一致しない場合があること等の問題点に鑑み，双方のカメラによって得られる画像の一致性を高めるとともに，このような撮像装置を安価に提供するということを発明の課題としたもの(乙3の段落【0001】～【0010】)であり，そのような極めて特殊な用途又は目的を達成するために，乙3では段落【0055】及び【0056】に記載された構成が採用されているにすぎない。乙3には，「露光後に一行毎の読み出しを順次行うことで全画素の読み出しとする」ことは何ら記載も示唆もされていない。
    (2) 消費電力及びバーコード読み取り時間について
      消費電力やバーコード読み取り時間は，LEDの強度や照射時間などその他の様々な要因によって決まるものであり，引用発明の目的又は課題が，消費電力の低下及びバーコードを読み取るまでの時間を短縮するというものであるからといって，そのことから直ちに，引用発明が，回転式シャッターであるか，グローバル電子シャッターであるかが特定できるものではない。
      甲1の段落【0026】によると，引用発明は，「一括リセットのみで立ち上がり完了」としたことで，「低消費電力駆動」及び「バーコード読み取りまでのセンサの早期立ち上げ」を可能としたものである。そして，引用発明において，「一括リセットのみで立ち上がり完了」とするための構成は，「全ての画素の増幅MOSトランジスタM3のゲートを同時にリセットするために，一行目からm行目までの全ての画素のリセットMOSトランジスタM1のゲートを同時に選択する信号RESa」(段落【0020】)であって，被告が主張するようなグローバル電子シャッターで動作することではないから，消費電力やバーコード読み取り時間からグローバル電子シャッターで動作することが基礎付けられるものではない。
第4 被告の主張
  1 引用発明について
    (1)
      乙3の段落【0055】，【0066】には，CMOSイメージセンサにおいて，全画素を電気的に一旦リセットし，全画素の同時露光を開始するとともに，全画素の同時露光を終了することが記載されているから，全画素リセットの後に全画素の同時露光とすることは，本件優先日前に周知であった。
      そして，甲1には，全画素を一括リセットすることに加え，露光後に一行毎の読み出しを順次行うことで全画素の読み出しとすることが記載されているから，全画素リセットと順次読み出しとの間の露光を，全画素同時の露光として引用発明を認定することに何ら誤りはない。
    (2) 引用発明の動作
      ア 全画素リセット
        (ア)
          甲1の段落【0021】によると，φRESaがハイレベル(橙)となることにより，RESaを一方の入力(【図3】)とし，かつRES1～RESmを他方の入力とする全てのOR回路の出力がハイレベル(【図3】)となり，各画素を構成するリセットMOSトランジスタM1(【図4】中央)がオン状態となることが分かる。また，この動作により，【図4】のM1の電圧VRにより「増幅MOSトランジスタM3のゲート」が「電圧VR」になる(【図4】水色)ことから，それ以前は，増幅MOSトランジスタM3(【図4】右下)のゲートの電圧はVRでないことが分かり，このためには，OR回路の一方の入力となるφRESaがハイレベルとなる以前は，全てのOR回路の出力をローレベルとし，各画素を構成するリセットMOSトランジスタM1をオフ状態とする必要があり，OR回路の他方の入力となるRES1～RESm(【図3】)はローレベルであることが分かる。なお，甲1の【図5】の3行目には，φRESaがハイレベルとなる前後では，他方の入力であるRES1をローレベルとすることが明示されている。
        (イ)
          同様に，甲1の段落【0021】によると，φTXaがハイレベル(黄)となることにより，TXaを一方の入力(【図3】左)とし，かつTX1～TXmを他方の入力とする全てのOR回路の出力がハイレベル(【図3】左)となり，各画素を構成する転送MOSトランジスタTX(【図4】左)がオン状態となることが分かる。また，この動作により，「フォトダイオードPDが電圧VR」になる(【図4】水色)ことから，それ以前は，フォトダイオードPDは電圧VRでないことが分かり，このためには，OR回路の一方の入力となるφTXaがハイレベルとなる以前は，全てのOR回路の出力をローレベルとし，各画素を構成する転送MOSトランジスタTXをオフ状態とする必要があり，OR回路の他方の入力となるTX1～TXm(【図3】)はローレベルであることが分かる。
          さらに，φVRESがハイレベル(【図3】左下)となることにより，垂直信号線V1～Vn(【図3】)の下端部に接続された垂直信号線リセットMOSトランジスタM8(【図3】拡大図)がオン状態となり，垂直信号線V1～Vnが，垂直信号線の下端部M8の電圧VVRにリセットされる。これらの動作により，各画素S11～Smn及び垂直信号線V1～Vnはリセットされる。
          【図3】拡大図
      イ フォトダイオードPDのカソード側での光信号電荷の蓄積開始
        甲1の段落【0022】の記載からすると，以下の動作が行われる。
        (ア)
          φLEDをハイレベルとし，LEDが点灯する。
        (イ)
          φTXa(TX(1))がローレベルになることにより，転送MOSトランジスタTX(【図4】左)がオフ状態となり，フォトダイオードPDのカソード側に光信号電荷の蓄積を開始する。
        (ウ)
          φRESa(RES(1))及びφVRES(VRES)がローレベルとなり，リセットMOSトランジスタM1(【図4】中央)及び垂直信号線リセットMOSトランジスタM8(【図3】拡大図)のリセット状態を解除する。
      ウ 蓄積された電荷の転送
        甲1の段落【0022】及び【0023】の記載からすると，以下の動作が行われる。
        (ア)
          φTXaがハイレベルになることにより，転送MOSトランジスタTX(【図4】左)がオン状態となり，フォトダイオードPDのカソードに蓄積された光信号電荷が増幅MOSトランジスタM3(【図4】右下)のゲートに転送される。そして，十分な時間を経てφTXaをローレベルとして，転送MOSトランジスタTX(【図4】左)をオフ状態とする。
        (イ)
          φTXaをローレベルとした後，φLEDをオフ状態としLEDを消灯する。
      エ 光信号電圧の読み出し
        甲1の段落【0023】の記載からすると，以下の動作が行われる。
        (ア)
          φSEL1がハイレベルとなることにより，1行目の全ての画素S11～S1nの選択MOSトランジスタM2(【図4】右上)がオン状態となり，増幅MOSトランジスタM3(【図4】右下)のゲートに転送された光信号電荷に応じた電圧が，増幅MOSトランジスタM3(【図4】右下)を通じて，対応する垂直信号線V1～Vnに読み出される。
        (イ)
          φTSがハイレベル(【図3】左下)となることにより，垂直信号線V1～Vnの下端部に接続された各光信号転送MOSトランジスタM5(【図3】)がオン状態となり，垂直信号線V1～Vnに読み出された電圧が，光信号保持容量CTS(【図3】)に読み出される。
      オ 光信号電圧が読み出された画素のリセット
        甲1の段落【0023】の記載からすると，以下の動作が行われる。
        (ア)
          φRES1がハイレベルとなることにより，1行目の全ての画素S11～S1nのリセットMOSトランジスタM1(【図4】中央)がオン状態となり，1行目の全ての画素S11～S1nの増幅MOSトランジスタM3(【図4】右下)のゲートがVRとなる。
        (イ)
          φVRESがハイレベル(【図3】左下)となることにより，垂直信号線V1～Vnに接続された垂直信号線リセットMOSトランジスタM8(【図3】)がオン状態となり，垂直信号線V1～VnがVVR(【図3】)にリセットされる。
      カ ノイズ信号の読み出し
        甲1の段落【0023】の記載からすると，以下の動作が行われる。
        (ア)
          φRES1とφVRESがローレベルとなることにより，1行目の全ての画素S11～S1nのリセットMOSトランジスタM1(【図4】中央)及び垂直信号線V1～Vnに接続された垂直信号線リセットMOSトランジスタM8(【図3】)がオフ状態となり，リセット状態が解除される。
        (イ)
          φSEL1がハイレベルとなることにより，1行目の全ての画素S11～S1nの選択MOSトランジスタM2(【図4】右上)がオン状態となり，増幅MOSトランジスタM3(【図4】右下)のゲートに電圧VRがセットされた状態の電圧が，増幅MOSトランジスタM3(【図4】右下)を通じて，対応する垂直信号線V1～Vnに読み出される。
        (ウ)
          φTＮ(【図3】左)がハイレベルとなることにより，垂直信号線V1～Vnに接続された各ノイズ信号転送MOSトランジスタM4(【図3】)がオン状態となり，垂直信号線V1～Vnに読み出された電圧が，ノイズ信号保持容量CTＮ(【図3】)に読み出される。
      キ 光信号とノイズ信号との差の出力
        甲1の段落【0023】の記載からすると，「水平走査回路ブロックHSRからの信号H1～Hnが順次ハイレベルとなり，各列に対応するノイズ保持容量CTＮ及び光信号保持容量CTSに保持されていた電圧が順次差動回路ブロックに読み出され，光信号とノイズ信号との差が差動回路ブロックから順次出力される。」という動作が行われる。
      ク ノイズ信号保持容量CTS及び光信号保持容量CTSのリセット
        甲1の段落【0024】の記載からすると，φCTRがハイレベル(左端中央「CTR」)となることにより，リセットスイッチM9，M10をオン状態とし，各列のノイズ信号保持容量CTＮ及び光信号保持容量CTSをVRCTにリセットするという動作が行われる。
      ケ 第2行目～第m行目に接続された画素セルS21～Smnの読み出し
        甲1の段落【0025】の記載からすると，第2行目～第m行目に接続された画素セルS21～Smnの信号の順次読み出しについて，前記エの光信号電圧の読み出し以降の動作のφSEL1及びφRES1のそれぞれ対応する行の信号に読み替えて順次実行すればよいことは，当業者にとって自明である。
      コ リセットについて
        甲1の【図5】を参照すると，前記カのノイズ信号の読み出しに係るt11～t12の後のt13においてφVRESがハイレベルとなっているから，垂直信号線V1～Vnに接続された垂直信号線リセットMOSトランジスタM8がオン状態となり，垂直信号線V1～VnがVVRにリセットされる。
        このノイズ信号の読み出し後のリセットは，光信号電圧が読み出された後のリセット及びリセットの解除(段落【0023】)からも理解できるとおり，次の信号のためのものであるから，ノイズ信号の読み出しの後のリセットにおいても，垂直信号線V1～VnがVVRにリセットされた後，φVRESをローレベルとしてリセットを解除する必要があることは，当業者にとって自明である。
  2 取消事由1(引用発明の認定の誤り)について
    (1)
      前記1のとおり，甲1に記載された発明は，本願発明の「2次元イメージセンサアレイにおける複数の行のピクセルの露光が同時に開始される」に相当する動作を行っているから，本件審決の引用発明の認定に誤りはない。
      そして，上記の動作を行うためには，前記1(2)アのとおり，リセットMOSトランジスタM1(橙)及び転送MOSトランジスタTX(黄)のそれぞれのゲートに接続される「OR回路RES1～m」及び「OR回路TX2～m」の出力が，「OR回路RES1～m」及び「OR回路TX2～m」入力であるRESa(橙)及びTXa(黄)の状態の変化と同じになるために，リセットMOSトランジスタM1(橙)及び転送MOSトランジスタTX(黄)のそれぞれのゲートに接続される「OR回路RES1～m」及び「OR回路TX2～m」の他方の入力である「φRES2～m」及び「φTX1～m」の信号は，ローレベルのままとなることは，当業者にとって自明であり，引用発明の動作に関係しないレベル変化のない信号について，詳細に説明する必要がないから，甲1において特に明示されていないだけである。
    (2)
      甲1の段落【0020】の「図3の転送MOSトランジスタTXのゲートを1行目からm行目までの全ての画素について同時に選択する信号TXaが，各行ごとに全ての画素を選択する信号の転送パルスTX1～TXnとのOR回路を通して各転送MOSトランジスタTXに接続されている。」の記載は，転送MOSトランジスタTXのゲートにOR回路を通して信号TXaと信号TX1～TXnが接続されている甲1の【図3】に示されたセンサーの構成図を単に説明したものにすぎず，この記載と引用発明の動作とは何ら矛盾することはない。
    (3) 甲1の段落【0025】の「以下同様に，垂直走査回路ブロックVSRからの信号によって，第2行目～第m行目に接続された画素セルC21～Cmnの信号が順次読み出され，全画素セルの読み出しが完了する。」の記載における「読み出され」るの語に対応する記載は，「次に，選択MOSトランジスタM2のゲートパルスφSEL1および，光信号転送MOSトランジスタM5のゲートパルスφTSがハイレベルとなる(t7)。これによって光信号電圧が光信号保持容量CTSに読み出される(t7～t8)。」(段落【0023】)の「読み出される」であることは明らかであり，また，この「読み出される」を行うために必要な動作も段落【0023】及び【0024】に記載されている。
    (4)
      甲1の段落【0047】には，「以上述べてきた本実施形態の概念図を図10にて述べる。これは図2の従来例と対比してある。読み取り動作は，プリ露光動作1011及び本露光動作1012からなる。プリ露光動作1011は，リセット1001，蓄積1002及び転送1003を含む。本露光動作1012も，リセット，蓄積及び転送を含む。」と記載され，【図10】の本露光では，【図5】のt2までで行われるリセット動作を行った後，フォトダイオードでの電荷蓄積を1回行い，その1回の電荷蓄積の後に，転送動作が行われており，このことからも被告の技術の理解は裏付けられる。
    (5)
      甲1の段落【0025】の「読み出され」るは，「光信号電圧が光信号保持容量CTSに読み出される(t7～t8)」の「読み出される」であるから，t13でハイレベルとなったφVRESは，t7に対応するタイミングの前にローレベルとなればよいことは明らかであり，原告の「パルスφVRESをローレベルにして，垂直信号線V1～Vnのリセットを解除するという(図5のt3)，図5のタイミングチャートの最初に戻って行われると理解する」との主張は，甲1の記載に基づいたものではなく，失当である。
    (6)
      原告は，甲1において「グローバル電子シャッター」の構成を想起し得る記載又は示唆がないと主張するが，乙1～3の記載からすると，CMOSイメージセンサにおいて，2次元イメージセンサアレイにおける複数の行のピクセルの露光が同時に開始されるように制御する，いわゆるグローバル電子シャッターは，本件優先日前に周知技術となっていた。
      また，乙2にあるように，CMOSイメージセンサにおいて，2次元イメージセンサアレイにおける複数の行のピクセルの露光が同時に開始されるように制御することにより，「フォトダイオードの蓄積タイミングは全画素について同じとなるので，高速で動く被写体を撮像してもゆがみのない像を得ることができる」ことは周知の事項であった。
      そして，乙1には，CMOSイメージセンサをグローバル電子シャッターとして用いることに加え，【図20】に示されるとおり「バーコードラベル611」の「光学読み取り器600」であることについても記載されており，当該記載からみても，本件審決の引用発明の認定に誤りない。
    (7)
      引用発明は，バーコードを読み取るまでに長時間要していたことを解決する従来技術として，「リセット期間だけを高速のパルスで駆動し，立ち上がり時間を早くするアイデア」について「消費電力が増大するという問題」があるとして(甲1の段落【0008】)，それに対する解決手段を提供するものである。
      仮に，引用発明のCMOSイメージセンサが，原告の主張する回転式シャッターで動作するものであると，「装置全体でみた場合，最も電力消費が大きいのは照明用の光源(一般的にはLEDが用いられる)」(段落【0005】)であるところ，LEDの発光を行の数分だけ行う必要があり，消費電力が増大してしまい，引用発明の目的又は課題と矛盾する。
      また，引用発明が原告の主張のとおりに動作すると，引用発明は，【図5】の「t2からt5の光電変換時間」(段落【0023】)を，「CMOS型イメージセンサー」の行の数分だけとる必要があり，バーコードを読み取る時間が長くなるから，バーコードを読み取るまでの時間を短くするという，引用発明の目的又は課題と矛盾する。
  3 取消事由2(相違点の看過)について
    前記1，2のとおり，本件審決の引用発明の認定には誤りはないから，本願発明と引用発明との間の一致点及び相違点についての認定にも誤りはない。
  4 本願発明の実施品の商業的成功について
    一般に製品の売上げの増加及び高い市場シェアの維持は，その製品に対応する発明の技術的特徴以外にも，例えば製品の品質，寿命，サイズ，消費電力，コスト，営業努力，納期，市場規模の大小等々にも影響されるものである。
    本願発明の実施品が，原告の従来製品との比較で売上げが伸びたとしても，市場特有の事情によるとも考えられるし，比較対象が引用発明とは構造が異なる原告の従来製品であるから，そのことは引用発明に基づく容易想到性の判断に関係するものではない。
第5 当裁判所の判断
  1 本願発明について
    (1)
      本願明細書(甲3の2)には，以下の記載がある。
      【背景技術】
      【0003】
      ハンドヘルドで，かつ固定してマウントされたバーコードおよび機械コードリーダー，等の多くの伝統的なイメージャーリーダーは，CCD(電荷転送素子)ベースのイメージセンサを用いている。CCD ベースのイメージセンサは，入射光エネルギーを電荷のパケットに変換する電気的に結合された光感受性フォトダイオードのアレイを含む。動作において，電荷パケットは，以下の処理のために，CCD イメージセンサの外にシフトされる。
      【0004】
      いくつかのイメージリーダーは，CMOS ベースのイメージセンサを代替的な撮像技術として用いる。CCD では，CMOS ベースのイメージセンサは，入射光エネルギーを電荷に変換する光感受性フォトダイオードのアレイを含む。しかしながら，CCD と異なり，CMOS ベースのイメージセンサは，2次元アレイ内の各ピクセルが，直接アドレスされることを許す。これの1つの利点は，フルフレームのサブ領域を，独立にアクセスすることができることである。CMOS ベースのイメージセンサのもう1つの利点は，一般に，それらは，ピクセル当たりのより低いコストを持つことである。これは主に，CMOS イメージセンサが，マイクロプロセッサ等の共通集積回路を製造する高体積ウェハ製造施設内で，標準 CMOS プロセスにより作られることによる。より低いコストに加えて，共通製造プロセスは，CMOS ピクセルアレイを，クロックドライバ，デジタルロジック，A/D コンバータ等の他の標準的な電子デバイスとともに単一回路上に集積できることを意味する。これは，次に，空間的要件を低減し，電力の使用を低下させるさらなる利点を有する。
      【0005】
      CMOS ベースのイメージリーダーは，伝統的にピクセルをセンサアレイ内に露出させるために，回転式シャッターを使ってきた。回転するシャッターアーキテクチャにおいては，行ピクセルが活性化され，順に読み出される。1ピクセルのための露光あるいは積分時間は，ピクセルがリセットされるのと，その値が読み出されるのとの間の時間である。この概念は，図2Aに表される。図2Aにおいて，行「a」から「n」の各行のための露光は，バー4a…4n(一般に，4)で表現される。各バーの水平の伸び8は，特定の行のための露光期間に対応することが意図される。各バー4の水平配置位置は，各行のピクセルが露出されるシフト時間期間を示唆するものである。図2Aに見られるように，順次の行の露光期間は，重なり合う。これは図2Bに示される回転シャッターアーキテクチャのためのタイミング図に関してより詳細に示される。該タイミング図の，第2の12ライン，および第3の16ラインは，それぞれ，行aのためのリセットタイミング信号，および読み出しタイミング信号を表している。第4の20ライン，および第5の24ラインは，それぞれ，行bのための，リセットタイミング信号，および読み出しタイミング信号を表している。両図2Aおよび2Bにおいて示されるように，行bのための露光は，行aについて値が読み出される前に開始される。隣接する行ピクセルのための露光時間は，代表的に，数百行のピクセルを，1フレームのデータの捕獲の間に露出し，読み出さなければならないため，実質的にオーバーラップする。第1のライン28上の照明タイミングにより示されるように，そのオーバーラップする露出期間を持つ回転シャッターアーキテクチャは，照明がすべての行に対して与えられるよう，照明源が1フレームのデータを獲得するのに必要とされる実質的にすべての時間の間中残っていることを要求する。
      【0006】
      動作において，回転するシャッターアーキテクチャは，少なくとも2つの不利を受ける；イメージ歪と，イメージぼやけ，である。イメージ歪は，各行のピクセルが露出される時間が異なることによる結果物である。イメージ歪の効果は，速く動く物体が見られるように記録されるとき，最も顕著である。その効果は，バスのイメージピクセル50が，視野のフィールドを右から左へ通過するのを回転するシャッターで撮ったイメージを表す図3に示されるイメージにおいて証明される。上端行のバスイメージピクセル54は，底の行のピクセル58より早くにとられ，かつバスは左に進んでいるので，底の行のバスイメージピクセル58は，上端行のバスイメージピクセル54に対し，左に変位される。
      【0007】
      イメージぼやけは，イメージリーダーでの回転するシャッターアーキテクチャにおいて代表的に要求される長い露出時間の結果物である。上記したように，回転するシャッターアーキテクチャにおいては，照明源は，1フレームのデータを獲得するのに必要とされる実質的にすべての時間の間，残っていなければならない。バッテリー，および／または照明源の限界により，1全フレームのデータの獲得の間に与えられる光は，短い露出時間では通常充分ではない。短い露出時間なしでは，ぼやけを起こす効果が顕著となる。ぼやけを起こす効果の共通の例は，例えば，ハンドヘルドイメージリーダーの手ぶれによるイメージセンサの変位を含む。
      【0008】
      イメージ歪およびイメージぼやけを含む，現在の CMOS イメージリーダーの欠点を克服するイメージリーダーが必要とされる。
      【発明を実施するための形態】
      【0022】
      本発明は，目標の鋭い歪んでいない像を獲得するためのイメージリーダー，および対応する方法を特徴づける。1つの実施形態において，該イメージリーダーは，すべて互いに電気的に通信する，2次元 CMOS ベースイメージセンサアレイ，タイミングモジュール，照明モジュール，および制御モジュールよりなる。該照明モジュールは，反射された光が，該イメージセンサアレイにより集められて処理されるように，1次元，または2次元バーコードのようなシンボロジーのような目標上に，光を照射する。その間に目標が照明される時間は，照明期間といわれる。イメージセンサアレイによるイメージの捕獲は，1つの実施形態においては，アレイ内のすべての，または実質的すべてのピクセルを同時に露出させることのできるタイミングモジュールにより駆動される。センサアレイでのピクセルの同時の露出は，イメージリーダーをしてひずみのない像を獲得することを可能とする。ピクセルが集合的に活性化されて，入射光を電荷に光変換する時間は，センサアレイのための露出期間を定義する。該露出期間の終わりに，集められた電荷は，データが読み出されるまで，シールドされたストレージ領域に転送される。1つの実施形態において，露出期間，および照明期間は，制御モジュールの制御の下にある。1つのそのような実施形態において，該制御モジュールは，少なくとも露出期間の一部を，照明期間内に起こらせる。照明期間，あるいは低い雰囲気照明の環境における露出期間，あるいは高い雰囲気照明の環境における露出期間を十分に短くすることにより，本発明のイメージリーダーは，実質的にかすみのない像を，獲得することが可能である。【0059】
      ・・・該プロセス300は，目標を照明光162で照らすよう，照明源を活性化する(ステップ304)ことを含む。1つの実施形態において，照明源の活性化は照明制御タイミングパルス350に応答して起こる。活性化された照明源による目標の照明は，照明制御タイミングパルス350の期間の間起こる。1つの実施形態において，照明源は，光源160であり，照明制御タイミングパルス350は，照明モジュール104内の照明制御モジュール164によって生成される。プロセス300はまた，グローバル電子シャッターを作動させて，イメージセンサアレイにおける複数の行の複数のピクセルを，(ステップ312で)同時に露出させ，入射する放射を電気エネルギーに変換することを含む。複数のピクセルの同時の起動は，露出制御タイミングパルス354に応答して起こる。1つの実施形態において，複数のピクセルの同時の起動は，露出制御タイミングパルス354のスタート位置360に応答して起こる。さらなる実施形態において，露出制御タイミングパルス354は，センサアレイ制御モジュール186のグローバル電子シャッター制御モジュール190(図5B)によって生成される。
      【0069】
      ・・・リセットゲート(RG)をもつリセットトランジスタ，転送ゲート(TG)，信号トランジスタ(SIG)，行選択ゲートをもつ行選択トランジスタ(RSEL)，光検出器(PD)，および浮遊拡散(FD)。グローバルシャッターの動作は，図11に示される実施形態，およびここで図12として再生されるタイミング図に関して，米国特許No.6，552，323のカラム3，25-45行に記述されている。その開示は，読み出しが，センサの各ピクセルにおける，集められた信号電荷の光検出器30a，30bから浮遊拡散10a，10bへの転送が同時になされることにより始まることを示している。次に，行選択1(15)は，オンされ，浮遊拡散1 (10a)の信号レベルは，SS1 にパルスを与えることにより，列回路20aによりサンプルされ，保持される。行選択1(1 5)は，そののちオフされ，行選択2 (25)がオンされ，浮遊拡散2(10b)の信号レベルは，SS2 にパルスを与えることにより，カラム回路20bによりサンプルされ，保持される。読み出しされている行における浮遊拡散10a，10bは，そののち，RG にパルスを与えることにより，リセットされる。次の行選択2 (25)はオフされ，行選択1(15)はオンされ，浮遊拡散1(10a)のリセットレベルは，SRl にパルスを与えることにより，列回路20aによりサンプルされ，保持される。行選択1(15)は，そののちオフされ，行選択2(25)は，オンされ，浮遊拡散2(10b)のリセットレベルは，SR2 にパルスを与えることにより，サンプルされ，保持される。列回路20a，20bによりサンプルされ，保持された信号の読み出しは，そののち，イメージセンサの次の行において始まるサンプルピクセル読み出しに先立ってなされる。
    (2) 本願発明の概要
      ア 技術分野・背景技術
        本願発明は，CMOSベースのイメージセンサを撮像技術として用いる，ハンドヘルドで，かつ固定してマウントされたバーコードおよび機械コードリーダー等のイメージリーダーに関するものである(段落【0003】，【0004】)。
      イ 課題
        回転式シャッターを使う伝統的なCMOSベースのイメージリーダーは，各行のピクセルが露出される時間が異なることによる「イメージ歪」及び照明源によって与えられる光が充分でないことから要求される長い露出時間における手ぶれ等による「イメージぼやけ」が生じるという課題があった(段落【0005】～【0007】)。
      ウ 課題を解決するための手段
        本願発明は，「露光期間中に同時に，前記2次元イメージセンサアレイの複数の行のピクセルを露光するように配置されたグローバル電子シャッター制御モジュールであって，2次元イメージセンサアレイにおける複数の行のピクセルの露光が同時に開始されるように，グローバル電子シャッター制御モジュールが2次元イメージセンサアレイを制御するように構成される，グローバル電子シャッター制御モジュール」を有することにより前記課題を解決するものである(【請求項1】)。
      エ 効果
        回転式シャッターに代えてグローバル電子シャッター制御を行うことによって，複数の行でタイミングが異なっていた露光が同時に開始されることにより「イメージ歪」が起こらなくなり，また，照明期間，あるいは低い雰囲気照明の環境における露出期間，あるいは高い雰囲気照明の環境における露出期間を十分に短くすることにより，実質的にかすみのない像を獲得することが可能となる(段落【0022】)。
  2 取消事由1(引用発明の認定の誤り)について
    (1)
      甲1には，以下の記載がある。
      【0001】
      【発明の属する技術分野】本発明は，バーコード読み取り技術に関し，特にイメージセンサによるバーコード読み取り技術に関するものである。
      【0005】このように，携帯端末に一体化されたバーコード読み取り装置では，一般的に2次電池をバッテリーとするため，連続動作時間延長のためにも，各部の消費電力は極力抑えなければならず，それはセンサーにとっても例外ではない。また，装置全体でみた場合，最も電力消費が大きいのは照明用の光源(一般的には LEDが用いられる)であり，この光源の電力を削減することは最も有効な手段の1つでもある。
      【0006】
      【発明が解決しようとする課題】そのような背景を鑑みて，世の中のバーコード読み取り装置を調べたところ，CCD を用いて読み取りを行っているものの多くが図2に示したようなタイミング概念図で駆動している。まず読み取りのトリガーが ON されるまで，センサ駆動はスリープ状態にあり，電源を始めクロック(CLK)やセンサー駆動に必要なパルスは入力されていない。この状態で，トリガーが与えられると，まずセンサは装置の電源オフ時にフォトダイオードに貯まっていた不必要な電荷を捨て，同時に垂直転送路の不必要な電荷を排除するためのリセット動作を行う。
      【0007】次にリセットが終了した段階で，任意の露光時間でフォトダイオードの電荷蓄積を行う。この電荷蓄積の終了した段階で，垂直，水平転送路に電荷を運びセンサ外部に伝えていた。
      【0008】しかし，このリセット動作には1画面分の電荷をリセットする必要があるため，時間としては1画面分の走査時間を必要する。そのためトリガースイッチが押されてからバーコードを読み取るまでの立ち上がり時間が長時間かかっていた。この問題を解決するために特開平 08-044812 では，リセット期間だけを高速のパルスで駆動し，立ち上がり時間を早くするアイデアが出されている。しかしこのアイデアは消費電力が増大するという問題が残っている。
      【0009】また，バーコード読み取り装置は図2のように，3フレーム分動作させ，1回目は上記説明によるリセット動作，2回目はプリ露光，3回目に本露光と同時に，2回目のプリ露光で決定されたゲインをかけ出力している。
      【0010】この一連の動作の中で，露光時間は一定であり，本露光はゲイン調整だけで行っているため，光量が十分取れない状況下では，2値化が十分行えないことも考えうる。
      【0011】本発明は，静止画撮像可能なバーコード読み取り装置において，確実に，且つ高速にバーコード読み取りを行い，低消費電力でセンサを駆動することを目的とする。
      【0012】
      【課題を解決するための手段】本発明の一観点によれば，イメージ画像及びバーコードが読み取り可能なバーコード読み取り装置であって，光電変換により2次元画像を生成するためのイメージセンサと，バーコードを読み取る際，前記イメージセンサのプリ露光動作において水平及び垂直方向の両方で間引いた画素の信号だけを読み出し，該プリ露光動作にて読み出した信号に応じて本露光動作を行って全ての画素の信号を読み出す制御手段とを有することを特徴とするバーコード読み取り装置が提供される。
      【0014】プリ露光動作において間引いた画素信号を読み出すことにより，読み出し時間を短くすることができる。また，プリ露光動作にて読み出した画素信号に応じて本露光動作を行って画素信号を読み出すことにより，読み取りエラーを防止することができる。
      【0015】
      【発明の実施の形態】図 1 は，本発明の実施形態によるバーコード読み取り装置のブロック構成図である。
      【0016】図 1 において，1 は一般的な被写体像や，白黒のパターンで記載されたバーコードの被写体像をセンサー面に結像するためのレンズ部である。2 から 5はバーコードを照明するための赤色発光ダイオード(LED)で，イメージセンサー1の周囲に撮影対象物を十分な光量で均一に照らすために，高輝度型のものを上，下，
      右，左，各4個ずつ合計16個配置してある。6 は撮像素子部であり，光電変換により2次元画像を生成するための CMOS 型のイメージセンサーを用いる。7 はイメージセンサー6 に駆動クロックを供給するタイミング信号発生器(TG)で，システム制御部 8 で演算された露光時間の情報を受け，それに従ってイメージセンサー6 の露光時間を可変する。10 は，イメージセンサー6 の画像出力信号を増幅する増幅度可変の増幅器(AGC)で，システム制御部 8 で演算された増幅度の情報を受け，それに従って増幅度を可変する。増幅器 10 で増幅された画像信号は 11 の A／D 変換器で量子化されて，12 の信号処理部(回路)に入る。ここでは，バーコード信号の2値化，解読などを行うと共に画像信号の平均値を演算し，そのしきい値をシステム制御部 8 に送る。システム制御部 8 は LED 駆動部 9 を通して LED のオン，オフを制御し，また信号処理部 12 からのしきい値により，タイミング信号発生部に送る光電変換時間の情報と増幅器に送る増幅度情報を決定する。また露光時間の初期設定や，システム制御部 8 の初期設定は ROM18 に格納されている。次に 13 は信号処理のための画像メモリである。またこれらの解読が終わった状態でその情報を外部のパーソナルコンピュータ(パソコン)14 に伝えたり，またモニター15 に表示したり，解読終了や解読ミスを伝えるためのブザー16 に伝える。また記録媒体 17 を用意し，今までの解読した情報を蓄えることも可能である。
      【0017】図 3 は本実施形態における CMOS 型のイメージセンサーのブロック図で，センサはm行×n列の画素 S11～Smn から成るが，m行×n列に限定されるものではない。
      【0018】図 4は画素の詳細図で，この図で光信号電荷を発生するフォトダイオード PD はアノード側が接地されている。フォトダイオード PDのカソード側は，電荷転送スイッチ TXを介して，増幅 MOS トランジスタ M3 のゲートに接続されている。また，上記増幅 MOS トランジスタ M3 のゲートには，これをリセットするためのリセットMOS トランジスタ M1 のソースが接続され，リセット MOS トランジスタ M1 のドレインは，リセット電圧 VR に接続されている。さらに，上記増幅 MOS トランジスタ M3 のドレインは，動作電圧 VDD を供給するための行選択 MOS トランジスタ M2 に接続されている。
      【0019】次に，本実施形態の固体撮像装置の駆動方法を図3，図4と，図5のタイミング図で説明する。
      【0020】図3の転送 MOS トランジスタ TX のゲートを一行目からm行目までの全ての画素について同時に選択する信号 TXa が，各行ごとに全ての画素を選択する信号の転送パルス TX1～TXn(判決注：「TXm」の誤記と認める。)との OR 回路を通して各転送 MOS トランジスタ TX に接続されている。また，全ての画素の増幅 MOS トランジスタ M3 のゲートを同時にリセットするために，一行目からm行目までの全ての画素のリセット MOS トランジスタ M1 のゲートを同時に選択する信号 RESa が，各行ごとに全ての画素をリセットするパルス RES1～RESn(判決注：「RESm」の誤記と認める。)との OR 回路を通して各リセット MOS トランジスタ M1 に接続されている。
      【0021】このイメージセンサにおいて，まずリセット MOS トランジスタ M1 のゲートへのパルスφRESa，転送MOSトランジスタTXのゲートパルスφTXaおよび，垂直信号線リセット MOS トランジスタ M8 のゲートへのパルス φVRES がハイレベルとなる。これによって，増幅 MOS トランジスタ M3 のゲートとフォトダイオード PDが電圧VR に，垂直信号線 V1～Vn が電圧VVR にリセットされる(図 5 のt2 まで)。
      【0022】次に，φTXa がローレベルになりフォトダイオード PD には光に応じた電荷の発生が可能になる(t2)。LED を点灯するモードでは t2 に先行して，制御信号 φLED がハイレベルになり LED を点灯する(t1)。続いて，リセット MOS トランジスタ M1 のゲートへのパルス φRESa，垂直信号線リセット MOS トランジスタ M8 のゲートパルス φVRES，がローレベルとなり，M1 のゲート(判決注：「M3 のゲート」の誤記と認める。)と垂直信号線のリセットが解除される(t3)。時刻 t3 から所定の時間後，φTXa を再度ハイレベルにしてフォトダイオード PDの電荷を増幅 MOS トランジスタM3 のゲートに転送する(t4)。
      【0023】転送に十分な時間を経て，φTXa を再度ローレベルにしてフォトダイオード PD の電荷転送を終了する(t5)。このとき，t2 から t5 の間が光電変換時間となる。LED を点灯するモードでは，転送終了後に LED を消灯する(t6)。次に，選択 MOS トランジスタ M2 のゲートパルス φSEL1 および，光信号転送 MOS トランジスタ M5 のゲートパルス φTS がハイレベルとなる(t7)。これによって光信号電圧が光信号保持容量 CTS に読み出される(t7～t8)。容量 CTS に読み出した後，リセットMOS トランジスタM1 のゲートへのパルスφRES1，垂直信号線リセット MOS トランジスタM8 のゲートパルス φVRES がハイレベルとなり，M1 のゲート(判決注：「M3 のゲート」の誤記と認める。)と垂直信号線がリセットされる(t9)。続いて φRES1 とφVRES がローレベルとなり(t10)，M1 のゲート(判決注：「M3 のゲート」の誤記と認める。)と垂直信号線のリセットが解除された後，選択 MOS トランジスタ M2 のゲートパルス φSEL1 および，ノイズ信号転送MOS トランジスタ M4 のゲートパルス φTNがハイレベルとなる(t11)。これによってノイズ電圧が光信号保持容量 CTN(判決注:「ノイズ信号保持容量 CTN」の誤記と認める。)に読み出される(t11～t12)。この後，水平走査回路ブロック HSR からの信号 H1～Hn によって，各列の水平転送スイッチ M6，M7 のゲートが順次ハイレベルとなり(t14～t15)，ノイズ保持容量 CTN(判決注:「ノイズ信号保持容量 CTN」の誤記と認める。)と光信号保持容量 CTS に保持されていた電圧が順次差動回路ブロックに読み出される。差動回路ブロックでは，光信号とノイズ信号との差がとられ，出力端子 VOUT に順次出力される。
      【0024】以上で，第1行目に接続された画素セルの読み出しが完了する。この後，第2行目の読み出しに先立って，ノイズ信号保持容量 CTN および光信号保持容量 CTS のリセットスイッチ M9，M10 のゲートへの φCTR がハイレベルとなり，VRCTにリセットされる。
      【0025】以下同様に，垂直走査回路ブロック VSRからの信号によって，第2行目～第m行目に接続された画素セル C21～Cmn(判決注:「S21～Smn」の誤記と認める。)の信号が順次読み出され，全画素セルの読み出しが完了する。
      【0026】以上の動作説明から，このような CMOS イメージセンサは，センサのスリープ状態から復帰する時に，一画面分の走査を必要とせず，一括リセットのみで立ち上がり完了となり，高速なパルスを必要とすることなく，低消費電力駆動が可能となり，なおかつバーコード読み取りまでのセンサの早期立ち上げを可能とする。
      【0027】次に本実施形態の間引きモードについて説明する。図 6 は図3 で述べたセンサ回路図のうちの間引きモードを行うための水平走査回路ブロック HSR の回路構成図であり，図 7 は間引きモードを説明するためのタイミング図である。
      【0028】なお，構成としては垂直走査回路ブロック VSR も同じであるのでここでは水平走査回路ブロック HSR のみで説明していく。
      【0029】ここで述べる通常モードは，バーコードを読み取る時の本露光時に行う動作である。ここで図解してはいないが，通常モードのおける HSR の動作について説明する。このとき φHMODE は常にローレベル(LOW)である。これにより，フリップフロップFF2やFF5の入力についているAND回路がスルー状態になる。また，それ以外の AND 回路は常に不通状態となる。このような状態で，まず HSR のスタートパルスとして φPHST が入力される。その後，φPH に同期してそのスタートパルスが遅延しながら走査されていく。それと同時に出力として H1～Hn が出力されていく。次に図 7 のタイミングと共に間引きモードについて述べていく。
      【0030】この間引きモードはプリ露光期間中に行う動作である。まず t1 でφHMODE をハイレベル(High)にする。その状態で φPHST によりスタートパルスをフリップフロップ FF1 に入力し(t2)，φPHST が High の時に φPH を入力し(t3)，その情報を遅延させて次のフリップフロップに伝播させていく。その後，t4 で φPHが入力されると FF1 からの出力と同時に H1 に出力され，それとともに FF2 の入力にあるAND 回路に入力される。しかしここで φHMODE が High なっていると，2 入力AND 回路の片側の入力が LOW になっているため，もう片方の入力に何が入力されても LOW が入力される。次の φPH で FF2 が駆動しても H2 からは LOW，つまり 0 しか出力されない。また，これと同時に，FF2 の上に配置してある AND 回路にも FF1 の出力が伝えられる。このとき φHMODE が High の時にだけこの AND 回路は FF1 からの出力をスルーするようになっている。これにより，FF1の出力は FF2 を超えて FF3に伝播していく。このため t5 で FF3 からの出力と同時に φH3 の出力となる。この出力と同時に FF4,FF5 を飛び越えて，FF6 に伝播していく。t6 で φPH にパルスが入力されると FF6 から出力と同時に φH6 の出力となる。ここでは便宜上，FF6 までしか記載してないが，このままFFn まで伝播していき，最終的には φHn までの出力となる。この時飛ばしたいフリップフロップは上記で述べた方法で行うことが可能である。
      【0031】最後に t7 で φHMODE を LOW にし，t8 で φHRSTa を入力し，フリップフロップのリセットを一括で行う。以上が HSR で間引きモードを行う一連の動作である。
      【0032】なお，ここではフリップフロップでスタートパルスを遅延させながら伝播させていく回路を述べたが，これだけに止まらず，例えば，スイッチング回路で情報を伝播させても良いし，またカウンターで構成し，その値で H1～Hn を出力するような回路を構成しても良い。
      【0033】このような間引き回路により，例えば図9 に示すように，全画素領域901 において黒点の位置の読み取り画素 902 のみ読み取ることによって行う。これは中央の被写体の割合が大きくなるようなところを細かく読み出し，それ以外のところは水平，垂直方向で読み取り間隔を広げて読み取る。以上のことにより，プリ露光期間中は間引きモードで画素を読み出し，読み出し転送時間を短くする。これにより本露光までの時間を短くすることが可能となり，バーコード読み取りのためのトリガースイッチが押された後，短時間で読み取ることが出きる。
      【0034】図 8 は，本実施形態のバーコード読み取り装置の動作を説明するためのフローチャートである。
      【0035】まず，バーコード読み取りのためにトリガースイッチが ON される(S801)。その直後に上記で述べたようにセンサの画素部で一括リセットされる(S802)。また装置そのものにはバーコード読み取りか，静止画読み取りのための撮像モードかの 2 種類の設定があり，その条件判断により各モードに切り替わる(S803)。
      【0036】まずここで，撮像モードである場合，照明用の LED がオフ(OFF)になる(S805)。これはある特定の色である LED を照明光として用いると，被写体の色として，ある特定の色だけ強調され，また別の特定の色は感度が得られなくなるからである。またバーコード読み取りモードの時は照明用の LED をオン(ON)する(S804)。
      【0037】その後，プリ露光となる間引きデータを読み込む(S806)。このときバーコード読み取りモードでは，この LED がON されている照明時間を，本露光で用いる照明時間よりも短くしても構わない。その後，これらのデータを図 1 のA/D 変換器11 でディジタル変換し，処理回路12で積分し平滑化することで平均値を算出する(S807)。この平均値が，予め設定された基準値よりも大きいか，小さいかでその後の本露光における処理を変える。またその基準値からどのくらい離れているかでそれぞれの設定量を変えていく。
      【0038】まず，この平均値が基準値よりも小さい場合について述べる。この状況は被写体が暗い場合である。このようなときにまずセンサの電子シャッターのシャッター時間などにより露光時間を長くするために，露光時間を算出する(S809)。それと共にバーコード読み取りモードのときには LED の点灯時間も長くする(S810)。またこの時間を算出するには先で述べた平均値が，基準値よりどのくらい離れているかで変化させる。撮像モードのときは既に LED はOFF されているので LED の点灯時間に関しては省略する。またこの露光時間はバーコード読み取り装置を手で持つ際の手ぶれに影響するため，露光時間の最大値として 1/120 秒ぐらいを予め図 1 に述べた ROM18 に書き込んでおく。次のステップ S811 でこの露光時間の最大値を基準判断とし条件分岐する。
      【0039】ここで，露光時間算出結果が最大値を超えてなければ，算出された露光時間の設定で全データを読み込む(S821)。最大値を超えそうならば次のステップに進み，省電力モードかどうかを判断する(S812)。これはユーザーが予め設定することが可能である。この省電力モードの場合，次のステップ S814 でどのくらいゲインを与えればよいか計算し，その所望の値で全データ読み取り動作に入る(S821)。このとき露光時間と与えるゲインの兼ね合いで最適なものを選ぶように調整される。また撮像モードのときは無条件に YES が選択されるように処理する。
      【0040】次に省電力モードでない場合，照明用 LED の発光強度を強くする(S813)。ここではどのくらい強度を強めたらよいかを計算する。例えば電圧を上げるなどして発光強度を強めるわけだが，このとき用いる LED の特性や，装置全体のシステム電圧などにより一意的に最大値が決まる。この最大値を図 1 の ROM18 に予め書き込み，この値を超えるようならば次のステップでアナログゲインを調整する(S814)。このように露光時間と，発光強度，ゲイン量の兼ね合いで最適なものを選ぶように調整され，その設定で本露光のために全データを読み取る(S821)。最大値を超えない場合にはゲインは変化させずに露光時間，発光強度だけで調整し全データを読み込む。
      【0041】次に先に述べた，間引きデータの平均値を算出した後の基準値よりも大きい場合，つまり被写体が明るい場合について述べる。
      【0042】ここではまずセンサの電子シャッターなどを用いた露光時間を短くするために，露光時間を算出する(S815)。それと共にバーコード読み取りモードのときにはLED の点灯時間も短くする(S816)。またこの時間を算出するには先で述べた平均値が，基準値よりどのくらい離れているかで変化させている。撮像モードのときは既にLED は OFF されているので LED の点灯時間に関しては省略する。またこの露光時間はセンサの感度や，LED の明るさに応じて，露光時間の最小値は変化する。この最小値を予め図 1 に述べた ROM18 に書き込んでおく。次のステップ S817 でこの露光時間の最小値を基準判断とし条件分岐する。
      【0043】ここで，露光時間算出結果が最小値を超えてなければ，その算出された露光時間の設定で全データを読み込む(S821)。計算結果が最小値を超えそうならば次のステップに進み，省電力モードかどうかを判断する(S818)。この省電力モードでない場合，次のステップS820 でどのくらいゲインを与えればよいか計算し，その算出された値で全データ読み取り動作に入る(S821)。このとき露光時間と与えるゲインの兼ね合いで最適なものを選ぶように調整される。また撮像モードのときは無条件にNO が選択されるように処理する。
      【0044】次に省電力モードの場合，照明用 LED の発光強度を弱くする(S819)。ここではどのくらい弱めたらよいかを計算する。例えば電圧を下げるなどして発光強度を弱めるわけだが，最終的には LED の OFF が最小値となる。この状態でもまだ調整が必要であるなら，次のステップ S820 でアナログゲインを調整する。このように露光時間と，発光強度，ゲイン量の兼ね合いで最適なものを選ぶように調整され，その設定で本露光のために全データを読み取る(S821)。LED が OFF でない場合にはゲインは変化させずに露光時間，発光強度だけで調整し全データを読み込む。
      【0045】以上のような動作で本露光である全データを読み取り，図 1 のA/D 変換器 11 でディジタルに変換された後に処理回路12で 2 値化，デコード処理を行いバーコードの解読を行う(S822)。これにより解読 OK ならば(S823)，そのデコード結果を出力し(S825)，エラーの場合，エラーであることをユーザーに伝えるために例えば図 1 のブザー16 にエラー音を出力する(S824)。
      【0046】このフローチャートでは記載してないが，撮像モードの場合，全データを読み取った後に，A/D 変換器 11 でディジタル変換した後に，処理回路 12 で，エッジ強調や，モニターの特性に合わせたガンマ特性を掛けるなどする。なお，撮影モード時には，ステップ S810，S816，S821～S824 が省略される。
      【図1】
      【図3】
      【図4】
      【図5】
      【図8】
    (2) 引用発明の認定
      ア 各画素における光信号電荷の蓄積及び蓄積された光信号電荷の増幅MOSトランジスタM3のゲートへの転送について
        前記(1)で認定した甲1の段落【0021】～【0023】及び【図5】には，「転送MOSトランジスタTX」が，段落【0021】に「まず」と記載された時点からt2まで及びt4からt5までの各期間に，「各行ごとに全ての画素を選択する信号の転送パルスTX1～TXm」ではなく，「転送MOSトランジスタTXのゲートを一行目からm行目までの全ての画素について同時に選択する信号TXa」によって制御されることが記載されている。
        また，甲1の段落【0021】，【0022】，【0026】及び【図5】には，段落【0021】に「まず」と記載された時点からt3までの期間に，「増幅MOSトランジスタM3のゲートを同時にリセットするためリセットMOSトランジスタM1」が，「各行ごとに全ての画素をリセットするパルスRES1～RESm」ではなく，「一行目からm行目までの全ての画素のリセットMOSトランジスタM1のゲートを同時に選択する信号RESa」によって制御されることが記載されている。
        従来の回転式シャッターでは，各行ごとに露光がされるから，リセットについても各行ごとにされればよいところ，甲1の段落【0026】で「一括リセット」と記載されているように，甲1がTXa及びRESaで一括してリセット動作をしていることは，引用発明が従来の回転式シャッターではなく，全画素同時露光，すなわち，本願発明にいうグローバル電子シャッターと同じ構成を備えていることを推認させる。
        以上からすると，上記のようにTXa及びRESaによって制御される，①t2の時点で開始されるフォトダイオードPDのリセットを解除してフォトダイオードPDのカソード側に光信号電荷を蓄積する動作，②t4の時点で開始される蓄積された光信号電荷を増幅MOSトランジスタM3のゲートへ転送する動作，③t5の時点で上記転送を終了する動作は，各行ごとの画素について行われるものではなく，1行目からm行目までの全ての画素について同時に行われるものであると認めるのが相当である。
      イ 画素セルの読み出しについて
        甲1の段落【0023】には，「これによって光信号電圧が光信号保持容量CTSに読み出される(t7～t8)」，「これによってノイズ電圧がノイズ信号保持容量CTＮに読み出される(t11～t12)」，「差動回路ブロックでは，光信号とノイズ信号との差がとられ，出力端子VOUTに順次出力される。」などとして，t7からt15までの時間に垂直走査回路ブロックVSRからの信号の制御により1行目に接続された画素セルからの光信号が光信号保持容量CTSに，ノイズ信号がノイズ信号保持容量CTＮにそれぞれ読み出された後，差動回路ブロックが両信号の差をとり，出力端子VOUTに出力する動作が記載されており，それを受けて，段落【0024】では「以上で，第1行目に接続された画素セルの読み出しが完了する。」と記載され，さらに同段落の直後にある段落【0025】には「以下同様に，垂直走査回路ブロックVSRからの信号によって，第2行目～第m行目に接続された画素セルS21～Smnの信号が順次読み出され，全画素セルの読み出しが完了する。」と記載されている。
        上記のような各段落の記載内容からすると，前記アのとおりt5までの時点で全画素セルにおいて同時的に蓄積され，増幅MOSトランジスタM3のゲートへ転送された光信号が各行ごとに画素セルから読み出されるとともに，各行ごとに画素セルからノイズ信号も読み出され，最終的にその差が出力端子VOUTに出力されることを意味しているものと認められる。
      ウ
        なお，前記ア，イの認定を前提とすると，段落【0022】に記載されたt3時点のφVRESによる垂直信号線V1～Vnのリセット解除は1行目の画素セルから光信号を読み出す際の動作として記載されたものであると認められ，2行目以降の画素セルからの光信号の読み出しに関し，垂直信号線V1～Vnのリセットの解除がどの段階で行われるのかは，甲1の各段落や【図5】のタイミング図には明示されていないこととなる。
        しかし，φVRESがハイレベルのままだと光信号の読み出しができず，遅くとも2行目以降の画素セルから光信号を読み出す直前までのタイミングにφVRESをローレベルにしてリセット解除する必要があることは当業者には自明であり，そのために甲1に2行目以降の画素セルから光信号を読み出す際にφVRESをローレベルにするタイミングが明示的に記載されなかったものと推認できるから，垂直信号線V1～Vnのリセット解除について，t3以外に甲1に明示的な記載がないからといって，前記ア，イの認定は左右されないというべきである。
        また，前記ア，イの引用発明の認定を前提とすると，引用発明では，TX1～TXmが何ら用いられていないことになり，甲1の段落【0020】に「各行ごとに全ての画素を選択する信号の転送パルスTX1～TXm」としてTX1～TXmについての説明があり，【図3】でTXaとTX1～TXmによるOR回路が図示されていることの技術的意義は必ずしも明らかではないといえるが，これまで検討してきたところに照らすと，そのことのみで，前記ア，イの認定は左右されるものではない。
      エ 小括
        以上からすると，本件審決が認定したとおり，引用発明は，「全ての画素S11～Smnにおいて，同時に，フォトダイオードPDのカソード側に光信号電荷が蓄積され，その後，蓄積された光信号電荷が，同時に増幅MOSトランジスタM3のゲートに転送され，その後，同時に光信号電荷の増幅MOSトランジスタM3への転送が終了し(t2～t5)」という構成を備えているものと認められ，本件審決の引用発明の認定に誤りはない。
    (3) 原告の主張について
      原告は，①t2時点，t5時点におけるTX2～TXmの信号の状態について甲1に開示がないことからすると，上記各時点で，共にOR回路の入力となるTXaによる制御がされているからといって，全ての「画素S11～Smn」で同時露光がされているとはいえない，②t3時点におけるRES2～RESmの信号の状態について甲1に開示がないことからすると，t3時点で，共にOR回路の入力となるRESaによる制御がされているからといって，全ての「画素S11～Smn」においてリセットが解除されるとは認められず，全画素で同時露光がされているとはいえない，③φRESa及びφTXaがハイレベルとなる以前において，全画素のトランジスタが一括してオフ状態でなければならないことについて，甲1には記載も示唆もない，④画素セルからの光信号の読み出しに先立って行われる垂直信号線V1～Vnのリセットの解除について，甲1にはt3時点でφVRESをローレベルにする動作しか明示されていないことや甲1の段落【0025】に垂直走査回路ブロックVSRからの信号によって2行目～m行目の画素セルか信号を読み出すことが記載されていることから，引用発明では，2行目以降の画素セルについて，【図5】のタイミング図の最初に戻って順次処理がされることが裏付けられる，⑤引用発明の課題は，グローバル電子シャッターとは無関係であるし，本件で問題になっている甲1の段落【0020】～【0025】の記載は，センサの立ち上げモードについて記載したものであり，バーコードを読み取る動作に関する何らかの機能を示唆するものではない，⑥本件審決が認定する引用発明の構成は甲18，19から認められる技術常識に反すると主張する。
      ア 上記①～③について
        t2時点，t5時点におけるTX2～TXmの信号の状態について甲1に開示がなく，上記各時点で，TXaによる制御がされており，また，t3時点におけるRES2～RESmの信号の状態について甲1に開示がなく，t3時点で，RESaによる制御がされていることから，前記(2)アのとおり，全画素セルで同時露光がされていると認められる。
        仮に，原告が主張するとおり，引用発明において，各行ごとに，画素セルの露光が行われるとすると，上記の各時点における制御は，TXa及びRESaではなく，TX1～TXm及びRES1～RESmによってされるのが合理的であるところ，甲1には，そのような記載はない。
        また，仮に原告が主張するとおり，t2及びt5の時点でTXaがローレベルになる一方で，TX2～TXmがハイレベルになっている(なお，t2以前からハイレベルとなっている場合も含む。)と，2行目以降の画素セル内で電荷の蓄積が開始されないし，電荷転送も終了しないことになるが，電力消費という観点からは無駄であり，そのような不合理な動作が引用発明において行われるとは考え難い。
        同様に，t3の時点でRESaがローレベルになる一方で，RES2～RESmがハイレベルになっている(なお，t2以前からハイレベルの場合を含む。)と，2行目からm行目に接続された画素セル中の増幅トランジスタM3のゲートのリセットは解除されないが，これも露光を行わない画素についてリセットMOSトランジスタを駆動することになり，電力消費の点で無駄があるという点では上記と同様であり，やはりそのような不合理な動作が引用発明において行われるとは考え難い。
      イ 上記④について
        上記④のうち，画素セルからの光信号の読み出しに先立って行われる垂直信号線V1～Vnのリセットの解除について，甲1にはt3時点でφVRESをローレベルにする動作しか明示されていないことについては，前記(2)ウのとおりである。
        また，垂直走査回路ブロックVSRからの信号によって2行目以降の画素セルからの信号が読み出されるとの甲1の段落【0025】の記載についても，前記(2)イで検討したとおり，垂直走査回路ブロックVSRからの信号SEL1～SELm及びRES1～RESmによる制御によって画像セルからの信号の読み出しがされることを指すものと解されるのであり，原告の主張を裏付けるものとはいえない。
      ウ 上記⑤について
        (ア)
          甲1の段落【0020】～【0025】の記載について，原告は，センサ立ち上げモードに関連する記載であり，バーコード読み取り動作に関する何らかの機能を示唆するものではないと主張する。
          しかし，①甲1の段落【0019】に「次に，本実施形態の固体撮像装置の駆動方法を図3，図4と，図5のタイミング図で説明する。」とあり，それに続けて段落【0020】～【0025】が記載されていること，②引用発明のバーコードを読み取る時の本露光時に行う動作である「通常モード」と，プリ露光期間中に行う動作である「間引きモード」について説明した段落【0027】～【0033】では，段落【0020】～【0025】で説明されているような露光動作の詳細は記載されず，「通常モード」が，φHMODEを常にローレベルにすることにより水平走査ブロックHSRから，信号 φH1～φHn全てを順次出力するのに対して，「間引きモード」が，φHMODEをハイレベルにすることにより水平走査ブロックHSRから間引かれた信号 φH1，φH3，φH6を順次出力すること及び垂直走査回路ブロックVSRも上記HSRと同じ構成であることについてのみ記載されていることからすると，段落【0020】～【0025】は，「通常モード」及び「間引きモード」の双方の動作モードにおける引用発明の基本的な駆動方法を説明したものであると解される。甲1の段落【0026】の記載は，バーコード読み取り装置に従来用いられていた，リセット動作に1画面分の走査時間を必要とするCCDイメージセンサーに代えて，引用発明が段落【0020】～【0025】に記載された「転送MOSトランジスタTXのゲートを一行目からm行目までの全ての画素について同時に選択する信号TXa」及び「一行目からm行目までの全ての画素のリセットMOSトランジスタM1のゲートを同時に選択する信号RESa」により制御可能なCMOS型のイメージセンサーを用いることにより，立上げ時に全画素で同時にリセットがかかるために早期に立上げ動作の完了が可能となることを説明しているもので，段落【0020】～【0025】がセンサ立ち上げ動作のみを基礎付けるものではないというべきである。
        (イ)
          引用発明の課題について，甲1には，「静止画撮像可能なバーコード読み取り装置において，確実に，且つ高速にバーコード読み取りを行い，低消費電力でセンサを駆動する」(段落【0011】)との課題やその課題を解決するための手段として，プリ露光動作において間引いた画素信号を読み出し，プリ露光動作にて読み出した画素信号に応じて本露光動作を行って画素信号を読み出すこと(段落【0014】，【0034】～【0046】，【図8】)は記載されているものの，回転式シャッターに起因するイメージゆがみ等についての課題は記載されていない。
          しかし，これまで検討してきたとおり，甲1の段落【0019】～【0026】及び【図3】～【図5】には，転送MOSトランジスタTXのゲートを一行目からm行目までの全ての画素について同時に選択する信号TXa及び一行目からm行目までの全ての画素のリセットMOSトランジスタM1のゲートを同時に選択する信号RESaによって光電変換時間(t2からt5の間)が制御され，露光が全ての画素「S11～Smn」で同時に開始されかつ同時に終了するという，グローバル電子シャッターと相違しない動作が記載されている。そうすると，これらの記載は，グローバル電子シャッターと無関係とはいえず，前記(2)のとおり引用発明を認定することができるというべきである。
      エ 上記⑥について
        原告は，本件発明において，CMOS2次元イメージセンサ―アレイを用いたバーコード読み取り装置には，通常，回転式シャッターが使用されており，CMOS2次元イメージセンサ―アレイに回転式シャッターを使用しないと問題を引き起こすと認識されていたと主張するので，以下判断する。
        (ア)
          前記1の本願発明の概要(甲3の2)及び証拠(甲19，乙2)並びに弁論の全趣旨によると，初期のCMOSイメージセンサアレイは，甲19の【図4】，乙2の【図4】，【図5】のように，遮光された電荷保持領域を有さず，露光によってフォトダイオードで蓄積し，転送した電荷を保持することができなかったため，順次各行ごとに画素データを読み出す際に，露光(蓄積)時間が各行ごとに一定になるように，読み出しタイミングに先行して各行ごとに露光(蓄積)が開始されるという，いわゆる回転式シャッター(ローリングシャッター)方式が行われていたが，回転式シャッターの場合，各行ごとに電荷の蓄積開始と終了のタイミングがずれるために高速度で動く被写体のイメージがゆがんでとらえられるなどの課題があったことが認められる。
        (イ)
          a
            乙2には，次のような記載がある。
            【0002】
            【従来の技術】従来，固体撮像装置としてはそのSＮ比の良さからCCDが多く使われてきた。一方，消費電力の少なさや使い勝手の良さを長所とするいわゆる増幅型固体撮像装置の開発も行われてきた。増幅型固体撮像装置とは，フォトダイオードに蓄積された信号電荷を画素に備わったトランジスタの制御電極に導き，信号電荷量に応じた出力を前記トランジスタの主電極から増幅して出力するものである。特にトランジスタとしてMOSトランジスタを使ったいわゆるCMOSセンサはCMOSプロセスとのマッチングが良く，駆動回路，信号処理回路をオンチップ化できることから，開発に力が注がれている。
            【0003】図4はCMOSセンサ画素の典型的な例を示す回路図である。1は単位画素，2は入射光によって発生した信号電荷を蓄積するためのフォトダイオード，3は信号電荷量に応じた増幅信号出力を出す増幅手段としての増幅用MOSトランジスタ，4は信号電荷を受けMOSトランジスタ3のゲート電極に接続するフローティングディフュージョン部，5はフォトダイオード2に蓄積した信号電荷をフローティングディフュージョン部4に転送するための転送手段としてのMOSトランジスタ，6はフローティングディフュージョン部4をリセットするためのMOSトランジスタ，7は出力画素を選択するためのMOSトランジスタである。
            【0009】
            【発明が解決しようとする課題】しかしながら上記従来例においては，読み出しのための行を順次選択する。画素のフォトダイオードの蓄積開始，終了のタイミングは信号電荷転送時で決まるため，行毎にフォトダイオードの蓄積開始，終了のタイミングがずれることになる。二次元固体撮像装置においては，1画面すなわち1フィールドの信号は全行の画素信号によって形成されるので，行毎の蓄積タイミングがずれると，高速度で動く被写体の形状がゆがんでとらえられるという問題があった。
            【0010】そこで本発明は，信号蓄積動作の開始，終了タイミングを全画素同時に可能とすることにより，動く被写体でもゆがみのない画像を得ることができる固体撮像装置を提供することを目的とする。
            【0020】(3)電荷保持領域21における信号電荷の保持，という動作に移る。この動作においては転送ゲート電極19の電位はVHよりも低いVMに設定され，その時のポテンシャルが図1(b)に示されている。この時，領域17と領域21とを隔てる転送ゲート下のチャネル電位は領域17の電位よりも低く，しかし電荷保持領域21の電位は領域22の電位よりも高くなるようにVMの値が決められる。電荷保持領域21における信号電荷は，その両端に存在するポテンシャル障壁によって孤立し，また遮光層23のために，光励起によって発生する電子が領域21に入り込むこともおさえられているため，信号電荷の保持動作ができる。
            【0022】上記の構成，動作を持つ画素によって二次元センサが形成されるならば，「フォトダイオードに蓄積された信号電荷を電荷保持領域21に転送する」という動作は全画素同時に行うことができ，したがって信号蓄積動作の開始，終了タイミングは全画素同時となるため，ゆがみのない画像を得ることができる。また，図1からわかるように，フローティングディフュージョン領域18は転送ゲート19と接していないので，フローティングディフュージョン部4の全寄生容量は，従来構成のように転送ゲートとの容量を含まない。その分従来よりもフローティングディフュージョン部の全寄生容量が小さくでき，電荷変換係数が大きくしたがって感度が高くなるという効果がある。
            【図1】
          b
            以上の記載によると，乙2には，読み取り対象をバーコードに限定しない2次元CMOSイメージセンサアレイを用いた画像読み取り装置において，回転式シャッター方式によって高速度で動く被写体がゆがむという課題に対して，遮光した保持手段に電荷を保持することにより信号蓄積動作の開始，終了タイミングを全画素同時として当該課題を解消するという，本願発明にいうグローバル電子シャッターに相当する構成が記載されていることが認められる。
        (ウ)
          a
            乙3には，以下の記載がある。
            【0055】
            固体撮像素子回路部32は，第2の制御手段7の一部として機能するもので，例えば，CMOS(Complementary  Metal  Oxide  Semiconductor)やCCD(Charge  Coupled  Device)によって構成されている。なお，固体撮像素子回路部32は，CMOSならグローバルシャッタ方式，CCDならプログレッシブ方式を採用している。
            【0056】
            ここで，グローバルシャッタ方式およびプログレッシブ方式とは，固体撮像素子の全画素を電気的に一旦リセットし，全画素の同時露出を開始するとともに，全画素の同時露出を終了することができる，いわゆる，電子シャッタ方式である。
          b
            以上の記載によると，乙3には，固体撮像素子回路部32をCMOSイメージセンサとした場合に，信号蓄積動作の開始，終了タイミングを全画素同時とするグローバルシャッタ方式を採用することが記載されていることが認められる。
        (エ)
          以上の(ア)～(ウ)からすると，本件優先日当時，CMOSイメージセンサにおいて，回転式シャッターを採用した場合に，各行の画素セルが露光されるタイミングが異なり，高速で動く被写体について画像がゆがむなど課題があったところ，遮光した電荷保持領域を有することにより，全画素で同時に露光を開始して終了するという本願発明のグローバル電子シャッターに相当する構成を採用することによって同課題を解決できることは公知になっていたと認められる。したがって，当業者は，本件優先日当時，CMOSイメージセンサには回転式シャッターを採用しなければならないと認識することはなかったから，原告の上記主張は理由がない。
        (オ)
          なお，原告は，乙2，3は，審決の理由に挙げられていないから，これを本件訴訟において追加して主張することは許されないと主張するが，上記のとおり，乙2，3を，本件優先日当時の技術常識を認定するために用いることは，審決取消訴訟の審理範囲を超えるものではないというべきである。
          また，原告は，①乙2，3は本願発明のようなバーコードスキャンに関するものではない，②乙2，3には，グローバル電子シャッターに関する記載は含まれていない，③乙3に記載された発明は特殊な装置に関するものである，④乙3に「露光後に一行毎の読み出しを順次行うことで全画素の読み出しとする」ことは記載も示唆もされていないと主張するが，上記のとおり，乙2，3には，グローバル電子シャッターに相当する技術思想が記載されているのであって，乙2，3がバーコードスキャンに関するものではないことや乙3が特殊な装置であること，乙3に「露光後に一行毎の読み出しを順次行うことで全画素の読み出しとする」ことが記載されていないことが，上記認定を左右するものではない。
      オ
        以上からすると，原告の主張は，前記(2)の認定を左右するものとはいえず，いずれも採用することができない。
    (4) 小括
      以上からすると，原告が主張する取消事由1は理由がない。
  3 取消事由2(相違点の看過)について
    前記1(2)で認定したとおり，本願発明の「グローバル電子シャッター」は，「全画素において同時に露光を開始するとともに，かつ，同時に露光を終了する」ものであるところ，引用発明の「全ての画素S11～Smnにおいて，同時に，フォトダイオードPDのカソード側に光信号電荷が蓄積され，その後，蓄積された光信号電荷が，同時に増幅MOSトランジスタM3のゲートに転送され，その後，同時に光信号電荷の増幅MOSトランジスタM3への転送が終了し(t2～t5)」との構成は，全画素において同時に露光を開始するとともに，同時に露光を終了することを表したものであるといえるから，同構成は本願発明の「グローバル電子シャッター」に相当するものであると認められる。引用発明は，本願発明の「露光期間中に同時に，前記2次元イメージセンサアレイの複数の行のピクセルを露光するように配置されたグローバル電子シャッター制御モジュールであって，2次元イメージセンサアレイにおける複数の行のピクセルの露光が同時に開始されるように，グローバル電子シャッター制御モジュールが2次元イメージセンサアレイを制御するように構成される，グローバル電子シャッター制御モジュールと」という構成(特定事項F)に相当する構成を備えているものであると認められる。
    したがって，本件審決の一致点及び相違点の認定に誤りはなく，原告が主張する取消事由2は理由がない。
  4 本願発明の容易想到性について
    (1)
      これまで検討してきたところに照らすと，本願発明と引用発明の間には，本件審決で認定された前記第2の3(2)記載の相違点以外の相違点は存在しないところ，同相違点は，甲2から容易想到なものであり，これについては特に原告も特に争っていない。
      したがって，本願発明は，引用発明及び甲2に記載された事項に基づいて当業者が容易に発明できたものである。
    (2)
      原告は，本願発明の実施品の商業的成功から本願発明の進歩性が基礎付けられると主張するが，本願発明が進歩性を欠くのは既に判示したとおりである。実施品の商業的成功には，本願発明の技術的特徴以外に，ブランド力，広告宣伝力，営業努力，市場の環境，実施品の価格や品質など様々な要因が関係しているものであるから，商業的成功から直ちに進歩性を認めることはできない。
第6 結論
  よって，原告の請求には理由がないからこれを棄却することとして，主文のとおり判決する。
