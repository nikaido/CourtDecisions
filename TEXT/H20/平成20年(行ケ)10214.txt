主文
  1 特許庁が無効2006−80260号事件について平成20年5月8日にした審決を取り消す。
  2 訴訟費用は被告の負担とする。

事実及び理由
第1 請求
  主文同旨
第2 事案の概要
  1
    本件は，原告が特許権者である特許第3231553号(発明の名称「インバータ制御装置の制御定数設定方法」，原出願日 昭和61年5月9日〔特願昭61−106469号〕，分割出願日 平成6年7月25日〔特願平6−172269号〕，発明者 A及びB，発明の数2，訂正認容審決 平成17年11月18日〔訂正2005−39192号〕，以下「本件特許」という)の特許請求の範囲第1項，第2項に記載された発明について被告から特許無効審判請求がなされたところ，特許庁が平成20年5月8日，原告からの平成20年1月16日付け訂正請求を認めた上，上記各発明についての特許を無効とする旨の審決をしたことから，これに不服の原告がその取消しを求めた事案である。
  2
    争点は，上記訂正後の各発明が下記甲7文献に記載された発明(引用発明)との関係で進歩性を有するか(特許法29条2項)，である。
    記
    ・甲7文献：「ベクトル制御のオートチューニング」(A，B，C，D〔日立製作所 日立研究所〕，E，F〔同 大みか工場〕「電気学会研究会資料 回転機研究会 RM−85−20～30」のうちRM
    85−26，61頁～70頁，社団法人 電気学会，1985年
    〔昭和60年〕7月17日。以下これに記載された発明を「引
    用発明」という)
第3 当事者の主張
  1 請求の原因
    (1) 特許庁における手続の経緯
      ア
        原告は，昭和61年5月9日になした原出願(特願昭61−106469号)からの分割出願として，平成6年7月25日，発明の名称を「電圧制御形ベクトル制御インバータの制御装置」とする特許出願(特願平6−172269号)をし，その後の補正等を経て，平成13年9月14日に特許登録を受けた(発明の名称は「インバータ制御装置の制御定数設定方法」と変更，発明の数2。特許第3231553号)。
        その後原告は，平成17年10月20日付けで，上記特許につき訂正審判を請求し(訂正2005−39192号)，同年11月18日にその認
        容審決を受け同審決は確定した(甲51)。
      イ
        これに対し被告は，平成18年12月14日付けで，前記訂正前の特許請求の範囲第1項及び第2項につき無効審判請求(乙1)をしたので，同請求は特許庁に無効2006−80260号事件として係属し，その中で原告は，平成20年1月16日付けでも特許請求の範囲1及び2等につき訂正請求(乙9。以下「本件訂正」という)をしたが，特許庁は，平成20年5月8日，「訂正を認める。特許第3231553号の請求項1及び2に係る発明についての特許を無効とする。」旨の審決をし，その謄本は平成20年5月20日原告に送達された。
    (2) 発明の内容
      本件訂正後の特許請求の範囲1及び2(以下順に「訂正発明1」，「訂正発明2」という)の内容は，次のとおりである(乙9，甲24。下線は訂正箇所)。
      ・ 「1．誘導電動機に電力を供給するインバータを電圧指令に基づいて制御する制御装置の制御定数を，前記制御装置の前記電圧指令を出力するコンピュータにより設定する方法において，次のステップを有することを特徴とするインバータ制御装置の制御定数設定方法。
      (a)前記電圧指令および前記誘導電動機の周波数指令の所定値を設定するステップ，
      (b)無負荷状態において，前記所定値に基づいて前記インバータから出力される交流電圧を前記誘導電動機に印加することにより，前記誘導電動機を回転させるステップ，
      (c)前記回転している誘導電動機に流れる電流を検出するステップ，(d)前記所定値に設定された電圧指令，前記所定値に設定された周波数指令，および前記検出された電流に基づいて，前記コンピュータにより，前記誘導電動機の1次インダクタンスと関係する，前記制御装置の制御定数を設定するステップ。
      (e)前記(b)のステップにおいて，周波数指令および電圧指令を前記設定した所定値まで徐々に且つ一定レートにて増加させて，前記誘導電動機を回転させるステップ。」(訂正発明1)
      ・ 「2．誘導電動機に電力を供給するインバータを直交するベクトルの電圧指令(V *，V *)に基づいて制御する制御装置の制御定数を，
      1d 1q
      前記制御装置の前記電圧指令を出力するコンピュータにより設定する方法において，次のステップを有することを特徴とするインバータ制御装置の制御定数設定方法。
      (a)前記電圧指令および前記誘導電動機の周波数指令の所定値を設定するステップ，
      (b)無負荷状態において，前記所定値に基づいて前記インバータから出力される交流電圧を前記誘導電動機に印加することにより，前記誘導電動機を回転させるステップ，
      (c)前記回転している誘導電動機に流れる電流の，前記電圧指令の1つのベクトル成分に対応するベクトル成分を検出するステップ，(d)前記所定値に設定された電圧指令，前記所定値に設定された周波数指令，および前記検出された電流のベクトル成分を用いて，前記コンピュータを用い前記誘導電動機の1次インダクタンスを演算するステップ，
      (e)得られた前記1次インダクタンスに基づき前記コンピュータにより前記制御装置の制御定数を演算し，この制御定数を設定するステップ。
      (f)前記(b)のステップにおいて，周波数指令および電圧指令を前記設定された所定値まで徐々に且つ一定レートにて増加させて，前記誘導電動機を回転させるステップ。」(訂正発明2)
    (3) 審決の内容
      ア
        審決の詳細は別添審決写しのとおりである。その理由の要点は，本件訂正は適法であるとした上，訂正発明1及び2は前記甲7文献(引用発明)及び周知技術に基づいて当業者が容易に発明をすることができたから本件特許は特許法29条2項に違反してなされた無効なものである，等としたものである。
      イ
        なお，審決は，上記判断をするに当たり，引用発明の内容を以下のとおり認定し，訂正発明2と引用発明との一致点及び相違点を以下のとおりとした。
        〈引用発明の内容〉
        「誘導電動機に電力を供給するインバータを直交するベクトルの電流指令に基づいて制御する制御装置の制御定数を，前記制御装置の前記電流指令を出力するための周波数指令を出力するマイコンによりオートチューニングする方法において，次のステップを有するインバータ制御装置の制御定数設定方法。
        (a)前記電流指令および前記誘導電動機の周波数指令に定格値を設定するステップ，
        (b)無負荷状態において，前記定格値に基づいて前記インバータから出力される交流電流を前記誘導電動機に印加することにより，前記誘導電動機を回転させるステップ，
        (c)前記回転している誘導電動機の電圧の，前記電流指令の1つのベクトル成分に対応するベクトル成分を検出するステップ，(d)前記定格値に設定された電流指令，前記所定値に設定された周波数指令，および前記検出された電圧のベクトル成分を用いて，前記マイコンを用い前記誘導電動機の励磁インダクタンスを演算するステップ，
        (e)得られた前記励磁インダクタンスに基づき前記マイコンによりIm＊の最適設計を行うステップ。」
        〈一致点〉
        いずれも，
        「誘導電動機に電力を供給するインバータを直交するベクトルの第1の電気量指令に基づいて制御する制御装置の制御定数を，前記制御装置の指令を出力するコンピュータにより設定する方法において，次のステップを有するインバータ制御装置の制御定数設定方法。
        (a)前記第1の電気量指令および前記誘導電動機の周波数指令の所定値を設定するステップ，
        (b)無負荷状態において，前記所定値に基づいて前記インバータから出力される第1の電気量を前記誘導電動機に印加することにより，前記誘導電動機を回転させるステップ，
        (c)前記回転している誘導電動機の第2の電気量の，前記第1の電気量指令の1つのベクトル成分に対応する成分を検出するステップ，(d)前記所定値に設定された第1の電気量指令，前記所定値に設定された周波数指令，及び前記検出された第2の電気量のベクトル成分を用いて，前記コンピュータを用い前記誘導電動機の1次インダクタンスを演算するステップ。
        (e)得られた前記1次インダクタンスに基づき前記コンピュータにより前記制御装置の制御定数を演算し，この制御定数を設定するステップ。」である点で一致する。
        〈相違点〉
        (ア)「第1の電気量」が，訂正発明2では直交するベクトルの指令「電圧(V ＊・V ＊)」及びインバータから出力される「交流電圧」
        1d 1q
        であるのに対し，引用発明では直交するベクトルの指令「電流」及びインバータから出力される「交流電流」であり，「回転している誘導電動機の第2の電気量」が，訂正発明2では「回転している誘導電動機に流れる電流」であるのに対し，引用発明では「回転している誘導電動機の電圧」である点。
        (イ)コンピュータの出力が，訂正発明2では「制御装置の電圧指令」であるのに対し，引用発明では「制御装置の電流指令を出力するための周波数指令」である点。
        (ウ)訂正発明2では「(b)のステップにおいて，周波数指令および電圧指令を設定した所定値まで徐々に且つ一定レートにて増加させて，誘導電動機を回転させるステップ」を有するのに対し，引用発明ではそのようなステップが明確にされていない点。
    (4) 審決の取消事由
      しかしながら，審決には，以下に述べる誤りがあるので，違法として取り消されるべきである。
      ア 取消事由1(引用発明の認定の誤り，一致点及び相違点についての認定の誤り)
        (ア)
          審決は，訂正発明2と引用発明との一致点の認定に関し，「本件訂正発明2と引用発明とを対比すると…後者の直交するベクトルの『電流』指令及び，インバータから出力される『交流電流』と，前者の直交するベクトルの『電圧』指令及び，インバータから出力される『交流電圧』とは，指令され印加される値である点で共通するので『第1の電気量』との概念で一致し，後者の『回転している誘導電動機の電圧』と，前者の『回転している誘導電動機に流れる電流』とは，検出される値である点で共通するので『回転している誘導電動機の第2の電気量』との概念で一致する。」(19頁16行～28行)とした。
          しかし，引用発明の励磁インダクタンスと2次時定数の測定の項には，指令信号としての回転座標系におけるd軸電流成分I ＊という記載があm
          るのみであり，「電気量」との概念を使用していない。また，検出され，インバータから出力される電圧の回転座標系におけるq軸電圧成分Vq
          という記載があるだけで，「第2の電気量」との概念も使用していない。
          引用発明には，以下に述べるとおり，このような上位概念は記載されておらず，審決の引用発明の認定は誤りである。
        (イ) 引用発明の動作原理
          引用発明では，電動機定数の測定には，甲7文献の図2の構成のベクトル制御インバータを適用している。引用発明の誘導電動機(IM)の無負荷運転は，同図2の回路を用いてベクトル制御下で行われる。電流指令値として，先ず適宜の値として，初期値I ＊＊が設定され，インバーm
          タに設定した回転周波数指令ω ＊からω ＊を得て，これに基づき誘導電
          r 1
            動機(IM)をベクトル制御下で無負荷運転する。その上で，前記適宜設定された初期値I ＊＊をAERからの出力ΔI で順次補正しながら，
            m m
              検出電圧eqと周波数指令ω ＊に基づく電圧値とが等しくなったとき無負荷電流の定格値I ＊が得られる。このときの，周波数指令値ω ＊，検
            m 1
              出電圧のq軸ベクトル成分V に基づき，1次インダクタンスを演算すq
              ることが記載されている。
              次に，引用発明の図2の回路の動作を詳述する。
              AERは，検出した誘起電圧eq(モータの固定座標系上の3相誘起電圧 V ，V ，V とその周波数，位相を検出し，これを2相に数学
          u v w
            的に変換し，さらに回転座標系上のV ，V に座標変換して，eqを得
            d q
              る)と，同図2には記載が省略されているV／f曲線より導かれる前記設定した周波数指令 ω ＊に基づく電圧値とを比較し，その比較結果が誘起電圧eqの方が小さいときは無負荷電流値を上げる補正をし，逆に大きいときは下げる補正をしていき(ΔI を加減算する補正)，その比m
              較結果が零に近づくまでその動作を続ける。そして，最終的にこの比較結果が零となったとき，無負荷電流の定格値I ＊が出力されていることm
              になる。
              しかしながら，上記のAERに無負荷電流の正常な定格値を出力させるようにするためには，同図2に示されるAFR(周波数調節器)を動作させることが不可欠である。このAFRは誘導電動機をベクトル制御するときに，回転座標系(d−q)上の制御軸d軸とモータ軸(回転磁界の磁束方向の軸)とを一致させる(軸ずれ抑制)制御をするためのもので，この制御(ベクトル制御)がなされないと先のAERに入力されるeqに誤差(元となる誘起電圧V に誤差が生じる)が発生してしまq
              う。
              AFRの上記動作をさらに説明すると，検出した誘導電動機の誘起電圧(固定座標系上)から，回転座標系上のd軸成分であるV より誘導d
              電動機の1次抵抗 r と漏れインダクタンス(ℓ +ℓ ')の電圧降下分を差し引いたedが零(すなわちd軸と回転磁束の方向とが一致するようにして無負荷運転をすると，磁束のトルク分成分であるφ は0，ed＝q
              0である)になるように周波数ω を補正する。換言すると，このようにedが零になるように制御することによって，無負荷運転の場合に前記d軸と回転磁束の方向とを一致させることができる。このedの演算には正確な r と(ℓ +ℓ ')が必要であり，引用発明ではそのために図7のフローに記載されるように無負荷運転で励磁インダクタンスL を測定する前にこれら定数を測定演算しなければならない。
              以上のように，誘導電動機の回転磁界の方向にこのd軸を合わせるように制御したとき，d軸電流成分は励磁電流成分I ＊となる。ベクトルm
              制御を行わないときは，d軸と回転磁界の方向は一致せず，d軸電流成分には励磁電流成分及びトルク分電流成分が含まれ，q軸電流成分にも励磁電流成分及びトルク分電流成分が含まれるから，d軸電流成分は励磁電流成分I ＊となることはない。また，ベクトル制御下で，誘導電動m
              機を無負荷運転すると，トルクは発生しないからI ≒0である。
          t
        (ウ)
          上記によれば，引用発明の内容は以下のとおりとすべきである。
          「誘導電動機に電力を供給するインバータを直交するベクトルの回転座標系上の電流指令(I ＊，I ＊)を3相の固定座標系上の電流指令に座
            m t
              標変換し，ACRを介して得られる3相の固定座標系上の電圧指令(V＊，V ＊，V ＊)に基づいてベクトル制御する制御装置の制御定数を，
          u v w
            前記制御装置の周波数指令を出力するマイコンにより自動設定する方法において，次のステップを有するインバータ制御装置の制御定数設定方法。
            (a)誘導電動機の回転磁束の方向及びこれに直交するベクトルの回転座標系上の電流指令値(I ＊)を適宜設定し，前記誘導電動機の周波数m
            指令に定格値を設定するステップ，
            (b)無負荷状態において，前記インバータ制御装置によりベクトル制御をしながら前記適宜設定された電流指令値(I ＊)および前記周波数m
            指令値に基づく電流を前記誘導電動機に供給し，無負荷定格電流指令値に至るまでこれを補正しながら(ベクトル制御下において，検出した電圧V より起電力eqを求め，検出電圧eqと周波数指令ω ＊に基づく
          q 1
            電圧値とが等しくなるように電流指令値(I ＊)を加減算する補正をしm
            ながら最終的にこれが等しくなったときの補正された電流指令値が無負荷定格電流値となる)，これにより誘導電動機を回転させるステップ，(c)前記無負荷定格電流値となった電流指令値(I ＊)に基づき回転m
            している誘導電動機の電圧の，前記電流指令の1つのベクトル成分(q軸〔回転磁束の方向に直交する軸〕のベクトル成分)に対応するベクトル成分(V )を検出するステップ，
          q
            (d)前記無負荷定格電流値となった電流指令値(I ＊)と，前記所定m
            値に設定された周波数指令値，および前記検出された電圧のベクトル成分(V )を用いて，前記マイコンを用い前記誘導電動機の1次インダq
            クタンスを演算するステップ，
            (e)得られた前記1次インダクタンスに基づき前記マイコンにより前記制御装置の制御定数L を演算し，この制御定数を設定するステップ」(エ) 訂正発明2と引用発明との一致点と相違点の認定の誤り以上によれば，訂正発明2と引用発明との一致点と相違点は次のように認定されるべきであるにもかかわらず，審決はこれを誤った違法がある。少なくとも，引用発明には，審決が認定するように，「前記電流指令を前記誘導電動機の周波数指令とともに定格値に設定するステップ」が記載されているとすることはできない。
            電動機定数である励磁インダクタンスを測定演算するために行われる引用発明のベクトル制御では，誘導電動機の回転磁束の方向と一致する電流指令(I ＊)及びこれに直交するベクトルの電流指令(I ＊)が
            m t
              2相→3相変換されてACRに入力されて，その出力からの電圧指令(V＊，V ＊，V ＊)に基づいてPWM制御されるように制御装置がイン
          u v w
            バータを制御するものである。したがって，制御装置は，最終的に電圧指令に基づいてインバータを制御はするものの，その電圧指令は3相の電圧指令であって，直交する(誘導電動機の回転磁束の方向及びこれに直交するわけではない)ベクトルの電圧指令(V ＊，V ＊)に基づい
            1d 1q
            て制御するものではない。
            これに基づき両者を対比すると，訂正発明2と引用発明とは，次の点で一致し，次の点で相違する。
            【一致点】
            「誘導電動機に電力を供給するインバータを電圧指令に基づいて制御する制御装置の制御定数を自動設定する方法において，次のステップを有するインバータ制御装置の制御定数設定方法。
            (a)前記誘導電動機の周波数指令に所定値を設定するステップ，(b)無負荷状態において，前記所定値に設定された周波数指令などに基づいて前記誘導電動機を回転させるステップ，
            (d)前記所定値に設定された周波数指令，およびその他の量を用いて，前記誘導電動機の1次インダクタンスを演算するステップ(e)得られた前記1次インダクタンスに基づき前記制御定数を演算しこの制御定数を設定するステップ」
            【相違点】
            ・ 相違点ア
            インバータに対する電圧指令について，訂正発明2は，直交するベクトルの電圧指令(V ＊，V ＊)であるのに対し，引用発明で
            1d 1q
            は，誘導電動機の回転磁束の方向及びこれに直交するベクトルの電流指令(I ＊，I ＊)がAER及びASRから出力されるものの，
            m t
              これが3相変換後，ACRによって3相の電圧指令(V ＊，V ＊，
          u v
            V ＊)となって制御されるものである点。
          w
            ・ 相違点イ
            電圧指令の設定値について，訂正発明2は，所定値を設定するものであるのに対し，引用発明は，電圧指令として所定値を設定することなく，電流指令値を適宜設定(I ＊＊)し，誘導電動機のベクm
            トル制御下での回転に伴い，これが順次補正(したがって変化する)されて無負荷定格電流指令値(検出した電圧V より起電力eqをq
            求め，eqとω ＊を入力とするAERによって適宜設定された電流指令値は順次補正されて無負荷定格電流値(I ＊)となる)となり，m
            このような補正が行われる電流指令値が順次3相変換されてACRを介することによりそれぞれの時点での電圧指令値となるものである点。
            ・ 相違点ウ
            無負荷状態において誘導電動機を回転させる点について，訂正発明2は，所定値に設定された電圧指令及び周波数指令に基づいて回転させるのに対し，引用発明は，ベクトル制御をしながら前記適宜定められた電流指令値(I ＊)および前記周波数指令値に基づく電m
            流(電流指令値は3相変換されて電圧指令値となり，インバータに電圧とともに電流が供給される)を前記誘導電動機に供給して前記誘導電動機を回転させるものであり，前記無負荷定格電流指令値に至るまで電流指令値を補正しながら(検出した電圧V より起電力q
            e を求め，e とω ＊を入力とするAERによって適宜設定された
          q q 1
            電流指令は順次補正されて定格電流となる)誘導電動機を回転させるものである点。
            ・ 相違点エ
            検出の対象について，訂正発明2は，前記回転している誘導電動機に流れる電流の，前記電圧指令の1つのベクトル成分に対応するベクトル成分を検出するものであるのに対し，引用発明は，前記回転している誘導電動機から出力される電圧の，電動機電流の1つのベクトル成分に対応するベクトル成分(V )を検出するものであq
            る点。
            ・ 相違点オ
            前記誘導電動機の1次インダクタンスを演算する変数について，訂正発明2は，前記所定値に設定された電圧指令，周波数指令および前記検出された電流のベクトル成分を用いるものであるのに対し，引用発明は，前記無負荷定格電流値となった電流指令値，前記所定値に設定された周波数指令値，および前記検出された電圧のq軸成分値を用いるものである点。
            ・ 相違点カ
            所定値の周波数指令および電圧指令に従って誘導電動機を回転させるまでの間の回転指令について，訂正発明2は，(b)のステップにおいて，周波数指令および電圧指令を前記設定した所定値まで徐々に且つ一定レートにて増加させて，前記誘導電動機を回転させるものであるのに対し，引用発明は，このような構成を有しない点。
            以上の次第であるから，審決は引用発明の記載の認定を誤り，さらに，その記載を上位概念化して抽象化する誤りをし，そのため，引用発明の認定を誤り，訂正発明2と引用発明との一致点と相違点の認定を誤った違法がある。
            この誤りは，訂正発明2及び訂正発明1の進歩性欠如に関する結論に重大な影響を与えることは明らかであるから，審決は取り消されるべきである。
      イ 取消事由2(進歩性についての判断の誤り)
        以下，上記取消事由1で原告の主張する相違点アないしカに基づき審決の進歩性判断の誤りについて主張するとともに，原告主張の相違点の中にも含まれる審決認定の相違点についてその判断の誤りを主張する。
        (ア) 相違点アについて
          訂正発明2のインバータは，電圧指令によって動作する電圧形インバータである。これに対し引用発明のインバータは，直交するベクトルの電流指令がAER及びASRから出力されるが，3相変換の後ACRによって3相の電圧指令(V ＊，V ＊，V ＊)が出力され，この電圧指
          u v w
            令によって動作する電圧形インバータである。
            すなわち，両者は，電圧形インバータを用いる点では共通する。しかし，訂正発明2では，直交するベクトルの電圧指令を直接3相変換しているのに対し，引用発明では，直交するベクトルの指令は電流指令であり，この電流指令を3相変換後，ACRで電圧指令に変換している。したがって，引用発明の電圧指令は直交するベクトルの電圧指令ではない。
            引用発明では，この直交するベクトルの電流指令を適宜与え，無負荷運転しながら無負荷電流を探って動作点に於ける無負荷電流指令値I ＊m
            を見出すものである。したがって，引用発明の電圧指令は，所定値が与えられることなく，適宜定められた直交するベクトルの電流指令に基づき3相の電圧指令として与えられ，電流指令が補正されるのに伴い順次これに応じた電圧指令となるものである。
            この点に関し審決は，電流と電圧をいずれも「電気量」であると一般化し，これをあたかも相互に入れ替えるように構成することにより引用発明から訂正発明2が容易に得られるとするものであるが，電流と電圧は，それぞれ電力の要素をなすものであって，それぞれ別の量であるから，審決にいうほど単純ではない。
            すなわち，前記のように，引用発明においても電圧形インバータに対してはACRを介して電圧指令が出力されるから，引用発明においては，ACRに対して入力される指令は電流指令でなければならず，審決がいうように電流と電圧を入れ替えると，ACRに対して電圧指令を入力することになり，ACRは動作せず，電圧形インバータに対して電圧指令が出力できないことは明らかである。審決の認定は誤りである。
        (イ) 相違点イについて
          訂正発明2の原理は，その動作点における汎用モータの定格値の磁束を発生させるようにインバータに電圧指令及び周波数指令の所定値(例えば両者の定格値)を設定し汎用モータを無負荷運転することである。
          誘導電動機の電圧方程式に基づき，一般的に成立する訂正明細書(甲24)の(9)式及び(10)式に，例えば定格のような周波数が高い状態で無負荷運転をする場合，すなわち，この条件として，
          v ＝0，ω ≒0，r ≪ω (ℓ ＋L )
            1d s 1 1 1 1
            を与えて式の変形をした結果である訂正明細書の(18)式も，同様にd軸及びq軸をどのように設定するかにかかわらず，定常状態において一般的に成立する(なお，訂正明細書ではωをwで表記しているので，以下訂正明細書を引用する場合，「w」については「ω」の意である)。
            したがって，誘導電動機の出力電流i (直交するベクトルの電圧指1d
            令V1dのベクトル成分に対応する電流成分)を検出しさえすればよいことが理解できる。
            上記の通り，訂正発明2では，直交するベクトルの電圧指令及び周波数指令として所定値を設定することが原理上から重要である。そして，訂正明細書の(18)式が，d軸及びq軸をどのように設定するかにかかわらず，定常状態において一般的に成立することから，誘導電動機をベクトル制御により，d軸と磁束の方向とを一致させる制御を行う必要もない。
            これに対して引用発明の原理は，インバータの無負荷電流指令には，先ず初期値を適宜設定し，インバータに設定した周波数指令に基づき汎用モータを無負荷運転する。これにより汎用モータの無負荷時に流れる電流は設定された初期値の電流が流れる。そして汎用モータにはその電流によって磁束が発生し，これにより汎用モータの巻線には誘起電圧が発生するので，その電圧を汎用モータの出力電圧から検出する。
            次に，AER制御回路により，検出した誘起電圧とV／f曲線(図2では省略されている)より導かれる前記設定した周波数指令に基づく電圧値とを比較し，その比較結果が誘起電圧の方が小さいときは初期設定した無負荷電流値を上げ，逆に大きいときは下げていき，その比較結果が零に近づくまでその動作を続ける。そして，最終的にこの比較結果が零なる時点を上図の動作点に於ける無負荷電流指令値として求める。このように引用発明は，無負荷運転しながら無負荷電流を探って動作点に於ける無負荷電流指令値I ＊を見出すものである。したがって，電流指m
            令値は所定値として設定できない。そもそも，無負荷電流指令値I ＊は，m
            1次インダクタンスに関係する量であるから，1次インダクタンスが不明な時点，すなわちこれからその正確な値を測定演算しようとしている時点では，設定のしようがない。引用発明は，ベクトル制御下でこの無負荷電流指令値I ＊を探索するものである。
            m
              このように，相違点イは，1次インダクタンスの測定演算の原理の相違に基づくものであり，重要な相違点である。この相違点を開示する他の公知発明はなく，これを示唆するものもない。
              ところが，審決は，引用発明が最終的に無負荷電流指令値I ＊が得らm
              れることをもって，所定値の電流指令が与えられると誤った認識をし，さらに，電流と電圧をいずれも「電気量」であると一般化し，これをあたかも相互に入れ替えるように構成することにより引用発明から訂正発明2が容易に得られるとする。しかし，両者の1次インダクタンスの測定原理の相違を無視したものであり，審決は誤りである。
        (ウ) 相違点ウ(審決の相違点(ア)と関連する)について
          誘導電動機のベクトル制御装置において，引用発明のようにAER(起電力調節器)を用いることは，本件特許の原出願日前に広く行われていたが，その場合には，前記のとおりAFR(周波数調節器)を動作させることが不可欠である。このAFRの動作のためには，事前に正確な rと(ℓ +ℓ ')を得て，これにより回転座標系のd軸の方向を回転磁界の方向に一致するように制御する必要がある。
          引用発明では，このAER及びAFRを用いているから，引用発明(甲7)の図7のフローに記載されるように r と(ℓ +ℓ ')を励磁インダクタンスL の演算測定に先だって測定演算することが必要である。
          引用発明で指令値として与えられるI ＊，I ＊及び周波数指令ω ＊は，
            m t 1
              d軸の方向と回転磁束の方向に一致するように制御した上での指令である。d軸の方向と回転磁束が一致するから，I ＝I ，I ＝I とな
            d m q t
              る。だからこそ，引用発明においては，初期値として適宜定めた指令値ではあるが，I ＊という励磁電流成分を指令値(下記のとおり最終的にm
              AERにより無負荷定格電流となるように設定される)とすることができ，これによって，実際にこの指令に応じた励磁電流成分が誘導電動機に供給され，最終的に励磁電流成分である無負荷電流指令値I ＊を得るm
              に至る。
              これに対し，訂正発明2では，AER及びAFRを用いず，したがって，事前に r と(ℓ +ℓ ')，その他の電動機定数を測定演算することなく，回転座標系のd軸の方向を回転磁界の方向に一致するように制御することなく，誘導電動機の1次インダクタンスを測定演算することができる。
              このような訂正発明2を示す公知発明はなく，また，これを示唆するものもない。
              引用発明において電流指令，周波数指令によって無負荷電流(1次インダクタンスと関係する制御定数)を測定演算できるのは，誘導電動機をAFRの作動のもとにベクトル制御下で無負荷運転して初めて得られるものであるのに対し，訂正発明2では，そもそもベクトル制御下で無負荷運転できないにもかかわらず，所定値の電圧指令を設定することによって，d軸と回転磁束の方向を一致するように制御しないにもかかわらず，1次インダクタンスと関係する制御定数を設定することができるのであるから，両者は異なるものである。
              審決は，「…引用発明の設定方法は，引用文献1に記載された，誘導電動機の一般式に基づく演算式を用いるものであって，制御回路の指令値の種類に限らず用いることができるものと認められる」(21頁1行～3行)と判断した。
              しかし，引用発明の一般式(15)式が引用発明の理論的演算の根拠であるとしても，引用発明では，ACRによりインバータに3相の電圧指令を与えるためにACRに対して電流指令を与えなければならず，その与えるべき電流指令が，そもそも無負荷電流そのものである。無負荷電流そのものが，励磁インダクタンスと関係する量であることから，その探索こそが励磁インダクタンスの測定演算に不可欠である。その探索前に無負荷定格電流を指令値として設定することは不可能である。審決は，指令値の種類，すなわち，電圧指令か電流指令かの種類にかかわらず，この一般式から容易に励磁インダクタンスを演算できるとするが，引用発明の無負荷電流の意味を正しく理解していない。
              その探索前に無負荷定格電流を指令値として設定することは不可能であることから，引用発明では，AFRを用いてd軸と回転磁束の方向を一致するにように制御しつつ，前記のとおり，AERが，検出した誘起電圧eqと，設定した周波数指令ω ＊に基づく電圧値とを比較し，その比較結果が誘起電圧eqの方が小さいときは無負荷電流値を上げる補正をし，逆に大きいときは下げる補正をしていき，その比較結果が零に近づくまでその動作を続けて，最終的にこの比較結果が零となったとき，無負荷電流の定格値I ＊が出力されるように構成している。この最終的m
              な無負荷電流の定格値I ＊が出力されることこそが，引用発明では重m
              要なのである。その後，最終的な無負荷電流の定格値I ＊が出力されm
              た時点での誘導電動機の電圧を用いて励磁インダクタンスを演算できることを引用発明の一般式(15)が示しているにすぎない。
              すなわち，引用発明の一般式(15)は，そもそも公知の事柄であるところ，この一般式に基づく励磁インダクタンスの具体的な測定演算を行うためにいかなる回路やシステムを用いるかが技術的課題なのであって，引用発明の方法は，ベクトル制御のもとに無負荷電流の定格値I ＊m
              を探索することを特徴とするものであって，これを，ベクトル制御をせずに電圧指令に基づいて励磁インダクタンスを測定演算する訂正発明2に至るように構成することは，単純な指令値の入れ替えで済むものではない。審決の判断は誤りである。
        (エ) 相違点エ(審決の相違点(ア)と関連する)について
          引用発明では，前記のとおり，無負荷電流を探索するために，AFRを用いてd軸と回転磁束の方向を一致するにように制御しつつ，前記のとおり，AERが，検出した誘起電圧eqと，設定した周波数指令ω ＊に基づく電圧値とを比較し，その比較結果が誘起電圧eqの方が小さいときは無負荷電流値を上げる補正をし，逆に大きいときは下げる補正をしていき，その比較結果が零に近づくまでその動作を続けて，最終的にこの比較結果が零となったとき，無負荷電流の定格値I ＊が出力されるm
          ように構成している。引用発明の電流指令が，初期値として適宜の値を設定し，無負荷電流を探索するために種々の補正を施して変化させることから，これに対応する誘導電動機の電圧も変化してしまい，最終的に探索できた無負荷電流の定格値I ＊が出力されたときの誘導電動機の電m
          圧を検出する必要があるため，引用発明では，検出の対象を「電圧」としているのである。
          引用発明では，この最終的な無負荷電流の定格値I ＊が出力されるこm
          とこそが重要である。その後，最終的な無負荷電流の定格値I ＊が出力m
          された時点での誘導電動機の電圧を用いて励磁インダクタンスを演算できることを引用発明の一般式(15)が示しているにすぎない。
          一般式に基づく励磁インダクタンスの具体的な測定演算を行うためにいかなる回路やシステムを用いるかが技術的課題なのであって，引用発明の方法は，ベクトル制御のもとに無負荷電流の定格値I ＊を探索すm
          ることを特徴とするものであって，これを，ベクトル制御をせずに電圧指令に基づいて励磁インダクタンスを測定演算する訂正発明2に至るように構成することは，両者の励磁インダクタンスの測定演算の具体的方式が異なる以上，単純な指令値の入れ替えと，検出対象を入れ替えることでは済まないことは自明である。
          さらに，訂正発明2では，その検出対象が誘導電動機に流れる電流であるために，その検出対象が誘導電動機の出力電圧に比較して歪みが少なく，したがって，1次インダクタンスの測定演算は，精度が向上するものであるのに対し，引用発明では，検出対象が，特願昭59−212543号(公開公報は特開昭61−92185号公報。発明の名称「自動調整を行うベクトル制御装置」，出願人 株式会社日立製作所，公開日昭和61年5月10日。甲21)と同様に誘導電動機の出力電圧であるため，その出力電圧には歪みが多く含まれ，訂正発明1及び2が技術的課題であるとして課題をそのまま残存するものであり，これを何ら解決していない。
        (オ) 相違点オ(審決の相違点(ア)と関連する)について
          訂正発明2がベクトル制御を行わずに，所定値に設定された電圧指令と周波数指令のもとでの無負荷電流を検出して，励磁インダクタンスを測定演算するのに対し，引用発明が，ベクトル制御下で，無負荷電流を探索することを目的に，AFRを用いてd軸と回転磁束の方向を一致するにように制御しつつ，AERが，検出した誘起電圧eqと，設定した周波数指令ω ＊に基づく電圧値とを比較し，その比較結果が誘起電圧eqの方が小さいときは無負荷電流値を上げる補正をし，逆に大きいときは下げる補正をしていき，その比較結果が零に近づくまでその動作を続けて，最終的にこの比較結果が零となったとき，無負荷電流の定格値I＊が出力されるように構成している。引用発明の電流指令が，初期値とm
          して適宜の値を設定し，無負荷電流を探索するために種々の補正を施して変化させることから，これに対応する誘導電動機の電圧も変化してしまい，最終的に探索できた無負荷電流の定格値I ＊が出力されたときのm
          誘導電動機の電圧を検出する必要があるため，引用発明では，検出の対象を「電圧」としている。
          このような両者の励磁インダクタンスの測定演算の方式の相違から，励磁インダクタンスの演算に用いる変数が異なるのであり，その相違点オは，まさに相違点ウ及び同エに基づく，実質的な相違点と同じく，両者の測定演算方式の相違に根ざすものであって，審決が前提にするような，演算に使用する電流と電圧が，指令値か検出値かという単純な相違ではない。
        (カ)
          また，引用発明と訂正発明2との間には，上記のとおり「所定値の周波数指令および電圧指令に従って誘導電動機を回転させるまでの間の回転指令について，訂正発明2は，(b)のステップにおいて，周波数指令および電圧指令を前記設定した所定値まで徐々に且つ一定レートにて増加させて，前記誘導電動機を回転させるものであるのに対し，引用発明は，このような構成を有しない点。」との相違点カも存する。
        (キ) 審決の引用する引用文献2ないし6について
          審決は，「誘導電動機に所定の値を有する交流電圧を印加して無負荷状態で回転させ，その際の検出電流に基づいて一次インダクタンスと関係する定数を決定することが引用文献2ないし6に記載されており，周知技術である」(20頁下3行～末行)とするが，引用文献2ないし6の交流電圧及び検出電流はベクトル量ではなく，実効値(スカラー)であり，その測定演算は，訂正発明2のように電圧指令を出力するコンピュータが行うのではなく，電流計，電圧計などを使用した手作業によるものである。
          したがって，審決のいうとおりこれが周知技術であったとしても，訂正発明2における，電圧指令を出力するコンピュータにより直交するベクトルの所定値の電圧指令と所定値の周波数指令を設定して誘導電動機を無負荷運転したときの誘導電動機に流れる電流の電圧指令の1つのベクトル成分に対応するベクトル成分を検出して一次インダクタンスを測定演算するという方法との関係を論じずに，この周知技術が，訂正発明2と引用発明との間の相違点とどのような関連性をもっているのか審決は記載していないから，理由不備の違法がある。
          そもそも，訂正発明2においては，1次インダクタンスの演算のための等価回路や理論式を得ることが技術的課題ではなく，設計値による制御定数のマニュアル設定の問題点(実測値との誤差，マニュアル設定による煩雑さ)を解決すると共に，上記特願昭59−212543号(甲21)による制御定数の自動設定方式が有する問題，すなわち定数測定用として専用に電圧検出器を設ける必要があり，また電圧波形が歪波形であることから，検出精度が低く，すなわち，定数測定精度が低いという問題を解決することがその技術的課題である。
        (ク) 電圧指令に基づいて制御する手法を用いた制御装置について審決は，「インバータを電圧指令に基づいて制御することは，インバータ制御の分野で良く知られた手法」(20頁下6行～下5行)であるとして，特開昭60−255065号公報(甲13)，特開昭60−18
          7282号公報(甲14)，特開昭59−169383号公報(甲15)
          を引用する。しかし，これらはいずれもd軸と回転磁束の方向とを一致させるようにベクトル制御を行っているものであって，訂正発明2のように，ベクトル制御を行うこと自体ができない状態，すなわち誘導電動機の電動機定数が不明な状態で，1次インダクタンスを測定演算する方法に適用することができないものである。
        (ケ)
          以上のとおりであり，訂正発明2と引用発明の相違点として，上記相違点アないしカが存し，これら相違点について，審決が引用する引用文献2ないし6(甲16～20)，あるいは広く知られた電圧指令に基づいて制御する手法を用いた制御装置(甲13～15)を参照しても，これを引用発明に適用して訂正発明2に至るとする論拠を示すものは全くないから，これらによって，訂正発明2が進歩性を欠くとすることはできない。
          また審決は，訂正発明1について，実質的に訂正発明1の構成要件をすべて含みさらに他の構成要件を付加したもの相当する訂正発明2が，引用発明及び周知技術に基づいて，当業者が容易に発明をすることができたものであるから，訂正発明1も，同様の理由により引用発明及び周知技術に基づいて当業者が容易に発明をすることができたものである，として無効であるとした。
          しかし，訂正発明2が引用発明及び周知技術に基づいて，当業者が容易に発明をすることができたものであるとすることができないのであるから，これらによって，訂正発明1が進歩性を欠くとすることはできない。
  2 請求原因に対する認否
    請求の原因(1)ないし(3)の各事実はいずれも認めるが，同(4)は争う。
  3 被告の反論
    (1) 取消事由1に対し
      審決の引用発明の認定に誤りはなく，原告の主張は理由がない。
      ア 原告は，引用発明は「(a)誘導電動機の回転磁束の方向及びこれに直交するベクトルの回転座標系上の電流指令値(I ＊)を適宜設定し，前記m
        誘導電動機の周波数指令に定格値を設定するステップ，」と認定されなければならないと主張する。しかし，引用発明(甲7)には，図2に示されるように，電流指令の定格値I ＊＊を設定する構成(正確には電流指令I ＊
            m m
              の初期値I ＊＊を設定し，そこから定格値となるように設定する構成)がm
              記載されており，この構成は訂正発明2の「電圧指令」を「所定値に設定する」構成との対比の上で必要なものであるにもかかわらず，原告は甲7文献のこの構成を無視し，対比の上で意味がない「電流指令値(電流指令)を適宜設定」する構成を認定すべきものとしている。
              しかし審決は，対比の上で必要な電流指令の定格値を設定する構成を認定しているので，審決の引用発明の認定に誤りはない。
              甲7文献において「測定においては周波数指令ω ＊を定格に設定し，そのときの電流指令値I ＊(AERにより定格電流となるように設定される)と電圧検m
              出信号Vqより(15)式の演算でL が求まる。」と記載されているように，電流指令値(I ＊)は，初期値(I ＊＊)から開始して励磁インダクタンス
            m m
              L を測定する際には定格電流値となるようにAERにより予め設定されていることが認められる。したがって，審決の認定に誤りはない。
              他方，訂正発明2の「(a)前記電圧指令…の所定値を設定するステップ」においても，「(f) 前記(b)のステップにおいて，周波数指令および電圧指令を前記設定した所定値まで徐々に且つ一定レートにて増加させて，前記誘導電動機を回転させるステップ」とあるとおり，初期値から開始して最終的に(1次インダクタンスを測定する際には)ステップ(a)で設定した所定値となるように予めの設定がなされているから，原告が主張する相違は存在しない。
      イ
        原告は，「(b)無負荷状態において，前記所定値に基づいて前記インバータから出力される交流電流を前記誘導電動機に印加することにより，前記誘導電動機を回転させるステップ，」との認定は誤りであると主張する。
        しかし，甲7文献には，図2に示されるように，電流指令の定格値I ＊＊(正m
        確には電流指令I ＊は，初期値I ＊＊から開始して定格値となるように設
            m m
              定されている)及び周波数指令の定格値ω ＊が記載されており，これらの定格値は訂正発明2の「(電圧指令および周波数指令の)所定値」との対比の上で必要なものであるにもかかわらず，原告は甲7文献のこれらの定格値を看過し，代わりに上記対比の上で意味がない「適宜設定された電流指令値(電流指令)および周波数指令値(周波数指令)」を認定されるべきであるとしている。
              さらに，原告は訂正発明2との対比において必要のない「無負荷定格電流指令値に至るまでこれを補正しながら(ベクトル制御下において，検出した電圧Vqより起電力eqを求め，起電力eqと周波数指令ω ＊に基づく電圧値とが等しくなるように電流指令値を加減算する補正をしながら最終的にこれが等しくなったときの補正された電流指令値が無負荷定格電流値となる)」なる構成も認定すべきであるとする。
              これに対し，審決においては，訂正発明2の「(電圧指令および周波数指令の)所定値」との対比の上で必要な電流指令の定格値及び周波数指令の定格値を認定しているのであって，審決の引用発明の認定に誤りはない。
              甲7文献には「本測定法は，IMをベクトル制御で無負荷運転した条件で励磁インダクタンスL を求める。」とする記載があり，また「測定においては周波数指令ω ＊を定格に設定し，そのときの電流指令値I ＊(AER
  1 m
    により定格電流となるように設定される)と電圧検出信号Vqより(15)式の演算でL が求まる。」と記載されており，AERにより定格電流となるように設定された所定値である定格電流値(I ＊)に基づいて交流電流をm
    印加してIM(誘導電動機)を無負荷運転(回転)させるのであるから，審決の認定に誤りはない。
      ウ 原告は，引用発明につき，「(c)前記無負荷定格電流値となった電流指令値(I ＊)に基づき回転している誘導電動機の電圧の，前記電流指令のm
        1つのベクトル成分(q軸(回転磁束の方向に直交する軸)のベクトル成分)に対応するベクトル成分(Ⅴq)を検出するステップ，」と認定されなければならないと主張する。
        原告は，甲7文献の「回転している誘導電動機」を「無負荷定格電流値となった電流指令値に基づき回転している誘導電動機」と認定すべきであるとしているが，これは「回転している誘導電動機」である訂正発明2との対比において，特に意味のあることではない。
        原告の認定は審決の認定の上に，重ねて限定事項を付加しただけのものであるから，審決の認定事項が甲7文献に記載されていることに変わりはない。原告が付加した事項は，対比する上では関係のないことであり，引用発明の認定に不要な事項である。
      エ 原告は，「(d)前記無負荷定格電流値となった電流指令値(I ＊)と，m
        前記所定値に設定された周波数指令値，および前記検出された電圧のベクトル成分(Ⅴq)を用いて，前記マイコンを用い前記誘導電動機の1次インダクタンスを演算するステップ，」と認定されなければならないと主張する。
        甲7文献には，図2に示されるように，定格値I ＊＊に設定(正確にはm
        電流指令I ＊の初期値I ＊＊を設定し，そこから定格値となるように設定)
            m m
              された電流指令が記載されており，この定格値に設定された電流指令は訂正発明2の「所定値に設定された電圧指令」との対比の上で必要なものであるにもかかわらず，原告は甲7文献のこの定格値に設定された電流指令を看過し，代わりに上記対比の上で意味がない「無負荷定格電流となった電流指令値(電流指令)」を認定している(「無負荷定格電流となった電流指令」ではなく，電流指令I ＊の初期値I ＊＊を設定してそこから定格値
            m m
              となるように設定された電流指令なのである)。
              しかも，原告は甲7文献に記載のない「1次インダクタンス」なる用語で認定しているので，原告の認定は，誤りである。一方，審決においては上記対比の上で必要な定格値に設定された電流指令を認定しており，審決の引用発明の認定に誤りはない。
              また，上記のとおりAERにより，励磁インダクタンスL1を測定する際には所定値である定格電流値(I ＊)となるように設定がなされた電流m
              指令，所定値である定格に設定された周波数指令ω ＊，および検出された電圧のベクトル成分である電圧検出信号Vqを用いた(15)式の演算で励磁インダクタンス(L )を求めるのであるから，審決の認定に誤りはない。
      オ
        原告は，「(e)得られた前記1次インダクタンスに基づき前記マイコンにより前記制御装置の制御定数L を演算し，この制御定数を設定するステップ」と認定されなければならないと主張する。
        甲7文献には，制御定数L を演算することは記載されている。しかし，甲7文献には「1次インダクタンス」に基づいて制御定数L を演算することは記載されていないので，原告の上記主張は前提を欠く。
      カ
        以上のとおり原告主張は誤りであり，審決に引用発明の認定の誤りがない以上，訂正発明2と引用発明との相違点は審決が認定した相違点(ア)ないし(ウ)であり，これに関する審決の認定，判断にも誤りはない。
    (2) 取消事由2に対し
      ア
        引用発明と訂正発明2との相違点は，審決が認定した「相違点(ア)ないし(ウ)」であり，両発明の相違点を「相違点ア」ないし「相違点カ」とする原告の主張が誤りであることは上記のとおりであるから，原告の主張は前提を欠く。
        もっとも，原告も「相違点ウ」ないし「相違点オ」は審決が認定した「相違点(ア)」に関係があると主張していることもあり，念のため，「相違点ア」ないし「相違点オ」に関する原告の主張について反論する。
      イ
        審決が正しく判断したとおり，相違点(ア)に係る構成は，当業者が任意になし得るものである。この点について，以下に要約する。
        引用発明の(15)式及び訂正明細書の(18)式のどちらの測定演算式も，誘導電動機が無負荷(i ≒0，W ≒0)かつ定常状態(引用発明では
        1q S
        P＝0であり，訂正明細書では(10)式の成立要件)で回転していれば成立するものである。また定常状態での回転であるから，その際の出力周波数，出力電圧及び出力電流は，いずれも一定の値である。
        したがって，引用発明と訂正明細書に記載された1次インダクタンス(引用発明では励磁インダクタンス)の測定方法は，インバータ制御装置を用いて誘導電動機を無負荷かつ定常状態の回転をさせることにつき，電流指令に基づいてベクトル制御する運転によって定常回転させるか，電圧指令に基づいて制御する運転によって定常回転させるかという点で相違するにすぎず，制御回路の指令値の種類に限らず誘導電動機を定常回転させて，前記測定演算式を用いることができるものである。しかも誘導電動機を定常回転させる運転方法として，どちらもインバータ制御の分野で良く知られた手法であるから，引用発明において誘導電動機を無負荷かつ定常状態の回転をさせることにつき，電流指令に基づいてベクトル制御する運転に代えて，電圧指令に基づいて制御する運転を適用することは，当業者が任意になし得るものである。
        また，無負荷で定常状態の回転をさせることにつき，電圧指令に基づいて制御する運転の方を適用すれば，該運転を行うために「電圧指令」及び「周波数指令」を所定値(一定値)に設定する必要があることは，当業者にとって技術常識である。そして，電圧指令に基づいて制御する運転の方を適用すれば，そのことのみをもって，引用発明における「第1の電気量指令」は直交するベクトルの指令「電圧」及び所定値を設定する指令「電圧」に代わり，「第1の電気量」はインバータから出力される「交流電圧」に代わり，しかも全てが同時に一括して代わるものであることは，当業者にとって技術常識である。
        したがって，「…引用発明において，制御装置を，インバータ制御装置を電流指令に基づいて交流電圧を印加してベクトル制御するものに換えて，インバータ制御装置を電圧指令に基づいて交流電圧を印加してベクトル制御するものを用い，それに伴って前記交流電圧を印加」(審決21頁8行～11行)することは，引用発明及び周知技術(または技術常識)に基づいて当業者が任意になし得る。
        また引用発明と訂正明細書記載の測定方法とは，1次インダクタンス(引用発明では励磁インダクタンス)の測定演算に用いる電気量につき，検出される「回転している誘導電動機の第2の電気量」が，訂正発明2では「回転している誘導電動機に流れる電流」であるのに対し，引用発明では「回転している誘導電動機の電圧」である点で相違し，「第1の電気量指令」が，訂正発明2では指令「電圧」であるのに対し，引用発明では指令「電流」である点で相違する。
        しかしながら，前記の相違は，結局のところ，現に出力されている出力電流のd軸成分及び出力電圧のq軸成分との関係を表わす1次インダクタンス(引用発明では励磁インダクタンス)の測定演算式において，出力電流のd軸成分に対して指令値を用いるか検出値を用いるか，及び出力電圧のq軸成分に対して検出値を用いるか指令値を用いるかの相違にすぎない。
        しかも，引用発明の，現に出力されている出力電流のd軸成分及び出力電圧のq軸成分との関係を表わした(15)式において，指令電流のd軸成分に代えて，現に出力されている電流を表わす検出電流のd軸成分を用いることは，当業者にとって自明の選択事項である。また，現に出力されている出力電圧は指令電圧に基づいて制御されたものであり，特に引用発明におけるような，定格周波数に近い運転状態では制御誤差が少なくなることは当該分野の技術常識であるから，出力電圧のq軸成分に対して，検出値を用いるか指令値を用いるかは設計上の選択事項にすぎない。
        したがって，検出電圧に代えて指令電圧を用い，指令電流に代えて検出電流を用いること，換言すれば，「指令電気量を電圧とすると共に検出電気量を電流とすること」(審決21頁12行～13行)も当業者が任意になし得るところである。
        また，電圧指令に基づいて制御する運転方法において電圧指令をコンピュータから出力する構成とすることは通常用いられる手法であるから(甲13，14)，電圧指令に基づいて制御する運転方法を適用し，電圧指令をコンピュータから出力する構成(相違点(イ)に係る訂正発明2の構成)とすることも当業者が任意になし得るところである。
        これらのことを踏まえて，審決が，相違点(ア)及び(イ)は当業者が任意になし得るものであるから，引用発明において，制御装置を，インバータ制御装置を電流指令に基づいて交流電圧を印加してベクトル制御するものに換えて，インバータ制御装置を電圧指令に基づいて交流電圧を印加してベクトル制御するものを用い，それに伴って前記交流電圧を印加し，その際の検出電流に基づいて一次インダクタンスと関係する定数を決定する周知技術のもとに，指令電気量を電圧とすると共に検出電気量を電流とすることで相違点(ア)に係る訂正発明2の構成とすることは当業者が任意になし得るところであると認定したのである(審決20頁下7行～21頁22行)。
        したがって，進歩性判断にかかる審決の認定に誤りはなく，訂正発明1及び2は，引用発明及び周知技術に基づいて，当業者が容易に発明をすることができたものであるから，特許法29条2項の規定により特許を受けることができないものに対してなされたものである。
      ウ
        両発明の相違点が「相違点ア」ないし「相違点オ」であることを前提とする原告の主張は失当であるから反論する必要はないが，念のため，以下のとおり言及する。
        (ア) 原告主張の「相違点ア」について
          原告は，引用発明では，この直交するベクトルの電流指令を適宜与え，無負荷運転しながら無負荷電流を探って動作点に於ける無負荷電流指令値I ＊を見出すものである。したがって，引用発明の電圧指令は，所定値m
          が与えられることなく，適宜定められた直交するベクトルの電流指令に基づき3相の電圧指令として与えられ，電流指令が補正されるのに伴い順次これに応じた電圧指令となるものであると主張するが，理由がない。
          引用発明の電流指令は，所定の初期値(I ＊＊)から開始して，励磁イm
          ンダクタンスL を測定する際には所定値である定格電流値(I ＊)が与
  1 m
    えられるようにAERにより予め設定されている。他方，訂正発明の電圧指令も，ステップ(a)において所定値として与えるのは電圧指令の目標値であるから(審決11頁7行～9行)，所定の初期値から開始して，1次インダクタンスL を測定する際には所定値である目標値が与えられるように予め設定されている。したがって，所定値を与えることについて引用発明と訂正発明との間に格別の相違はない。
    また，引用発明では，測定の際には電流指令値(I ＊)に基づく定常m
    状態の回転をしているので，出力電流及び出力電圧は一定の値であり，電圧指令にも一定の値が与えられている。しかも電流指令値(I ＊)m
    に基づく制御運転なので出力電流(I d)は電流指令値(I ＊)と一致
  1 m
    し，制御誤差の少ない定格周波数による運転状態なので出力電圧は電圧指令値と一致する。他方，訂正発明2も，測定の際には，電圧指令値(ステップ(a)で設定した目標値)に基づく定常状態の回転をしているので，出力電流及び出力電圧は一定の値であり，電圧指令にも一定の値が与えられている。したがって測定の際における電圧指令について，引用発明と訂正発明2との間に格別の相違はない。
    また原告は，引用発明においても電圧形インバータに対してはACRを介して電圧指令が出力されるから，引用発明においては，ACRに対して入力される指令は電流指令でなければならず，審決がいうように電流と電圧を入れ替えると，ACRに対して電圧指令を入力することになり，ACRは動作せず，電圧形インバータに対して電圧指令が出力できないことは明らかである旨も主張するが，審決を理解していないものである。
    審決は「…引用発明において，制御装置を，インバータ制御装置を電流指令に基づいて交流電圧を印加してベクトル制御するものに換えて，インバータ制御装置を電圧指令に基づいて交流電圧を印加してベクトル制御するものを用い，その際の検出電流に基づいて一次インダクタンスと関係する定数を決定する周知技術のもとに，…とすることで相違点(ア)に係る訂正発明2の構成とすることは当業者が任意になし得るところである。」(21頁8行～14行)とし，制御装置を換えて訂正発明2の構成とすることは当業者が任意になし得ると認定したのであり，制御装置をそのままにして訂正発明2の構成とすることを述べたものではない。
    ここで「インバータ制御装置を電圧指令に基づいて交流電圧を印加してベクトル制御するものを用い」とは，「インバータを電圧指令に基づいて制御することは，インバータ制御の分野で良く知られた手法(特開昭60−255065号公報，特開昭60−187282号公報，特開昭5
    9−169383号公報等参照)であり」(審決20頁下6行～下4行)
    及び「インバータ制御の分野で良く知られた手法である，電圧指令(V ＊1d
    ・V ＊)に基づいて制御する手法を用いた制御装置」(審決21頁5行1q
    ～7行)に相当する制御装置を用いることである。また「その際の検出電流に基づいて一次インダクタンスと関係する定数を決定する周知技術のもとに」とは，「誘導電動機に所定の値を有する交流電圧を印加して無負荷状態で回転させ，その際の検出電流に基づいて一次インダクタンスと関係する定数を決定することが…周知技術である。」(審決20頁下3行～末行)のことである。これらのことを換言すれば，電圧指令に基づいて制御する該制御装置を用い，誘導電動機に所定の値を有する交流電圧を印加して無負荷状態で回転させることである。また審決21頁19行～21行にも，「その際，上記『相違点(ア)について』に示す周知技術のもとに電圧指令を出力する構成とすることで…」との同様の認定がある。
    以上のように，引用発明において，制御装置を，インバータ制御装置を電流指令に基づいて交流電圧を印加してベクトル制御するものに換えて，電圧指令に基づいてベクトル制御するものを用い，訂正発明2の構成とすることは，当業者が任意になし得るところであると審決は認定したものである。
        (イ) 原告主張の「相違点イ」について
          原告は，訂正発明2の原理は，その動作における汎用モータの定格値の磁束を発生させるようにインバータに電圧指令及び周波数指令の所定値を設定し汎用モータを無負荷運転することである旨を主張するが，失当である。
          1次インダクタンスを測定する際の「電圧指令」及び「周波数指令」について，訂正発明1及び訂正発明2では「所定値を設定する」とのみ規定しており，所定値の具体値は任意としているから，その際の「磁束」の値も任意となる。したがって「その動作における汎用モータの定格値の磁束を発生させるように」との原告の主張は，訂正発明1及び訂正発明2とは何の関係もない。
          また，周波数指令について，訂正発明1及び訂正発明2では「所定値を設定する」とのみ規定しており，「r1≪ω1(l ＋L )」の条件を具備していないので，前記原告の主張は訂正発明1及び訂正発明2に基づくものではない。「電圧指令」についても，訂正発明1及び訂正発明2では「所定値を設定する」とのみ規定しており，「V ＝0」の条件を具備してい1d
          ないので，原告の主張は訂正発明1及び訂正発明2に基づくものではない。
          なお，「V ＝0，ωs≒0，r1≪ω (l ＋L )」という条件を設定する
          1d 1 1 1
          こと自体が，d軸を励磁電流軸に一致させ，q軸をトルク電流軸に一致させることに他ならず，訂正明細書の(18)式が，d軸及びq軸をどのように設定するかにかかわらず(定常状態において)一般的に成立するとの原告の主張には理由がない。
          また，訂正発明2では，直交するベクトルの電圧指令及び周波数指令として所定値を設定することが原理上から重要である。そして，…誘導電動機をベクトル制御により，d軸と磁束の方向とを一致させる制御を行う必要もない旨の原告主張も，インバータ制御装置を用いて誘導電動機を無負荷かつ定常状態の回転をさせることにつき，電圧指令に基づいて制御する運転によって定常回転させるという，インバータ制御の分野で良く知られた手法の特徴をそのまま述べたものにすぎない。
          また，引用発明において，AERにより定格電流となるように設定された電流指令値(I ＊)とは，単なる無負荷電流(単に無負荷で回転していm
          る際の出力電流)ではなく，電動機の定格値の磁束を発生させる励磁電流値のことであり，一方，励磁インダクタンスを測定演算する(15)式におけるI dは単に無負荷時の出力電流(単に無負荷電流)でありさえすればそれで足りるものである。甲7文献には，無負荷運転による定常状態において，その際の単なる無負荷電流(＝I ＋I ≒I ，∵I ≒0)とV
          1d 1q 1d 1q 1
          及びω とを(15)式に代入すれば励磁インダクタンスが得られるとい
          q 1
            う測定演算の原理(訂正明細書の(18)式も同様)が開示されているのであり，このこととは別に，さらに，電流指令値を電動機の定格値の磁束状態に設定して測定することまでも付加的に開示されているのである。
            したがって，原告が主張する相違点イは付加的な事項にすぎず，「相違点イは，1次インダクタンスの測定演算の原理の相違に基づくもの」との主張は誤りである。
        (ウ) 原告主張の「相違点ウ」について
          原告は，訂正発明2では，AER及びAFRを用いず，したがって，事前にr と(l ＋l ’)，その他の電動機定数を測定演算することなく，回転座標系のd軸の方向を回転磁界の方向に一致するように制御することなく，誘導電動機の1次インダクタンスを測定演算することができる旨主張するが，理由がない。
          このような相違は，誘導電動機が無負荷かつ定常回転していれば成立する測定演算式を用いるに際して，定常回転をさせることにつき，電圧指令に基づいて制御する運転によって定常回転させるという，インバータ制御の分野で良く知られた手法の特徴をそのまま述べたものにすぎない。
          また，訂正発明1及び訂正発明2には「事前にr と(l ＋l ’)，…の電動機定数を測定演算する」場合を技術的範囲から除外する旨の規定はなく，かかる事項は訂正発明の要件にはなっていないので，前記の原告主張は，訂正発明1及び訂正発明2に基づくものではない。
          なお，訂正発明1及び2はベクトル制御に必要な制御定数(1次インダクタンスと関係する制御定数)の設定方法に関するものであるが，ベクトル制御を行うためには1次インダクタンスと関係する制御定数の設定だけでは足りず，「r と(l ＋l ’)，その他の電動機定数」と関係する制御定数の設定も必須となる。このため，1次インダクタンスを測定する前(あるいはその後)には，必ず「r と(l ＋l ’)，その他の電動機定数」も測定しておくことが必須となる。したがって「事前にr と(l ＋l ’)，その他の電動機定数を測定演算することなく」1次インダクタンスを測定演算できたとしても，その前後において「r と(l ＋l ’)，その他の電動機定数」も測定しておくことが必須なのであるから，かかる事項について格別の意義はない。
          また，特許請求の範囲には記載のない「V ＝0，ωs≒0，r1≪ω (l
          1d 1
          ＋L )」という条件を設定することで，「d軸と回転磁束の方向を一致する」ことができ，1次インダクタンスの測定演算式である(18)式が成立して「1次インダクタンスと関係する制御定数を設定することができる」のであり，単に「所定値の電圧指令を設定する」ことで「1次インダクタンスと関係する制御定数を設定することができる」のではない。
        (エ) 原告主張の「相違点エ」について
          原告は，引用発明の電流指令が，初期値として適宜の値を設定し，無負荷電流を探索するために種々の補正を施して変化させることから，これに対応する誘導電動機の電圧も変化してしまい，最終的に探索できた無負荷電流の定格値I ＊が出力されたときの誘導電動機の電圧を検出する必要があm
          るため，引用発明では，検出の対象を「電圧」としていると主張する。
          しかし，引用発明では，「電圧」を検出対象とする必要はなく，例えば甲7文献の図2において，「2／3相変換」器に入力されている出力電圧の検出信号(Vu，Vv，Vw)に代えて指令信号(Vu＊，Vv＊，Vw＊)を入力することも可能であり，かかる指令信号を入力した場合にも検出信号の場合と同様に励磁インダクタンスを測定演算できることは自明である。定格周波数のような運転領域においては，特に，電圧指令と出力電圧との誤差が少なくなることは当業者には技術常識であるから，かかる置き換えは当業者が任意になし得るところである。
          また甲7文献の一般式(15)は，無負荷運転による定常回転状態において，その際の出力電流(＝無負荷電流≒I )，出力電圧のq軸成分(V1d
          )及び出力周波数(ω )との間には一般式(15)が成立することを示
          1q 1
          したものである。すなわち，一般式(15)は，無負荷かつ定常回転でありさえすれば成立することを示したものであり，無負荷電流の値は，出力電圧のq軸成分(V )及び出力周波数(ω )との関係(一般式(15)
          1q 1
          の関係)で具体的に決まるものであるから(例えば，V の値は固定して1q
          ω を変える，あるいはω の値は固定してV を変えると，無負荷電流の
  1 1 1q
    値は変わる)，無負荷電流の値は任意である。したがって「引用発明の一般式(15)」に対する原告の主張は誤りである。
    また訂正発明1では「(d)前記所定値に設定された電圧指令，…に基づいて」とあり(訂正発明2では「(d)前記所定値に設定された電圧指令，…を用いて」とあるが)，指令電圧を用いることを明記してはいない。
    原告は，電圧指令値及び周波数指令値を用いなくても，それらが所定値に制御されている条件下において，検出電流に基づいて無負荷電流を測定する方法は，当該用語に係る発明の技術的範囲に含まれると主張しているのである。そうすると，訂正発明1では，前記技術的課題を何ら解決できていないことになる。
    また，甲7文献には「この電圧検出法では，基本波成分が直流に変換されるため高調波分と分離し易く，検出精度が高いという特徴がある。」と明記されており，「引用発明では，検出対象が，…誘導電動機の出力電圧であるため，その出力電圧には歪みが多く含まれ，訂正発明1及び2が技術的課題であるとして課題をそのまま残存するものであり，これを何ら解決していない。」との原告主張も誤りである。
        (オ) 原告主張の「相違点オ」について
          原告は，両者の励磁インダクタンスの測定演算の方式の相違から，励磁インダクタンスの演算に用いる変数が異なるのであり，その相違点オは，まさに相違点ウ及び同エに基づく，実質的な相違点と同じく，両者の測定演算方式の相違に根ざすものであって，審決が前提にするような，演算に使用する電流と電圧が，指令値か検出値かという単純な相違ではない旨主張する。
          しかし，かかる相違は測定演算式において，出力電流のd軸成分に対して指令値を用いるか検出値を用いるか，及び出力電圧のq軸成分に対して検出値を用いるか指令値を用いるかの相違でしかなく，検出電圧に代えて指令電圧を用い，指令電流に代えて検出電流を用いること，換言すれば，「指令電気量を電圧とすると共に検出電気量を電流とすること」(審決21頁12行～13行)は，当業者が任意になし得るところである。
        (カ) 引用文献2～6について
          原告は，引用文献2ないし6(引用文献4は除く)に対して「引用文献2ないし6の交流電圧及び検出電流はベクトル量ではなく，実効値(スカラ−)であると主張するが，理由がない。引用文献2ないし6(甲16ないし20)において「交流電圧及び検出電流はベクトル量ではなく，実効値(スカラ−)」であることは，訂正発明2との相違ではない。なお，引用文献4(甲18)における交流電圧及び検出電流はベクトル量として示されている。
第4 当裁判所の判断
  1
    請求原因(1)(特許庁における手続の経緯)，(2)(発明の内容)，(3)(審決の内容)の各事実は，いずれも当事者間に争いがない。
  2 取消事由1(引用発明の認定の誤り，一致点及び相違点についての認定の誤り)について
    (1)
      原告は，審決の引用発明の認定には誤りがあり，これに基づく訂正発明2との一致点，相違点の認定も誤りであると主張するので，以下検討する。
      ア
        訂正発明2の記載された明細書(甲24〔全文訂正明細書〕。なお，図については甲1の1〔特許公報〕による。以下これらを「訂正明細書」という)には，以下の記載がある。
        (ア) 特許請求の範囲(甲24)
          その第1項及び第2項は，前記第3，1，(2)のとおり
        (イ) 発明の詳細な説明(甲24)
          ・ 「【産業上の利用分野】
          本発明は，インバータ制御装置の制御定数設定方法に係り，特に誘導電動機の電動機定数を演算し，演算された電動機定数に基づいて制御装置の制御定数を設定するインバータ制御装置の制御定数設定方法に関する。」(段落【0001】)
          ・ 「【従来の技術】
          一般にベクトル制御装置においては，電動機定数，例えば励磁インダンタンス及び2次時定数などに基づいて各制御定数が設定される。」(段落【0002】)
          ・ 「例えば，特願昭59−173713号及び特願昭58−39434 号に示されるベクトル制御装置においては，電圧指令信号を演算する際の制御定数は，電動機定数の1次抵抗，漏れインダクタンス，1次インダクタンス及び2次抵抗に応じて設定する必要がある。」(段落【0003】)・ 「【発明が解決しようとする課題】
          従来は，電動機定数の設定値に基づいてそれらをマニュアル設定している。そのため，使用する電動機毎に制御定数を変更する必要があり，煩雑となり，また，電動機定数の設計値と実際値の不一致により，制御演算誤差を生じトルクが変動するなどの問題がある。」(段落【0004】)
          ・ 「一方，上記問題に対処するものとしては特願昭59−212543号がある。これはインバータ装置を用いて，その電流指令に基づいてインバータより電動機に電圧を印加し，そのときの電圧を検出し，該検出電圧値と電流指令値との関係より電動機定数を測定し，その結果に基づき制御定数を設定するものである。しかし，この特願昭59−212543号に示される例では定数測定用として専用に電圧検出器を設ける必要があり，また，電圧波形が歪波形であることから，検出精度が低く，すなわち，定数測定精度が低いという問題がある。」(段落【0005】)・ 「本発明の目的は，制御装置の制御定数の精度を向上できるインバータ制御装置の制御定数設定方法を提供することにある。」(段落【0006】)
          ・ 「【作用】
          第1の発明では，制御装置の制御定数の設定に用いる電流を，無負荷状態において誘導電動機を回転させた状態で検出している。無負荷状態において誘導電動機を回転させる，すなわち周波数指令を与えると，回転停止状態に比べて，誘導電動機内で発生する誘導起電力が大きくなる。このため，電圧指令値と誘導起電力との誤差が小さくなり，検出電流に対する前記誤差の影響が少なくなる。従って，検出された電流に基づいて設定される，1次インダクタンスと関係する制御定数の精度が向上する。
          第2の発明では，無負荷状態において誘導電動機を回転させた状態で検出した電流の，電圧指令の1つのベクトル成分に対応したベクトル成分を用いて1次インダクタンスを演算するため，1次インダクタンスの精度が向上し，1次インダクタンスに基づいて演算される制御定数の精度も向上する。更に，無負荷状態において誘導電動機を回転させた状態で検出した電流の，電圧指令の1つのベクトル成分に対応したベクトル成分を用いて1次インダクタンスを演算するため，この演算に要する時間が短縮され，インバータを制御するコンピュータの負荷率が低減される。
          好ましくは，周波数指令および電圧指令を設定された所定値まで徐々にかつ一定レートにて増加させて，誘導電動機を回転させる。周波数指令および電圧指令を設定された所定値まで徐々に且つ一定レートにて増加させることにより，始動時に発生する突入電流を防止できる。」(段落【0008】)
          ・ 「一方，電動機電流i ，i (回転磁界座標)は図1に示す電流検
          1d 1q
          出器7及び座標変換器8を用いて次式に従い検出される。」(段落【0020】)
          ・ 「【数4】
          」(段落【0021】)
          ・ 「i ～i：電動機各相電流
u w
  図1のPWM電圧制御方式の場合においては，電動機相電流の歪は小さく正弦波に近い。そして，この電流を(4)式に従ってd軸成分i とq軸成分i に分けて検出する本方式は，基本波成分(w )が直
  1d 1q 1
  流信号で検出でき，その検出精度は高い。」(段落【0022】)・ 「ところで，定常時における誘導電動機の電圧方程式をd，qの2軸理論に基づいて表わすと次式で与えられる。」(段落【0023】)・ 「【数5】
v ＝r i d−w (l ＋L )i −w Mi …(5)」(段落
  1d 1 1 1 1 1 1q 1 2q
  【0024】)
  ・ 「【数6】
v ＝w (l ＋L )i ＋r i ＋w Mi …(6)
  1q 1 1 1 1d 1 1q 1 2d
  ここに，i ，i ：2次電流のd軸及びq軸成分
  2d 2q
r ：1次抵抗
  l ：1次漏れインダクタンス
    L ：1次有効インダクタンス
    M：相互インダクタンス
    ここで，2次電流はかご形誘導機の場合測定できないのでこれを以下のようにして消去する。2次電流と1次電流の関係は回転子2次回路に関する電圧方程式に基づいて次式で示される。」(段落【0025】)・ 「【数7】
w ・Mi ＝r i d−w (l ＋L )i …(7)」(段落
s 1q 2 2 s 2 2 2q
  【0026】)
  ・ 「【数8】
  −w ・Mi ＝w (l ＋L )i ＋r i …(8)
s 1d s 2 2 2d 2 2d
  ここに，w ：すべり角周波数
s 
r ：2次抵抗
  l ：2次漏れインダクタンス
    L ：2次有効インダクタンス
    (7)，(8)式を用いて(5)，(6)式のi ，i を消去すれば」
    2d 2q
    (段落【0027】)
    ・ 「【数9】
    」(段落【0028】)
    ・ 「【数10】
    」(段落【0029】)
    ・ 「〔l ＋L の測定法〕
v ＝v *＝0，v ＝v * ∝ w *，w ＝w *，w ≒0
  1d 1d 1q 1q 1 1 1 s
  すなわち，無負荷状態においてv *とw *を所定値に設定し，いわ
  1q 1
  ゆるV／F一定制御運転(磁束一定条件)を行う。ここで，(10)式において無負荷条件である故i ≒0となり，したがって(l ＋L )
  1q 1 1
  は次式より測定演算できる。」(段落【0042】)
  ・ 「【数18】
  」(段落【0043】)
  ・ 「〔T の測定法〕
  2次時定数T は次式で与えられる。」(段落【0044】)
  ・ 「【数19】
  」(段落【0045】)
  ・ 「図6では，先ず，ブロック61にて，w *とv *を電動機定格値
    1 1q
      に設定し運転する。なお始動時の突入電流を避けるため，w *とv *
    1 1q
      は一定レートにて立上げ加速終了後，ブロック62にてi ，i の
      1d 1q
      信号取込み，ブロック63にて(18)式よりl ＋L を演算する。
      さらにこの結果を基にブロック64にてT を
      T ＝l ＋L ／r ′
      より演算する。」(段落【0055】)
      (ウ) 図面(かっこ内は【図面の簡単な説明】の記載である。甲1の1)・図1(本発明の一実施例を示すインバータ装置の構成図。)・図6(本発明における演算内容のフローチャート。)
        イ
          また，訂正明細書(甲24)の引用する特願昭59−212543号の公開公報である特開昭61−92185号公報(発明の名称「自動調整を行うベクトル制御装置」，出願人 株式会社日立製作所，公開日 昭和61年5月10日。甲21)には，以下の記載がある。
          ・ 「〔発明の概要〕
          本発明の特徴とするところは，ベクトル制御装置を用いて，電動機電流及び周波数を所定値に制御し，該電流の指令信号あるいは検出信号と電動機電圧検出信号を用いて電動機定数を測定し，その結果に基づき制御定数を設定し，各電動機に対して常に最適な制御が行えるようにしたことにある。」(2頁左上欄1行～8行)
          ・ 「…14は電動機電圧のd軸及びq軸成分を検出する電圧成分検出器…」(2頁右上欄10行～12行)
        ウ
          以上によれば，訂正発明2は，従来の電流指令に基づきインバータに電圧を印可し，そのときの電圧を検出して電動機定数を測定する方法においては，専用に電圧検出器を設ける必要があり(上記イ)，電圧波形が歪波形であることから検出精度が低いという問題があったことから(訂正明細書段落【0005】)，制御定数の精度を向上できるインバータ制御装置の制御定数設定方法を提供することを目的とするものである(段落【0006】)。
          具体的には，訂正発明2は，誘導電動機に電力を供給するインバータを直交するベクトルの電圧指令(V ＊，V ＊)に基づいて制御する電圧指
          1d 1q
          令型ベクトル制御装置である(特許請求の範囲の記載)。その制御定数を設定するに当たっては，ベクトル制御を使用せず，従来から利用されていた誘導電動機のV／F一定制御運転を利用して所望のデータを取得し(段落【0042】)，所定の演算式を利用してコンピュータにより制御定数(特に，1次インダクタンス)を設定する方法である。訂正発明1は，上記訂正発明2の電圧指令につき「直交するベクトルの」との限定をせず，1次インダクタンスと関係する制御定数を設定するものであり，訂正発明2は，1次インダクタンスを用いて設定される2次時定数(T )の演算も含まれるものである(特許請求の範囲の記載)。
          訂正発明2における電動機定数の測定においては，まず，電圧と周波数の指令値を所定値(例えば，1次インダクタンス測定に適した定格値)として設定する(特許請求の範囲2，ステップ(a))。
          次いで，無負荷状態において，インバータから出力される交流電圧を誘導電動機に印加して，誘導電動機を回転させる(ステップ(b))。その際，電圧と周波数を，設定した周波数指令値ω *及び電圧指令値V *まで小さい値から徐々に且つ一定レートにて増加させて，前記誘導電動機を回転させる(ステップ(e))。これにより，無負荷定常運転状態となる。この運転はV／F一定制御運転(インバータの周波数指令〔F〕に対応した電圧指令〔V〕を設定し出力電圧を制御する方式)であって，電圧・周波数・負荷(ここでは無負荷運転である)に応じた状態で，自然に電動機の回転が安定し定常状態となる(段落【0042】)。そこで，回転している誘導電動機に流れる電流を測定する(ステップ(c))。そして，無負荷状態であるから電圧はV *＝0となり，所定値に設定されたV *，ω *と，検
          1d 1q 1
          出された電流のベクトル成分(I *)を用いて，コンピュータを用い誘1d
          導電動機の1次インダクタンス(l ＋L )を演算する(段落【0042】，【0055】)。
          式は，以下のとおりである(段落【0043】)。
          また，これにより得られたL をr ’で除して，T を求める(段落【0049】)。
        エ
          一方，引用発明の記載された甲7文献には，以下の記載がある(判決注：各摘記の前の番号は整理の便宜のため判決で付記)。
          1−① 「1．まえがき
          速度やトルクの高速応答，高精度制御が要求されるFA機器等の駆動システムでは，これまでの直流電動機に替ってメンテナンスや耐環境性に勝れたベクトル制御を採用したかご形誘導電動機ドライブが適用されている。周知のように誘導電動機(以下，IMと略す)のベクトル制御においては，IMの等価回路を制御モデルとして制御するため，制御装置には前もって適用するIMの等価回路定数に基づく制御定数を設定する。また，速度制御系においてはIMとこれに直結する負荷を含めた慣性モーメントに応じて制御ゲインを設定する必要がある。上記設定には一般に電動機定数の設計値が用いられるが，モデルと実機の定数に差異があると制御誤差を生じる。また，制御定数は使用するIM毎に設定する必要があり，その設定が複雑であることから多大な調整時間を費やす。さらに，電動機定数の不明な例えば既設のIMにはベクトル制御が適用できないといった問題があった。」(61頁4行～16行)
          1−② 「本論文では，ベクトル制御装置に電動機定数測定機能を持たせ，実運転前に電動機定数や慣性モーメントを高精度に自動測定し，これに基づき制御定数を自動設定することを目的に，電動機定数の測定法とこれをディジタルインバータ装置に適用するときのオートチューニング方式について報告する。」(61頁17行～20行)
          2−① 「2．ベクトル制御におけるオートチューニングの必要性先に開発した速度センサレス・ベクトル制御を例に，オートチューニングの必要性について述べる。…ベクトル制御は電動機モデルを基準として，インバータ出力電流の大きさと位相及び周波数を制御するため，モデルの定数を電動機定数に応じて予め設定する必要がある。以下に各制御部におけるチューニングの必要性を列記する。」(61頁21行～26行)
          2−② 「1)起電力検出器は磁束に関係した誘導起電力ed，eqを検出するもので，次式に従いIM端子電圧Vd，Vqから内部インピーダンス降下を差し引き演算する。
          ed＝−ω ＊・Φ q
          ＝Vd−｛r ・I ＊−ω ＊・((cid:141) ＋(cid:141) ')I ＊｝・・・(1)
    1 m 1 1 2 t
      eq＝ω ＊・Φ d
      ＝Vq−(r ・I ＊＋ω ＊・(cid:141) ・I ＊) ・・・(2)」(6
    1 t 1 1 m
      1頁27行～33行)
      2−③ 「2)励磁電流の調節には電動機電圧を定格値に設定するために励磁インダクタンスL が必要であり，従来は電動機の設計値に基づいて設定しているが，設計誤差により電圧が定格値から変動する。」(61頁下2行～62頁2行)
      2−④ 「3)速度センサレス方式においては，インバータ出力周波数ω ＊からすべり周波数演算器からのすべり推定値 を差し引いて回転速度 を演算する。このとき，すべり周波数は次式に従って演算するため2次時定数T が必要である。
      ＝ ・・・(3)」(62頁3行～10行)
      2−⑤ 「4)速度制御部では速度応答を目標値に設定するため，慣性モーメントJに応じて制御ゲインを調節する必要がある。しかし，慣性モーメントは機械負荷により変り，その測定には通常速度センサをトルクセンサを用いて行うが煩雑である。
      このようにベクトル制御は調整が複雑であることからオートチューニングの必要性が出てくる。以下，今回立案検討したインバータを用いた電動機定数の測定法と，それをディジタル装置に適用して制御定数をオートチューニングする方式について述べる。」(62頁11行～20行)3−① 「3．電動機定数の測定法
      3．1 測定法の原理
      三相かご形IMの電圧方程式を2軸(d，q)理論で表わすと次式となる2)3)。
      ここで，V ，V 及びI ，I は角周波数ω で回転する座標上の
      1d 1q 1d 1q 1
      電圧，電流成分であり，V ，V は後述するように検出可能，またI ，
      1d 1q 1d
      I はベクトル制御の制御信号から間接的に検出可能であるため，これら1q
      を与えて(4)式を解くことができる。さらに，特定の条件を与えれば定数や変数を消去できるので測定すべき定数を簡単に求めることができる。すなわち，定常状態ではP(d／dt)＝0とおけ，また直流励磁ではω＝0，回転停止状態ではω ＝ω ，さらにI ＝0又はI ＝0の条件
    1 s 1d 1q
      を設定すると定数及び変数が消去でき，測定すべき定数に関する電圧方程式が導びける。以上が測定原理である。」(62頁23行～63頁2行)3−② 「図2は今回電動機定数の測定に適用した速度センサレス・ベクトル制御インバータの構成図である。電流指令信号I ＊，I ＊はI ，I
  m t 1d 1
    を各々指令する信号であり，電圧検出信号V ，V はV ，V に相当
q d q 1d 1q
  する信号である。これらの信号を用いて後述するように電動機定数を測定する。なお，＊印は指令値を， は推定値を表す。」(63頁3行～7行)3−③ 「次に，本装置において今回の測定に関係する部分，すなわち電流指令信号I ＊，I ＊から電圧検出信号が得られるまでの動作を説明する。
  m t
    まず，電流指令信号I ＊，I ＊と周波数指令ω ＊に比例した周波数の
  m t 1
    2相発振器の信号を座標変換器に入力すると(5)式の演算を行い，固定子座標における2相の電流指令I ＊，I ＊が出力され，さらに2相−3相α β
    変換器で3相の電流指令I1＊(Iu＊，Iv＊，Iw＊)が(6)式に従って出力される。
    …
    一方，d，q軸電圧検出信号Vd，Vqは，インバータ出力電圧(Vu，Vv，Vw)より(7)，(8)式の演算を行う3相−2相変換器，座標変換器で検出される。」(63頁8行～22行)
    3−④ 「この電圧検出法では，基本波成分が直流に変換されるため高調波分と分離し易く，検出精度が高いという特徴がある。」(63頁26行～27行)
    3−⑤ 「図2．ベクトル制御装置の構成
    」
    (63頁)
    3−⑥ 「3．3 励磁インダクタンスと2次時定数の測定
    当初，IMを回転停止させた状態で励磁電流I ＊をステップ変化さm
    せ，そのときの磁束変化に伴って発生する電圧の検出信号から，励磁インダクタンスL と2次定数T を測定する方法を試みたが，精度的に問題があり，また積分演算が介入するため演算が複雑になることから，積分の入らない以下の測定方法で検討した。」(66頁7行～12行)
    3−⑦ 「本測定法は，IMをベクトル制御で無負荷運転した条件で励磁インダクタンスL を求める。この条件では，(4)式において 定常状態P＝0，ω ≒0，I ≒0とおけ，次式が成立する。
    S 1q
    V ＝((cid:141) ＋L )・ω ・I ＋M・ω ・I … (14)
    1q 1 1 1 1d 1 2d
    0 ＝r ・I
    2 2d
      さらに，(cid:141) ≪L とすれば，L は次式より求められる。
      … (15)
      測定においては周波数指令ω ＊を定格に設定し，そのときの電流指令値I ＊(AERにより定格電流となるよう設定される)と電圧検出信号m
      V より(15)式の演算でL が求まる。本測定値は従来のJEC規格
q 1
  による測定値に比べて＋6％の誤差であった。」(66頁13行～23行)3−⑧ 「次に，2次時定数T の測定にあたっては，ここで求めたL と3．2．2項で求めたr' より，簡略的に次式より演算できる。今回の測定では，＋12％の精度であった。
  T ≒L ／r' …(16)」(66頁24行～2
  7行)
  4−① 「4．ベクトル制御のオートチューニング
  速度センサレス，ディジタルベクトル制御に前章で述べた電動機定数の測定法を適用し，その自動測定と測定結果に基づく制御定数のオートチューニング法について述べる。
  4．1 オートチューニング法
  図7は，今回開発したオートチューニング法のフローチャートである。
  オートチューニングに先立ち，IM定格，定格回転数，極数及び目標応答はイニシャル設定し，これよりチューニングの動作に入る。
  先ず，図2に示す周波数制御(AFR)，起電力制御(AER)，速度制御(ASR)を休止させ，IMが回転停止状態において，入力指令I ＊，m
  ω ＊に所定値を設定し，IMを交流励磁する。そのときの電圧検出信号V ，V により，3．2節で述べた方法で(r ＋r' )及び((cid:141) ＋(cid:141)
  d q 1 2 1 2
    ')を演算する。」(68頁下12行～下1行)
    4−② 「次に，ω ＊＝0でI ＊に所定値を入力し，IMに直流電流を流
    1 m
      す。そのときの相電圧指令V ＊と相電流信号I より，3．2．1項で述U U
      べた方法でr を測定する。」(69頁1行～5行)
      4−③ 「以上の測定によりr ，r' 及び(cid:141) ＋(cid:141) 'を正規化演算し，起電力検出器の内部インピーダンスを設定する。これによりベクトル制御が行える条件が確立できたので，次に全制御を活し，速度入力指令ω ＊に定r
      格値を設定し，IMを無負荷運転する。そのときのI ＊，ω ＊とV の信
  m 1 q
    号より，3．3節の方法で励磁インダクタンスL を測定する。」(69頁6行～15行)
    4−④ 「なお，2次時定数T はこのL と先に求めたr' より演算する。
    このT とL に基づきすべり演算器とI ＊の最適設定を行う。」(69頁
    2 1 m
      16行～19行)
      5−① 「5．むすび
      ベクトル制御インバータの調整自動化を目的に検討した結果，以下の結論を得た。
    1)
      速度センサやトルクセンサを用いることなくベクトル制御装置の制御信号より，電動機定数及び慣性モーメントを測定する方法を明らかにし，さらにその実験検証を行った結果，所要の精度が得られることを確認した。
    2) 速度センサレス・ディジタルベクトル制御インバータに上記電動機定数測定機構を付加し，電動機定数が不明な状態から制御定数を自動設定するオートチューニング方式を開発し，その効果を加減速性能及び速度精度より実証した。」(70頁16行～25行)
      5−② 「図7 オートチューニング方法のフローチャート
      」(69頁)
        オ
          以上によれば，甲7文献は，誘導電動機(IM)をベクトル制御をするにつき必要な電動機定数を実運転前に高精度に自動測定する方法に関する論文であり(摘記1−①，②，5−①)，最終的に必要な電動機定数である励磁インダクタンスL (3−⑦)，2次時定数T (3−⑧)を求めるものである。なお，甲7文献のうち，慣性モーメントを求め制御ゲインを設定する部分は本件とは直接関連しない(訂正明細書の段落【0061】にも「…ASRのゲインは機械系の慣性モーメントJに応じて決定されるが，Jは例えば特願昭59−212543号記載の方法にて測定できる。…」と記載されている)。
          引用発明は，励磁電流の調節には電動機電圧を定格値に設定するために励磁インダクタンスL が必要であり(2−③)，また速度センサを用いない速度センサレス方式においてはすべり周波数を演算するために2次時定数T が予め必要である(2−④)との知見のもとに，ベクトル制御インバータにおいてこれらを自動測定・設定するオートチューニング方式に関するものである(2−⑤，5−①)。当初，インバータを回転停止させた状態で励磁電流I ＊をステップ変化させた場合の電圧検出信号から上記m
          L ，T を測定したが精度に問題があり，積分演算が必要で複雑であることから，これを克服するための方法を提供しようとするものである(3−⑥)。
          そして引用発明における測定法は以下の<ア>～<オ>のとおりである。
          <ア> 引用発明においては，まずベクトル制御を行う前提としての必要な制御定数(r ，r' ，(cid:141) ＋(cid:141) '。各定義は3−①)については，事前に測定してこれを設定する必要がある(4−①～③，5−②)。
          <イ> 上記制御定数が得られることにより，ベクトル制御を行う前提条件が備わったので(4−③，5−②)，まず電動機の銘板に与えられた定格値に設定した回転周波数指令〔速度入力指令〕ω ＊(3−⑦，r
          4−③)からこれと同じ所定値であるω ＊を得て，インバータをベクトル制御下で無負荷運転する(4−③，5−②)。
          <ウ> そして適宜(任意)の値として電流の初期値I ＊＊が与えられるm
          (3−⑤)。このI ＊＊は実際の1次インダクタンスL の測定に用い
  m 1
    られる電流指令信号(指令値)であり，無負荷運転時の定格磁束を形成する励磁電流(以下「定格電流」という場合がある)であるI ＊m
    となるまでΔImを加算することにより補正される(3−⑤，3−⑦中の「電流指令値I ＊(AERにより定格電流となるよう設定されm
    る)」との記載)。すなわち，無負荷運転時における定格電流であるI＊は事前に銘板等により知り得ないところ，まず任意の値としてIm
    ＊＊が与えられ，これをAER(起電力制御)において，周波数指令m
    ω ＊に基づく電圧値(3−②の図2におけるAERの左横の「＋」記号)と，検出された誘起電圧であるeq(3−②の図2におけるAERの左横の「−」記号。なおその算出式は2−②の(2)式)とを加減算し，無負荷運転時の定格電流であるI ＊を得る。この点の詳細m
    については，上記「電流指令値I ＊(AERにより定格電流となるm
    よう設定される)」との記載(摘記3−⑦)しかない。
    <エ> 上記で得られた無負荷運転の状態において誘導電動機に印可される電圧を検出し(4−③)，無負荷運転時の定格電流であるI ＊をIm
    とし，定格周波数指令ω ＊をω と，そのとき検出される電圧信号
    1d 1 1
    V をそれぞれ(15)式(摘記3−⑦記載)に代入し，これにより励磁1q
    インダクタンスL を得る。
    <オ> 上<エ>により求めたL と既に<ア>で求めてあるr’ により，これらを(16)式(摘記3−⑧記載)に代入し，2次時定数であるT を求める。
    以上の方法による引用発明の電圧検出法は，基本波成分が直流に変換される(3−③にあるとおり座標変換を行い)ため高調波成分と分離し易く，検出精度が高いという特徴があるとしている(3−④)。
        カ 上記引用発明における電動機定数の検出方法につき検討すると，引用発明においては，適宜(任意)の値として電流指令の初期値I ＊＊を設定し，m
          その後，ベクトル制御運転を行うことにより，自動的にI ＊が無負荷運転m
          時の定格電流となるよう調整される。これによれば，電流指令値I ＊はベm
          クトル制御運転により次第に定格電流に収束していくものであり，その定格電流は，駆動する誘導電動機の励磁インダクタンスL によって異なるものであって，無負荷定常回転となった最終的な電流指令値I ＊の具体的m
          数値は，誘導電動機の回転前には知り得ない。したがって，引用発明では，誘導電動機の回転前に予め電流指令値I ＊を定格電流となるよう設定したm
          ものではない。そうすると，審決が，引用発明の内容として，無負荷状態において誘導電動機を回転させるステップ(ステップ(b))の前に，「(a)前記電流指令および前記誘導電動機の周波数指令に定格値を設定するステップ」(18頁8行～9行)を備えるものと認定したことは誤りである。
          また，引用発明では，予め定格電流，すなわち，電流指令の定格値を具体的に知ることができないから，無負荷定常回転状態に至るまでは，「定格値に基づいて」運転することができない。したがって，この意味において審決が引用発明の内容として「(b)無負荷状態において，前記定格値に基づいて前記インバータから出力される交流電流を前記誘導電動機に印加することにより，前記誘導電動機を回転させるステップ」(18頁10行～12行)を備えると認定したこともまた誤りである。
        キ そして，①(a)のステップにおいて，第1の電気量指令を設定する際に，訂正発明2は，電圧指令の所定値を設定するのに対して，引用発明では，その後に補正される電流指令の初期値(I ＊＊)を設定する点，②無m
          負荷状態において誘導電動機を回転させるステップについて，訂正発明2は，所定値に設定された電圧指令及び周波数指令に基づいて回転させるのに対し，引用発明は，ベクトル制御をしながら前記初期値に設定された電流指令値および定格値に設定された周波数指令値に基づいてインバータから出力される交流電流を前記誘導電動機に供給し，無負荷定格電流指令値に至るまでこれを補正しながら，誘導電動機を回転させるものである点，の2点については，引用発明と訂正発明2との相違点として認定されるべきである(原告の主張する相違点イの一部，及び同ウに当たる)。なお，訂正発明1は，訂正発明2の電圧指令につき「直交するベクトルの」との限定をせず，1次インダクタンスと関係する制御定数を設定するものであるから，上記訂正発明2に関するものと同様である。
        ク
          審決は，上記のとおり引用発明の認定を誤り，訂正発明2との相違点を看過したものであるが，次にこの相違点の看過が審決の結論に影響を及ぼすものであるかにつき検討する。
      (ア) まず，上記キの認定すべき相違点の①の点について検討すると，既に上記で検討したとおり，引用発明は，電流指令値I ＊がベクトル制御m
        運転により次第に定格電流に収束していくものであり，その定格電流は，駆動する誘導電動機の励磁インダクタンスL によって異なるものであるから，無負荷定常回転となった最終的な電流指令値I ＊の具体的数値m
        は，誘導電動機の回転前には知り得ず，引用発明において電流指令値を予め所定値に設定することは原理的にできない。
        一方，訂正発明2は，電圧指令を選択することにより，特許請求の範囲記載の(c)のステップである電流検出を行うための無負荷定常回転状態の電圧指令値を予め設定することが可能である。そして，定格電圧での無負荷定常回転状態で上記(c)のステップを行う場合には，電動機の銘板に記載された定格電圧と定格周波数を各指令の所定値として選択できる等，条件設定が簡便になる作用効果があることが明らかである。
      (イ) なお審決は，訂正発明2が電圧指令に基づいてインバータを制御している点に関し，相違点(ア)の判断において，「インバータを電圧指令に基づいて制御することは，インバータ制御の分野で良く知られた手法」である(20頁下6行～下5行)として，特開昭60−25506
        5号公報(発明の名称「PWMインバータ」，出願人 三菱電機株式会社，公開日 昭和60年12月16日，甲13)，特開昭60−187282
        号公報(発明の名称「誘導電動機のベクトル制御装置」，出願人 株式会社日立製作所，公開日 昭和60年9月24日，甲14)，特開昭59−169383号公報(発明の名称「ベクトル制御方式におけるインバータ出力電圧制御装置」，出願人 株式会社明電舎，公開日 昭和59年9月25日，甲15)を挙げているので検討する。
  a
    甲13には以下の記載がある。
          (a) 特許請求の範囲
            「(1)基本波信号に第3調波信号を重畳して被変調波信号を作成するPWMインバータにおいて，上記第3調波信号の最大振幅を可変とし，インバータ出力電圧指令に対応して増減する上記基本波信号の最大振幅の増減に応じて上記第3調波信号の重畳率を増減することを特徴とするPWMインバータ。」
          (b) 発明の詳細な説明
            ・ 「3．発明の詳細な説明
            〔発明の技術分野〕
            この発明は可変電圧可変周波数電源として用いられるPWMインバータに関する。」(1頁右下欄1行～4行)
            ・ 「〔発明の実施例〕
            以下，この発明の一実施例を図について説明する。
            第5図において，12は第3調波振幅変調用関数発生器であって，インバータ出力電圧指令Vrが入力され…」(2頁右下欄6行～11行)
(c) 図面(かっこ内は「4．図面の簡単な説明」中の記載である)・ 第5図(この発明の一実施例を示す回路図)
  b
    甲14には以下の記載がある。
(a) 特許請求の範囲
  「1．誘導電動機に交流に供給するPWMインバータと，該PWMインバータに速度指令を基に形成した制御信号を供給して該誘導電動機をベクトル制御する制御回路とを備え，該誘導電動機を可変速制御できるようにした誘導電動機のベクトル制御装置において，前記制御回路は，電流検出器からの電流検出信号より得た励磁成分電流帰還値と速度指令を基に形成した励磁成分電流信号との偏差よりd軸成分電圧指令を演算し，速度指令を基に形成したトルク成分電流指令と該電流検出器からのトルク成分電流帰還値との偏差よりq軸成分電圧指令を演算し，それら演算結果のd軸及びq軸成分電圧指令値より誘導電動機に印加するPWM電圧指令をベクトル演算して制御信号を形成し，これをPWMインバータに供給できると共に，上記d軸成分電圧指令値により，すべりを補償するように構成したことを特徴とする誘導電動機のベクトル制御装置。」
(b) 発明の詳細な説明
  ・ 「〔発明の利用分野〕
  本発明は速度検出器無し誘導電動機のベクトル制御装置に係り，特に速度制御用の電圧検出器を省略して全てデジタル化を図るに好適な誘導電動機のベクトル制御装置に関するものである。」(1頁右下欄18行～2頁左上欄2行)」
  ・ 「〔発明の背景〕
  この種の速度検出器無し誘導電動機のベクトル制御装置は，ベクトル演算の直交性を補償するすべり補償と，電圧及び周波数の比を一定にする励磁補償とを，パルス幅変調(PWMと呼ぶ)された電圧を電圧検出器で検出し，その検出電圧から検出されたd軸成分電圧(以下，E と略称する)及びq軸成分電圧(以下，d
  E と略称する)により行なうと共に，E を速度帰還信号に使用
    q q
      していた。そのため，かかるベクトル制御装置では，電圧検出器を介しての電圧検出が必須の要素であった。」(2頁左上欄3行～14行)
      ・ 「〔発明の目的〕
      本発明の目的は，トルク成分，励磁成分電流を各々制御し，その演算結果をd軸成分E ＊，q軸成分E ＊の電圧指令とし，PW
  d q
    Mパルス信号をこの電圧指令値より作成すると共に，E ＊，E ＊
  d q
    をすべり補償，励磁補償に用いることにより，PWM電圧を検出する必要をなくした誘導電動機のベクトル制御装置を提供することにある。」(3頁左上欄2行～9行)
    ・ 「〔発明の実施例〕
    以下，本発明の実施例を第3図以下の図面に基づいて詳細に説明する。
    第3図は本発明に得る誘導電動機のベクトル制御装置の一実施例を示すブロック図である。
    …
    次に本実施例の動作について説明する。
    速度指令ωr＊が与えられると誘導電動機2の速度をωr＊にするように，まず，演算器37により速度指令ωr＊と実速度ωrの偏差を演算し，ωr＊＝ωrと制御する電流指令It＊を作成し，演算器34によりトルク電流指令It＊とトルク電流Itの偏差を演算し，It＊＝Itと制御する電圧指令E ＊を作成する。…」q
    (3頁右上欄1行～左下欄2行)
(c) 図面(かっこ内は「図面の簡単な説明」中の記載である)・ 第3図(本発明の実施例の構成を示すブロック図)
  c
    甲15には以下の記載がある。
(a) 特許請求の範囲
  「(1) 誘導電動機を電圧形インバータで駆動し，誘導電動機の磁束分を設定するα相一次電圧e と二次電流分を設定するβ1α
  相一次電圧e から相電圧演算によって上記インバータの3相1β
  電圧設定値e ＊，e ＊，e ＊を得るベクトル制御方式において，
  a b c
    上記電圧e 及びe を夫々同期回転座標−固定座標変換した
    1α 1β
    電圧e 及びe は夫々上記インバータの直流検出電圧E と
    1d 1q dc
    その基準直流電圧E との比E ／E で割算し，この割算結果Ｎ dc Ｎ
    を2相／3相変換して上記3相電圧設定値e ＊，e ＊，e ＊と
  a b c
    することを特徴とするベクトル制御方式におけるインバータ出力電圧制御装置。」
(b) 発明の詳細な説明
  「…第1図において，誘導電動機1にPWM方式インバータ2から電圧制御による一次電圧を供給して該電動機1に磁束と二次電流とが互いに直交するよう制御するのに，電動機1の磁束を一定に制御するためのα相一次電流設定値i ＊と二次電流を制御す1α
  るためのβ相一次電流設定値i ＊と電源角周波数ω とを入力す1β 0
  る補正演算回路3によってα，β相一次電圧e ，e を得，こ1α 1β
  の電圧e ，e は相電圧演算回路4によって2相−3相変換し
  1α 1β
  てインバータ2の3相電圧設定値e ＊，e ＊，e ＊を得る。…」
  a b c
    (2頁右上欄1行～11行)
    (ウ) 上記によれば，甲13～15は，いずれもインバータを電圧指令に基づき制御する構成を示すものであるものの，甲13には，インバータ出力電圧指令Vrをどのように設定するかにつき上記摘記の記載のみで十分な開示がなく，甲14には，演算器34によりトルク電流指令I ＊t
      とトルク電流I の偏差を演算して電圧指令E ＊を作成し，演算器33
      t q
        で励磁電流指令I ＊と検出値I の偏差を演算して電圧指令E ＊を作成
  m m d
    することが開示されているが，ベクトル制御運転における偏差の演算を用いることなく直接E ＊，E ＊を所定値に設定することは開示されてい
  d q
    ない。甲15には，電動機の磁束を一定に制御するためのα相一次電流設定値i ＊と二次電流を制御するためのβ相一次電流設定値i ＊と電1α 1β
    源角周波数ω とを入力する補正演算回路3によってα，β相一次電圧e ，e を得ることが開示されているが，ベクトル制御装置の制御定1α 1β
    数設定前にα，β相一次電圧e ，e を設定することは記載されてい1α 1β
    ない。
    したがって，甲13～15には，訂正発明2における無負荷定常回転状態の電圧指令を電動機の回転開始前に設定することについては何ら開示がなく，インバータを電圧指令に基づき制御することに関する周知技術によっても，引用発明と訂正発明2との相違点とすべき上記①について，容易想到と認めることはできない。
        ケ
          次に，上記キの認定すべき相違点の②の点について検討する。
    (ア) 訂正発明2における「無負荷状態において，前記所定値に基づいて前記インバータから出力される交流電圧を前記誘導電動機に印加することにより，前記誘導電動機を回転させる」(ステップ(b))と記載された運転について，その具体的な運転制御方法は特許請求の範囲からは一義的に明らかとはいえない。そこで訂正明細書(甲24)の発明の詳細な説明を参酌すると，段落【0042】に「無負荷状態においてV ＊1q
      とW ＊を所定値に設定し，いわゆるV／F一定制御運転(磁束一定条件)を行う。」と記載されており，誘導電動機の運転制御において既に知られたV／F一定制御運転を想定したものと解される。
      ここで引用発明は，無負荷電流の定格値を求める前提としてベクトル制御運転を行う必要があり，そのため，AER(起電力制御)及びAFR(周波数制御)を用いることから，既に検討したように r と(l +l')を励磁インダクタンスL の演算測定に先だって測定演算することが必要である。一方，訂正発明2は，上記のとおりV／F一定制御運転を行うことにより，引用発明のようにAER及びAFRを必要とせず，事前に r と(l +l ')等の他の電動機定数を測定演算することなく，誘導電動機の1次インダクタンスを測定演算することができるものである。
    (イ)
      インバータを電圧指令に基づき制御することに関する周知技術である上記甲14には，電圧指令に基づいてインバータを制御し，誘導電動機をベクトル制御する制御装置であって，指令値と実測値の偏差を演算し，それを補償するように指令を調整する制御手段を利用したベクトル制御運転についての記載がある(特許請求の範囲の記載)。しかし，ベクトル制御装置における偏差を調整する制御手段を利用せずに，特定の電圧指令と周波数指令によりインバータを制御し，誘導電動機に交流電圧を印加することは，上記甲14には何ら開示されていない。
        コ
          以上の検討によれば，審決の引用発明の認定の誤り・訂正発明2との相違点の看過は，審決の結論に影響を与えることが明らかである。よって，原告の主張する取消事由1は理由がある。
          (2) 被告の主張に対する補足的判断
            被告は，引用発明においても，無負荷定常回転となって安定した段階では，電流指令値I ＊は安定した特定の値(「定格電流となるよう設定」された値)m
            となっており，その時点においては，定格値のI ＊とω ＊を指令値として設
  m 1
    定し，当該指令値に基づいてインバータから出力される電力を誘導電動機に印加し，誘導電動機の無負荷定常回転をしているとみなすことができ，訂正発明2と同様である旨を主張する。
    しかし，訂正発明2は，「(f)前記(b)のステップにおいて，周波数指令および電圧指令を前記設定された所定値まで徐々に且つ一定レートにて増加させて，前記誘導電動機を回転させるステップ」を備えており，この記載に基づけば，(b)のステップは，誘導電動機の回転開始時から，各指令が設定された所定値となって安定した無負荷定常回転状態となるまでの期間を意味するステップであると解される。そうすると，訂正発明2は，(b)のステップ前に「(a)前記電圧指令および前記誘導電動機の周波数指令の所定値を設定するステップ」を行うのであるから，電圧指令の設定は，誘導電動機の回転開始前に行うものである。
    したがって，訂正発明2の「(a)前記電圧指令および前記誘導電動機の周波数指令の所定値を設定するステップ」は，誘導電動機の回転開始前に行うステップであると位置付けられるのに対し，引用発明は，電流指令の定格値を誘導電動機の回転開始前に設定することはできないから，最終的に電流指令が定格値が設定されるとしても，引用発明が「(a)前記電流指令および前記誘導電動機の周波数指令に定格値を設定するステップ」を備えているということはできない。被告の上記主張は採用することができない。
            3 取消事由2(進歩性についての判断の誤り)について
              原告は取消事由2として審決の進歩性判断の誤りを主張するところ，原告の主張は取消事由1における原告主張の相違点ア～カに基づき進歩性判断の誤りを主張するものであって直ちには採用の限りではない。しかし，原告の相違点オに関する主張において，審決が認定した相違点(ア)についての進歩性判断について審決の誤りを主張するので，以下この点につき検討する。
              まず審決が相違点(ア)について，「…引用発明において，制御装置を，インバータ制御装置を電流指令に基づいて交流電圧を印加してベクトル制御するものに換えて，インバータ制御装置を電圧指令に基づいて交流電圧を印加してベクトル制御するものを用い，それに伴って前記交流電圧を印加し，その際の検出電流に基づいて一次インダクタンスと関係する定数を決定する周知技術のもとに，指令電気量を電圧とすると共に検出電気量を電流とすることで相違点(ア)に係る本件訂正発明2の構成とすることは当業者が任意になし得るところである」(21頁8行～14行)と判断した点について検討する。
          (1) 引用発明の(15)式(摘記3−⑦)は，誘導電動機の電圧方程式に基づいて導かれ，無負荷運転の定常状態という前提の下に定められた幾つかの近似条件(ω ≒0，I ≒0等)を満足する限りにおいて成立する，励磁インS 1q
            ダクタンスL と各物理量の関係を表した理論式である。したがって，誘導電動機が無負荷かつ定常状態の回転をしていれば，上記(15)式は成立するから，(15)式に代入する各物理量を，指令値とするか検出値とするかは，当業者(その発明の属する技術の分野における通常の知識を有する者)が適宜選択し得ることのようにも考えられる。
            しかし，電動機の運転において，指令値と出力値(検出値)が正確に一致しない場合があることは良く知られたことであり，検出値が測定誤差を生じる可能性があることも，知られている。訂正発明に関しても，訂正明細書(甲24)には以下のとおり，その課題が記載されている。
            「一方，上記問題に対処するものとしては特願昭 59− 212543号がある。
            これはインバータ装置を用いて，その電流指令に基づいてインバータより電動機に電圧を印加し，そのときの電圧を検出し，該検出電圧値と電流指令値との関係より電動機定数を測定し，その結果に基づき制御定数を設定するものである。しかし，この特願昭 59 − 212543 号に示される例では定数測定用として専用に電圧検出器を設ける必要があり，また，電圧波形が歪波形であることから，検出精度が低く，すなわち，定数測定精度が低いという問題がある。」(段落【0005】)
            「本発明の目的は，制御装置の制御定数の精度を向上できるインバータ制御装置の制御定数設定方法を提供することにある。」(段落【0006】)したがって訂正発明2は，電圧の検出は検出精度が低いことを技術課題とし，これを解決するために，歪みの少ない電流を検出値として，各電動機定数を測定したものである。
            一方，引用発明(甲7)には，「この電圧検出法では，基本波成分が直流に変換されるため高調波分と分離し易く，検出精度が高いという特徴がある。」(摘記3−④)と記載されているものの，その前の記載である摘記3−③の記載から明らかなように，引用発明における検出精度の高さは，α−β軸からd−q軸への座標変換を行うことによるもので，この点に関する検出精度向上については，同じくα−β軸からd−q軸への座標変換を行って，電流の基本波成分を直流信号で検出する訂正発明2においても全く同様である(段落【0021】，【0022】)。
            したがって，引用発明に訂正発明2の技術課題に対する開示がないばかりか，引用発明において採用する電圧検出法の検出精度が高いという利点を前提として，電流指令によるベクトル制御装置及びそのオートチューニング方式を構成しているから，電圧検出を電流検出に変更することは想定していないというべきである。
          (2)
            また審決は，相違点(ア)に関し，「誘導電動機に所定の値を有する交流電圧を印加して無負荷状態で回転させ，その際の検出電流に基づいて一次インダクタンスと関係する定数を決定することが引用文献2ないし6に記載されており，周知技術である。」(20頁下3行～末行)と認定，判断した。
            そこで上記引用文献2～6である甲16～20について検討する。
        ア 甲16(「誘導機の特性算定のための定数決定法」G，H，電気学会雑誌Vol．87−1，Ｎo．940，昭和42年1月〔January，
          1967〕，173頁～180頁，電気学会。審決の引用文献2)には，以下の記載がある。
          「4．定数の決定法
          まずr は一次抵抗測定によって決定できる。次に無負荷試験について考えてみると，このときsº0とみなされるので，このときの等価回路は第11図のようになる。したがって，無負荷試験のときの電圧，電流，入力を測定すれば，r とX とは容易に決定できる。」(177頁右M 1
          欄18行～24行)
          「5．特性算定のための試験と計算法
          この特性算定を行なうには，一次抵抗測定，無負荷試験および低周波拘束試験を行ない，その結果から次のような手順により定数を決定する。
          …
          (2) 無負荷試験 定格周波数に保って，定格電圧より少し高い電圧からしだいに電圧を変化し，ほぼ同期速度を保つ最低値までの各点で，電圧，電流，入力を測定する。」(178頁右欄19行～32行)
        イ
          甲17(「電気学会大学講座 電気機器工学I」執筆委員Iら，昭和50年6月25日18版発行，249頁～250頁，電気学会。引用文献3)には，「3．10 電動機定数の測定」(249頁1行)として，以下の記載がある。
          「3．10．2 無負荷試験
          電動機に定格電圧を加えて無負荷運転をし，1相当たりの電圧V ，電流I ，電力P を測定する。」(249頁10行～13行)
        ウ
          甲18(「大学講義 最新電気機器学 改訂増補」宮入庄太著，昭和55年3月20日第3刷発行，172頁～173頁，丸善株式会社。引用文献4)には，以下の記載がある。
          「〔例題10．2〕…の定格をもつかご形三相誘導電動機がある。
          (1) 無負荷試験
            定格電圧を加えて無負荷(「加」は誤り)運転したところ
            入力電流：3．9〔A〕，入力250〔W〕
            …
            であった。
            この電動機の等価回路を求めよ。」(172頁8行～17行)
        エ
          甲19(「三相誘導電動機特性の直接算定法」J，K，昭和53年 電気学会全国大会 講演論文集〔5〕電気機器(I)，506頁～507頁。
          引用文献5)には，以下の記載がある。
          「2．特性式 三相誘導電動機の1相を電源から見た場合のインピーダンスZは(1)式で与えられる。」(506頁左欄7行～8行)
          「X (判決注：リアクタンス) 定格電圧V ，無負荷時の電流I とすれば X ＝V ／√3I … (19)
          である。この値は1次抵抗や無負荷損の影響をほとんど受けない。」(506頁右欄下5行～下1行)
        オ 甲20(「普通かご形誘導電動機の運転特性算定のためのT形等価回路定数決定法」L，M，「電気学会研究会資料 回転機研究会 RM−86−13～17」社団法人 電気学会，昭和61年〔1986年〕4月18
          日，引用文献6)には，以下の記載がある。
          「…定格電圧無負荷試験を行ない，定格電圧に対応する…および励磁リア
          クタンスx を求める。」(26頁10～11行)
  m
          (3)
            以上によれば，甲16～20には，誘導電動機に所定の値を有する交流電圧を印加して無負荷状態で回転させ，その際の電流に基づいて一次インダクタンスと関係する定数を決定することが記載されており，これは審決が周知技術の内容として認定したとおりである。加えて，甲18の図10．9(無負荷試験時の等価回路)中の電流I ，電圧V の記号の上には，これらがベクトル量であることを示す「・」(ドット)が記載されており，被告が主張するとおり，甲18においては電流及び電圧をベクトル値として取り扱い，定数の計算をしていることがみてとれる。
            しかし，甲16～20で用いられている電流・電圧は，インバータから出力されたものではないから，インバータから出力される電力を誘導電動機に印加した場合の電流や電圧の歪みに関する知見を与えるものではない。
          (4) そうすると，周知技術を参照しても，引用発明において，「第1の電気量」を「電流」から「電圧」に代えるとともに，「第2の電気量」を「電圧」から「電流」に換えることは，当業者が容易になし得ることではない。また，訂正発明2は，直交するベクトルの指令が「電圧(V ＊・V ＊)」指令で
            1d 1q
            あり，ベクトル成分を検出する対象が「回転している誘導電動機に流れる電流」であって，検出された「電流」のベクトル成分を用いて演算することにより，訂正明細書記載の作用・効果を奏するものと認められる。
          (5)
            以上の検討によれば，審決の引用発明と訂正発明2との相違点(ア)に関する判断も誤りであり，この点は訂正発明1との関係でも同様であるから，原告主張の取消事由2についても理由があることになる。
            4 結語
              以上によれば，原告主張の取消事由1，2は理由があり，これが審決の結論に影響を及ぼすことは明らかである。
              よって，原告の請求は理由があるから認容することとして，主文のとおり判決する。
