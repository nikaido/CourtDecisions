主文
  1 原告の請求を棄却する。
  2 訴訟費用は原告の負担とする。

事実及び理由
第1 請求
  特許庁が無効2006−80189号事件について平成19年2月27日にした審決を取り消す。
第2 事案の概要
  本件は，被告が特許権者である後記特許の請求項1及び請求項2に係る発明(以下順に「本件発明1」及び「本件発明2」といい，これを合わせて「本件発明」という。)について，原告から特許無効審判請求がなされたところ，これに対し特許庁が請求不成立の審決をしたことから，請求人である原告がその取消しを求めた事案である。
  争点は，本件発明1及び2が，下記文献に記載された各発明(以下順に「甲1発明」「甲2発明」等という。)との関係で進歩性(特許法29条2項)を有するかである。
  記
  甲1発明：特開昭60−187292号公報(発明の名称「インバータ装置」，出願人 三菱電機株式会社，公開日 昭和60年9月24日)
  甲2発明：特開昭60−139195号公報(発明の名称「パルス幅変調インバータの制御方法」，出願人 株式会社日立製作所，公開日 昭和60年7月23日)
  甲3発明：特開昭58−72387号公報(発明の名称「誘導電動機のベクトル制御方法および装置」，出願人 東洋電機製造株式会社，公開日昭和58年4月30日)
  甲4発明：特開昭59−63998号公報(発明の名称「誘導電動機の制御方法」，出願人 株式会社日立製作所，公開日 昭和59年4月11日)甲5発明：特開昭59−156184号公報(発明の名称「誘導電動機の制御方法」，出願人 株式会社日立製作所，公開日 昭和59年9月5日)甲6発明：特開昭59−156185号公報(発明の名称「誘導電動機の制御方法」，出願人 株式会社日立製作所，公開日 昭和59年9月5日)甲7発明：特開昭58−103881号公報(発明の名称「インバータ装置の保護装置」，出願人 株式会社明電舎，公開日 昭和58年6月21日)
  甲8発明：特開昭58−84679号公報(発明の名称「アーク長の自動制御方法」，出願人 神鋼電機株式会社，公開日 昭和58年5月20日)
第3 当事者の主張
  1 請求の原因
    (1) 特許庁における手続の経緯
      被告は，昭和60年12月6日，名称を「電圧形インバータの制御方法」とする発明につき特許出願(特願昭60−273259号)をし，平成5年4月8日，特許第1751443号として設定登録を受けた(発明の名称「電圧形インバータの制御装置及びその方法」，請求項1ないし4。甲13〔特許公告公報〕。以下「本件特許」という。)。
      その後，平成18年9月22日付けで原告から本件特許の請求項1，2について無効審判請求がなされ，同請求は無効2006−80189号事件として係属したところ，特許庁は，平成19年2月27日，「本件審判の請求は，成り立たない。」旨の審決をし，その謄本は平成19年3月9日原告に送達された。
    (2) 発明の内容
      本件特許の請求項1，2に係る発明(本件発明1及び2)の内容は，次のとおりである。
      【請求項1】交流電圧指令に基づいて直流電圧をパルス幅変調制御して交流電圧に変換し，該交流電圧を負荷に供給する電圧形インバータの制御装置において，
      交流電流指令値を発生する電流指令手段と，予め記憶した電流に対する前記インバータの電圧降下の特性から，前記交流電流指令値に応じた前記インバータの電圧降下の値を出力する手段と，該電圧降下の値を前記交流電圧指令に補正する手段とを備えたことを特徴とする電圧形インバータの制御装置。
      【請求項2】交流電圧指令に基づいて直流電圧をパルス幅変調制御して交流電圧に変換し，該交流電圧を負荷に供給する電圧形インバータの制御方法において，
      予め記憶した電流と前記インバータの電圧降下の関係と，前記インバータの交流出力電流指令により，瞬時瞬時において前記交流出力電流指令に対する前記インバータの電圧降下を求め，該電圧降下に基づいて前記インバータの交流出力電圧を修正するようにしたことを特徴とする電圧形インバータの制御方法。
    (3) 審決の内容
      ア
        審決の内容は，別添審決写しのとおりである。
        その理由の要旨は，本件発明1及び2は前述した甲1発明ないし甲8発明に基づいて当業者が容易に発明をすることができたとはいえない，としたものである。
      イ
        なお審決は，甲1の第2図に記載された従来技術につきこれを甲1発明としてその内容を次のとおり認定し，本件発明1との一致点及び相違点を，以下のとおりとした。
        〈甲1発明の内容〉
        「相電圧指令に基づいて直流電圧をPWM動作により所定の周波数の交流電源に変換し，該交流電源を負荷に供給する電圧形インバータの制御装置において，電流指令値を入力する手段と，上下アーム短絡防止時間の影響による相電圧指令と実相電圧との不一致を電流ループで補正する手段とを備えた電圧形インバータの制御装置。」
        〈一致点〉
        「交流電圧指令に基づいて直流電圧をパルス幅変調制御して交流電圧に変換し，該交流電圧を負荷に供給する電圧形インバータの制御装置において，交流電流指令値を発生する電流指令手段と，オンディレイによる影響を補償する手段とを備えた電圧形インバータの制御装置。」である点。
        〈相違点〉
        オンディレイによる影響を補償する手段に関し，本件発明1は，「予め記憶した電流に対するインバータの電圧降下の特性から，交流電流指令値に応じた前記インバータの電圧降下の値を出力する手段と，該電圧降下の値を交流電圧指令に補正する手段」としているのに対し，甲1発明は，「相電圧指令と実相電圧との不一致を電流ループで補正する手段」としている点。
    (4) 審決の取消事由
      しかしながら，審決は，本件発明1，2の容易想到性の判断に関し，下記の2つの観点で誤っているから，違法として取り消されるべきである。
      ア
        取消事由1(本件発明1も「電流検出器」が必要であること)(ア) 審決は，相違点に関する判断において，本件発明1は「交流電流指令値」に応じて電圧降下の値を交流電圧指令に補正するものであるから「電流検出器」が不要であるのに対し，甲1発明に甲2発明を組み合わせても「交流電流実測値」に応じて電圧降下の値を交流電圧指令に補正するものであるから，「電流検出器」が必須であるとした(10頁13行～15行)。
        (イ)
          ところで，本件発明1は「電圧形インバータ」の制御装置に関する発明であるところ，本件発明1における「電圧形」とは本件明細書(甲13)の「インバータ2(第1図及び第5図)」自体の型が電圧形であることを示しているに過ぎず，インバータの制御を電流制御形，又は電圧制御形のいずれに基づいて行うかということとは無関係である。
          電流制御形インバータと電圧制御形インバータについては，以下の①，②のとおり整理できる。
          ①「電流制御形インバータ」は，電流指令値と電流検出値とを比較しながら一致するように制御する制御方式(本件明細書〔甲13〕，2頁左欄14行～20行)であるから，出力電流値をフィードバックしてこれと電流指令値との差がゼロになるように制御することが必須である。
          このようにして，出力電流フィードバック構造を採用するために「電流検出器」が必須である。
          ②「電圧制御形インバータ」は，電流指令値から直接「電圧指令値」を生成し，これに基づいて制御する制御方式(本件明細書〔甲13〕，2頁左欄33行～右欄6行)であり，出力電流フィードバック構造は不要である。
        (ウ)
          そして，本件発明1は，「電圧制御形インバータ(第1図及び3頁左欄19行～4頁右欄7行)」と「電流制御形インバータ(第5図，5頁左欄欄32行～右欄13行)の両方の構成を含むところ，後者においては「電流検出器」が必須である。
          本件明細書(甲13)の第5図を見ても，「インバータ2」の出力電流「i 」を「電流検出器15」で検出し，これをフィードバックして「指令信号i ＊」との差分を解消する方向(ゼロとする方向)の出力電圧V＊を生成する制御を行っている。したがって，電流指令値と出力電流値が一致することとなる。
        (エ)
          本件明細書(甲13)の2頁右欄28行～39行の説明は，「特公昭59−8152号公報，特開昭59-123478号公報に記載のように，インバータ出力電流の向きを検出し，それに応じてインバータの電圧指令信号を修正し，電圧降下を補償する方法」においては，出力電流の「向き(＝極性)」が決定的に重要であるから「出力電流の極性を高精度に検出できる電流検出器が必要で」あったことを説明しているに過ぎない。
        (オ)
          上記によれば，本件発明1においても，第5図で示された電流制御形インバータ装置においては電流検出器が必要であり，この点を看過した審決は違法であり取り消されるべきである。
      イ 取消事由2(「交流電流実測値」に代えて，「交流電流指令値」を採用することが容易であることの看過)
        (ア)
          下記原告参考図1は，甲1発明と甲2発明とを組み合わせたものである。なお，甲1発明と甲2発明の組み合わせの容易性については，審判段階で議論済みであり，審決も問題視していないことから繰り返さない。そして，原告参考図1のように「交流電流実測値」に応じて電圧降下の値を交流電圧指令に補正する構成に代えて，原告参考図2のように「交流電流指令値」に応じて電圧降下の値を交流電圧指令に補正することは，原告参考図1，2から明らかなとおり何ら技術的困難性は存しない。
          すなわち，原告参考図1のように甲2にいう「電流極性検出器」をフィードバック制御の途中である「I 」に設ける代わりに，原告参考図2のf
          ように電流指令「I 」に設ければよいだけである。これは，単なる置きA
          換えであり，それ以外には何らの変更も必要としない。電流制御形インバータにおいては電流指令値と出力電流値とは一致するから，上記の何れを用いてもよいことは周知である。
          記
          ＜原告参考図1＞
          ＜原告参考図2＞
        (イ)
          上記原告参考図1のように「交流電流実測値」に応じて電圧降下の値を交流電圧指令に補正しても，原告参考図2のように「交流電流指令値」に応じて電圧降下の値を交流電圧指令に補正しても，「電流に含まれる高調波ノイズのために…電圧降下の補償を安定かつ精度よく行わせることが困難である」点は，何ら変わりがない。
          すなわち，「交流電流実測値I 」に「高調波ノイズ」が含まれ，この影響f
          により電圧降下補償の安定性，精度が悪化するというのであれば，「交流電流指令値I 」を用いる場合でも，電圧降下補償の安定性，精度は悪化A
          する。なぜなら，「高調波ノイズ」を含む実際の電流値(インバータ2を流れる実際の電流値)に応じてインバータの実際の電圧降下値は決まるが，「交流電流指令値I 」は「高調波ノイズ」を含む実際の電流値とはA
          違うため，「交流電流指令値I 」に応じたのでは，インバータの実際の電A
          圧降下値を正しく補償することはできないからである。
          そもそも，本件発明1は，電流制御形インバータ装置では「交流電流実測値I 」と「交流電流指令値I 」とが一致することを前提に「交流電流実
          f A
            測値I 」を「交流電流指令値I 」で擬制しただけのものであるから，前
          f A
            者におけるノイズの影響という問題が後者において解決されるという論理は成り立たない。
            この点において，本件明細書(甲13)2頁右欄35行～39行の記載は誇張し過ぎである。電流に含まれる高調波ノイズは極めて短時間の瞬時パルス状の電流となるので，これが電流検出タイミングと重なることは稀であり，「交流電流実測値I 」に影響することはほとんどない。
          f
            また，PWMスイッチングによる電流リプルに対しても，「交流電流指令値I 」を用いた場合にも電圧降下補償の安定性，精度は悪化する。前記電A
            流リプルを含む実際の電流値(インバータ2を流れる実際の電流値)と「交流電流指令値I 」とは違うので，電流に含まれる高調波ノイズの場合と同A
            様に，「交流電流指令値I 」に応じたとしても，インバータの実際の電圧A
            降下値を正しく補償することはできないからである。
            そもそも本件明細書の上記記載は，本件出願後の手続補正において追加された経緯があり，少なくとも，本件特許出願人が出願時に認識していた作用効果を記載したものではないから，かかる記載に依拠する議論は根拠薄弱である。
        (ウ)
          また，本件特許出願当時の下記公知文献(甲3～6，甲9～12)を参照すると，「交流電流指令値」を用いて補償することと，「交流電流実測値」を用いて補償することはいずれも周知慣用技術であったといえるし，また，両者の技術的意義が区別されていた事情も存しない。
          a 甲3(特開昭58−72387号公報)
            甲3は「誘導電動機のベクトル制御方法および装置」に係る発明であり，回路構成に関して，「第2図において…I ＊の入力信号を得て実際の二次抵抗r の値を導出する。ここで，…一次電流指令I ＊に代えて…電流検出器7により検出した一次電流の値を用いるようにしてもよい」という記載がある(甲3，3頁左上欄4行～14行)。
            甲3は，オンディレイによる電圧降下値を補償するものではないものの，回路における実際の電気特性である「電動機の二次抵抗値」を演算するものであるところ，要素として「電流指令I ＊」を用いることも「電流検出値I 」を用いることも設計事項であり，適宜変更可能であることを示している。しかも，甲3には「…正常に動作しておれば…(I＊≒I )が成立し，さらには信号リップル等の少ない…I ＊の方が演算上好ましい」という示唆がある以上(3頁左上欄14行～18行)，当業者が「電流指令I ＊」を用いることは，むしろ自然な発想である。
            この点につき審決は，甲3が「インバータの電流指令値に代えて検出電流値を用いてもよいことが開示され」ていると認定しながら，甲3は「電動機の二次抵抗値を演算する」ものであり，「オンディレイによる電圧降下値を補償する」ものではないとしたが(10頁16行～17行)，誤りである。
            甲3の「誘導電動機のベクトル制御装置」で回路における電気特性の一つである「電動機の二次抵抗値」を演算する際に「電流指令I ＊」に代えて「電流検出値I 」を用いることが開示されているのであるから，同じく「インバータの制御」に係る回路における電気特性の一つである「オンディレイによる電圧降下値」を演算する際に，全く同様に「電流指令I ＊」に代えて「電流検出値I 」を用いることが困難である理由は無い。審決が述べる理由は極めて形式的なものに過ぎず，技術文献の開示に触れた当業者の理解するところを看過している。
          b 甲4(特開昭59−63998号公報)
            甲4は「誘導電動機の制御方法」に係る発明であり，「…電動機の漏れインピーダンス降下の影響を一次電流ⅰ (実測値または指令値)を用いて補償している」という記載がある(甲4，6頁右下欄14行～16行)。
            甲4の「補償」は，オンディレイによる電圧降下値を補償するものではないものの，回路における実際の電気特性である「電動機の漏れインピーダンス降下の影響」を演算するものであるところ，その要素として「実測値」を用いることも「指令値」を用いることも設計事項であり，適宜変更可能であることを示している。
            この点につき審決は，甲4が「インバータの検出電流値または電流指令値を用いて補償することが開示されている」と認定しながら，甲4は「電動機の漏れインピーダンス降下の影響を…補償する」ものであり，「オンディレイによる電圧降下値を補償する」ものではないと述べているが(10頁17行～20行)，誤りである。
            甲4の「誘導電動機の制御方法」において，回路における実際の電気特性の一つの「電動機の漏れインピーダンス降下の影響を…補償する」際に「電流指令I ＊」に代えて「電流検出値I 」を用いることが開示されていれば，同じく「インバータの制御方法」に係る回路における電気特性の一つである「オンディレイによる電圧降下値」を演算する際に，同様に「電流指令I ＊」に代えて「電流検出値I 」を用いることが困難である理由は無い。審決が述べる理由は極めて形式的なものにすぎず，技術文献の開示に触れた当業者の理解するところを看過している。
          c 甲5(特開昭59−156184号公報6頁左下欄13～16行)，
            甲6(特開昭59−156185号公報6頁右上欄17行～末行)，
            甲9(特開昭59−156191号公報5頁左上欄3～6行)，甲1
            0(特開昭59−159688号公報5頁右下欄下から2行～6頁左
            上欄2行)の各記載についても，上記bと同様の議論が妥当する。
          d 甲11(特開昭60−84992号公報)
            甲11には「漏れインピーダンス降下分の補正は，…(16)式の演算後に電流成分指令信号i ＊及びi ＊，あるいは，電流成分検出信号i 及び
          m t 1d
          i に基づいて，インピーダンス降下の各軸成分を演算し，検出器71q
            及び8の出力信号からそれらを差し引くことにより行なうことができる。」という記載がある(4頁右下欄15行～5頁左上欄5行)。
            この点についても，上記bと同様の議論が妥当する。
          e 甲12(特開昭60−183953号公報)
            甲12は「交流電動機の定数測定方法」に係る発明であるところ，「誘導電動機の1次抵抗r 」の測定に際して，実際に流れる出力電流「i」は「電流指令信号i ＊」に比例して制御されるため既知であること
            1d d
            から「r 」を測定できることが記載されている(3頁左下欄下から2行～末行)。
            この点については，上記aと同様の議論が妥当する。
        (エ)
          以上のとおりであるから，「交流電流実測値」に応じて電圧降下の値を交流電圧指令に補正する構成に代えて，「交流電流指令値」に応じて電圧降下の値を交流電圧指令に補正する構成を採用することは，本件特許出願当時の周知技術に基づいて，当業者がきわめて容易になし得ることである。
          審決は本件特許出願当時の周知技術に基づく本件発明1の容易想到性の判断を誤ったものであり，この誤りは審決の結論に影響を及ぼすものである。
        (オ) 被告の主張に対する反論
          被告は，甲1発明に甲2発明を組み合わせるには阻害要因があると主張する。
          被告は，「甲1発明がネガティブフィードバック制御を行っており」，甲2発明は「ポジティブフィードバックを行っている」ところ，「ネガティブフィードバックを強くすること，すなわち電流調節器のゲインを大きくすることは，ノイズをも増幅する結果となり制御が不安定になる」から，両発明を組み合わせて原告参考図1の構成とすると制御が不安定になると主張する。
          しかし，上記記載と電流制御が不安定になるかということとは，何の関係もない。また，「ポジティブフィードバック」の意味も不明であり，制御が不安定になる理由も不明である。現に，本件発明1の実施例(第5図)も「甲1＋甲2発明」と同様の構成を有するが，そのことを特に問題とはしていないし，複数の制御を組み合わせた上で全体として制御を安定させることは，当業者として通常行うことである。
          さらに，オンディレイによる電圧降下を別途補償するならば，電流調節器のゲインを低減できるのであるから，オンディレイによる電圧降下を別途補償する(甲1＋甲2)ことでも電流調節器のゲインを低減できる。これにより，被告が指摘する欠点は解消されるから，阻害要因はない。
        (カ)
          さらに被告は，甲1発明と甲2発明とを組み合わせた発明は「過補償」が生じるから「電流iは正負に振動することになる」と述べて，阻害要因があるとも主張するが，事実に反する。
          そもそも，甲2発明では，オンディレイによる現実の電圧降下値は出力電流の極性に応じて符合は変わるが大きさは一定値であるとしており，これと同様の値(出力電流の極性に応じて符合は変わるが大きさは一定値である補償値)を補償するものである以上，該補償値と電圧降下値とは一致するので，過補償は生じない。
          また，仮に過補償が生じた場合であっても，電流制御形インバータにおいては，電流調節器の調節動作によって過補償分は瞬時に相殺されるから，被告が述べる「電流iは正負に振動する」という現象は生じない。
          結局，被告が述べる阻害要因は存在しないというべきであり，被告の主張は理由がない。
  2 請求原因に対する認否
    請求の原因(1)ないし(3)の各事実はいずれも認めるが，同(4)は争う。
  3 被告の反論
    (1) 取消事由1に対し
      ア
        原告は，本件発明1においても電流検出器が必要であると主張する。
        本件明細書(甲13)の第5図の実施例には電流検出器が設けられているが，審決が正当に判断しているように，「第5図に示されたものは，本件発明1を電流制御形ベクトル制御装置に適用した例であり，電流検出器15は，電流制御形においてインバータ出力電流を電流指令に比例して正弦波に制御するために，電流調節器のゲインを低減できるものとして設けられているものであり，オンデレイによる電圧降下の補償は，あくまでも，Δv−i特性を記憶させた演算器17(即ち，予め記憶した電流に対するインバータの電圧降下の特性から，交流電流指令値に応じた前記インバータの電圧降下の値を出力する手段)によりなされるものであると解される。」(12頁10行～17行)のであって，審決の判断が相当であり原告の主張は失当である。
      イ
        「インバータ出力電流を検出する」形のものでは，交流電流検出値に含まれる高調波ノイズによる検出電流のゼロクロスの検出誤差などにより，電圧降下の補償を安定かつ精度よく行わせることが困難となるものである。
        このため本件発明1では，オンデレイ補償に出力電流検出値を使用せず，電流指令値を使用するのである。
        したがって，問題は，オンデレイ補償回路において電流検出器が必要か否かであって，原告は本件発明1と関係のない主張をしているにすぎない。
      ウ
        そもそも，原告は，本件発明1の要旨について，特許請求の範囲記載のとおりであることを認めているところ，特許請求の範囲の請求項1において，電流検出器が必須の要件として規定されていないことは明らかである。
        原告は，実施例に電流検出器が設けられている点を取り上げ，本件発明1に電流検出器が必要であると主張しているものであって，失当である。
    (2) 取消事由2に対し
      ア
        原告は，「交流電流実測値」に応じて電圧降下の値を交流電圧指令に補正するものに代えて「交流電流指令値」に応じて電圧降下の値を交流電圧指令に補正するものを採用することが容易であると主張するが，以下のとおり反論する。
      イ 原告参考図1，2につき
        原告は，原告参考図1のように「交流電流実測値」に応じて電圧降下の値を交流電圧指令に補正する構成に代えて，原告参考図2のように「交流電流指令値」に応じて電圧降下の値を交流電圧指令に補正することは，原告参考図1及び2を見れば明らかなとおり，何らの技術的困難性も存しないと主張するが，原告はそれがなぜ容易であるのかを示していない。
        また，原告は，「交流電流指令値I 」は「高調波ノイズ」を含む実際の電A
        流値とは違うとして電流指令値と出力電流値が異なると主張しており，その主張は整合していない。
      ウ
        そもそも甲1発明と甲2発明を組み合わせても，本件発明1，2に至らないから，その組合せを論ずること自体無意味であるが，念のため，原告参考図1のようなものとすること自体，容易とはいえないことを述べると，以下のとおりである。
        原告は，甲1発明と甲2発明との組合せの容易性は，審判段階で議論済みであり，本件審決も問題視していないことから繰り返さないと主張するが，そもそも甲1発明と甲2発明とを組み合わせても本件発明1にならないため，審決では，組み合わせ自体の容易性に言及しなかったにすぎず，容易であるという判断を前提にしたものではない。
      エ
        また甲1発明は，ネガティブフィードバック制御を行なっており，他方，甲2発明の電流極性に応じて一定値である信号jを電圧指令信号に加えることはポジティブフィードバック制御を行うことになるが，同一制御系にネガティブフィードバックとポジティブフィードバックが入ると，前者を後者よりも強くしないと制御が収束しなくなる。
        しかし，ネガティブフィードバックを強くすること，すなわち電流調節器のゲインを大きくすることは，ノイズをも増幅する結果となり制御が不安定になる。
        この点に関して，甲1にも，「…電流ループのゲインを低速で上げてやる必要があるが，前記ゲインを上げると逆に平滑コンデンサの影響により電流ループ全体が不安定となる等の欠点があった。」(2頁左下欄8行～11行)と記載されている。
        このように，甲1発明に甲2発明を組み合わせることは，甲1発明が欠点として指摘している問題をより大きくするものであって，甲1の記載に逆行することを行うことであるから，甲1発明に甲2発明を組み合わせることには阻害要因があるというべきである。
      オ
        このように甲1発明に甲2発明を適用することに阻害要因があることは上述したとおりであるが，加えて，甲1発明に甲2発明を適用した場合には，実際の電圧降下の値よりも大きな値が加算される過補償となり，電流が正負に振動することになるため，安定した補償が行えない。従って，甲2発明を，甲1の発明に適用することには阻害要因がある。
      カ 交流電流実測値と交流電流指令値の関係
        (ア)
          原告は，原告参考図1のように「交流電流実測値」に応じて電圧降下の値を交流電圧指令に補正しても，原告参考図2のように「交流電流指令値」に応じて電圧降下の値を交流電圧指令に補正しても，「電流に含まれる高調波ノイズのために…電圧降下の補償を安定かつ精度よく行わせることが困難である点は，何ら変わりがないと主張するが，失当である。
        (イ)
          原告の上記主張の趣旨は明確でないが，事実に反する点を含むため，誤解を避ける意味から，以下高調波ノイズについて説明する。
          誘導電動機の実際の電流に含まれるノイズである高調波ノイズが発生する原因にはいくつかのものがあるが，オンデレイ補償との関係で重要となるのはPWMスイッチングによる高調波電流リプルである。
          これは，特に低周波数及び低出力電流(低トルク)の運転領域において問題視される。つまり，高調波リプルの大きさは，インバータの出力周波数によってはほとんど変化しない。しかし，低出力電流時には，基本波電流に比べ，リプル電流の大きさが支配的になる。また，その状態が低周波数の場合は，基本波電流のゼロクロス近傍となる期間が長くなる。これにより，出力電流検出によるフィードバック制御において検出電流によって極性判別を行うと，前述の高調波リプルによって，電流基本波の極性がプラス(マイナス)であるところを逆極性のマイナス(プラス)として判別してしまう。このため，「インバータ出力電流の向きを検出し，それに応じてインバータの電圧指令信号を修正し，電圧降下を補償する方法」では，本来補償すべき極性とは逆極性に電圧指令信号を補正してしまうことになり，安定したオンデレイ補償を行うことができない。
        (ウ)
          これに対して，本件発明1のように予め記憶した電流に対する前記インバータの電圧降下の特性から，前記交流電流指令値に応じた前記インバータの電圧降下の値を出力する手段と，該電圧降下の値を前記交流電圧指令に補正する手段による補償を行えば，このような問題を解決することができる。
          本件発明1は，前述したように，電流の極性と大きさ(値)を含む「電流値」が瞬時瞬時に変化する交流電流の場合に，当該電流に対するインバータの電圧降下の値を出力する手段による該電圧降下の値を用いて交流電圧指令値を補正することによって，交流電流調節器からの交流電圧指令値v*を補正するものであり，交流電流指令値には高調波ノイズが含まれていないから，補正された「交流電圧指令値」に応じたPWM制御は高調波ノイズを含まないオンデレイによるインバータ内部電圧降下を補償したものとなって正確なものとなる。
          これに対して，オンデレイ補償を行う際に，出力電流のフィードバック信号を用いて補正すると，そのフィードバック信号は，電流の基本波成分は一致するものの高調波が重畳しているため，基本波のゼロクロスに対応した補償電圧の生成が困難となってしまう。
          なお，電流制御型の実施例において電流によるフィードバック制御をしても，電流指令値と出力電流とは完全には一致しない。このため，電流指令値には含まれていない高調波ノイズが出力電流に含まれるようになる。
        (エ)
          原告は，電流リップルが含まれた電流実際値に応じて電圧降下が生ずるから電流リップルを含まない電流指令値を用いたのでは正確なオンデレイ補償ができないと主張するが，取消事由との関係が明らかでない。
          電流リップル等の高調波ノイズは，電流指令通りに制御できない結果生ずる「ノイズ」であって，そのノイズを含む検出電流値を用いて補償をしても，上記のような不安定な結果となるだけで，ノイズを含む補償を行うことに技術的意味は無い。オンデレイ補償のためには，電流リップルが含まれない電流指令値を用いれば十分な補償ができる。
      キ 甲3～6，甲9～12につき
        (ア)
          原告は，電流指令信号と出力電流検出信号のいずれを用いるかは選択事項であると主張し，周知技術に関する証拠として甲3～6，甲9～12を提出するが，いずれも，本件発明1と甲1発明との相違点との関係では意味のないものである。
          原告は，あたかも電流指令信号と電流検出信号とが一致するものであり，一般的にいずれを用いてもよいかのような主張を行っているが，誤ったものである。
          例えば，電流指令信号には前述の高調波ノイズ(電流リップル等)が含まれていないが，電流検出信号には，これが含まれている。たとえ電流制御型であってもこれを完全に一致させることはできない。
          このように，電流指令信号と電流検出信号とは異なるものであり，オンデレイ補償において，電流検出信号を用いた場合には前記のような問題が生ずるのである。これに対し，原告が引用する甲3～6，甲9～12は，いずれも，①回転座標系の直流信号である電流信号の場合(甲3，11，12)あるいは②電流を積分して用いる場合(甲4～6，9～10)に関する技術である。電流が直流信号の場合は基本波信号に対応する信号が一定値であるから，高調波ノイズの影響が実際上問題にならない形になり，指令値と検出値がほぼ一致するようになる。また，電流値を積分した場合も，値が平均化されるため，瞬時的な変動である高調波ノイズは消えるようになる。
          これに対し，本件発明1のように電流の瞬時値を用いてオンデレイ電圧降下を補償する場合は，電流指令と検出信号との違いを無視することができない。この問題を解決するのが正に本件発明1であり，オンデレイの補償では，電流指令値を用いることに明確な優位があるのである。
          すなわち，原告が引用するものは，すべて，もともと電流指令信号と検出信号とのいずれを用いても良い場合に関するものであり，オンデレイ補償に関係ない事項である。
        (イ) 甲3
          審決が認定しているように，「甲第3号証には，電動機の二次抵抗値を演算する際に，インバータの電流指令値に代えて検出電流値を用いてもよいことが開示されている…にすぎない。…電圧形インバータの制御において，オンデレイによる電圧降下を補償するために，上記相違点に係る手段を備えることにより，電流検出器を不要にするとの技術思想を何等開示するものではない。」のである。
          さらに，甲3の第1図及び第2図に記載されている電流I ＊，I はモータ一次電流の振幅の指令値及び検出値であり，これは直流量の信号であって，交流電流であるインバータ出力電流(各相)とは異なる量である。
          従って，甲3による電流I ＊，I に基づいて，出力電流極性に応じて正負に変化するオンデレイ電圧降下(各相)を演算することは不可能である。
          一方，本件発明1では，交流電流の指令値(即ち，交流電流の極性〔正負〕と大きさ〔数値〕)に応じてインバータの電圧降下の値を出力するものであって，電流の指令値と検出値といっても，その電流の種類が異なり，甲3の技術を適用して本件発明1に至ることはできない。
          すなわち，甲3は，電動機の二次抵抗値を演算する場合に関するものであり，かつ，電流(I ＊，I )が直流量であるものに係るものであって，本件発明1と甲1，2発明との相違点との関係では意味がない。
        (ウ) 甲4～6，甲9～10
          審決が認定しているように，「甲第4号証ないし甲第6号証には，電動機の漏れインピーダンス降下の影響を，インバータの検出電流値または電流指令値を用いて補償することが開示されているにすぎない。…電圧形インバータの制御において，オンデレイによる電圧降下を補償するために，上記相違点に係る手段を備えることにより，電流検出器を不要にするとの技術思想を何等開示するものではない。」のである。
          さらに，甲4は，第4図に関して，「磁束検出器26は次式に従い電動機1次電圧を2相交流信号v ，v に変換しそれらを積分することに1α 1β
          より，電動機磁束φ ，φ (2相交流信号)を検出する。」と記載されてα β
          いるように，いずれも積分して磁束を演算する構成を開示しているものである。この場合，演算に用いる電圧や電流の基本(波)成分は，数10Hzであるから，上記の積分演算により，高周波ノイズは十分に減衰し，演算結果に及ぼす高周波ノイズの影響は無視できるものになる。甲5，6，甲9～10についても，同様である。
          甲4～6，甲9～10の同様の演算(磁束演算)において，演算に用いる電流値は，高調波ノイズの影響が無視できるため，実際値又は指令値のいずれであっても，実質の差異はないものである。
          これに対して，本件発明1のようなオンデレイ補償の場合には，フィードバック電流に高調波成分が含まれており，これを無視することができない。
          したがって，甲4～6，甲9～10は，高調波ノイズが無視できる場合においてのものであるから，「1次電流i (実際値または指令値)を用いて補償」という記載があったとしても，本件発明1のように，検出電流に無視できない高調波ノイズが含まれている場合に適用することはできない。
          すなわち，甲4～6，甲9～10は，高調波ノイズの影響が無視できる電動機の磁束演算に関するものであり，本件発明1と甲1，2発明との相違点との関係では意味がない。
        (エ) 甲11
          甲11は，漏れインピーダンス降下分の補正に関するもので，電圧形インバータの制御において，オンデレイによる電圧降下を補償するために，上記相違点に係る手段を備えることにより，電流検出器を不要にするとの技術思想を何等開示するものではない。
          また，甲11の原告引用箇所に記載されている電流成分指令信号 im
          ＊，i ＊，電流成分検出信号i ，i は，モータの励磁電流及びトルク
            t 1d 1q
              電流の指令値並びに検出値であり，これは直流量の信号であって，交流電流であるインバータ出力電流(各相)の極性及び大きさとは異なる量である。
              したがって，甲3について述べたところと同様に，電流i ＊，i ＊，
          m t
          i ，i に基づいて，出力電流極性に応じて正負に変化するインピー
            1d 1q
            ダンス電圧降下(各相)を演算することは不可能である。
            すなわち，甲11も，電動機の漏れインピーダンス降下分の補正に関するものであり，かつ，電流(i ＊，i ＊，i ，i )が直流量であ
          m t 1d 1q
            るものに係るものであって，本件発明1と甲1，2発明との相違点との関係では意味がない。
        (オ) 甲12
          甲12は，誘導電動機の1次抵抗r の測定に関するもので，i が電
  1 1d
    流指令信号i ＊に比例して制御されるため既知であることが開示されてd
    いるにすぎず，電圧形インバータの制御において，オンデレイによる電圧降下を補償するために，上記相違点に係る手段を備えることにより，電流検出器を不要にするとの技術思想を何等開示するものではない。
    また，甲12の電流i ，i ＊はモータの励磁電流及びその指令値で
    1d d
    あり，これは直流量の信号であって，交流電流であるインバータ出力電流(各相)の極性及び大きさとは異なる量である。
    したがって，甲3について述べたところと同様に，電流i ，i ＊に
    1d d
    基づいて，出力電流極性に応じて正負に変化するインピーダンス電圧降下(各相)を演算することは不可能である。
    すなわち，甲12も，電動機の1次抵抗値を測定する場合に関するものであり，かつ，電流(i ，i ＊)が直流量であるものに係るもので
    1d d
    あって，本件発明1と甲1，2発明との相違点との関係では意味がない。
第4 当裁判所の判断
  1
    請求原因(1)(特許庁における手続の経緯)，(2)(発明の内容)，(3)(審決の内容)の各事実は，いずれも当事者間に争いがない。
    そこで，原告主張の取消事由について，以下順次判断する。
  2
    取消事由1(本件発明1も「電流検出器」が必要であること)について(1) 原告は，本件発明1は，電圧制御形インバータと電流制御形インバータの両方の構成を含むところ，本件明細書(甲13)の第5図に示された実施例である電流制御形インバータ装置は，電流検出器を必須とするにもかかわらず，審決がこの点を看過したことは違法である旨主張する。
    (2)
      本件発明1の特許請求の範囲の記載は，上記第3，1，(2)のとおりであり，これによれば，本件発明1が電圧形インバータの制御装置であることは明らかであるが，その制御方式が，電圧制御形であるか電流制御形であるかまでは特定していないから，両者を含むものとして解される。
      そこで，本件発明1が，原告が主張するように電流検出器を必須とするかについて検討する。
      本件発明1の電圧形インバータの制御装置は，上記のとおり電圧制御形及び電流制御形による両方の制御装置を含むものであり，具体的には本件明細書(甲13)の第1図及び第5図の実施例(以下，それぞれ「第1図の実施例」及び「第5図の実施例」という。)に示される実施態様の構成を含んでいる。
      まず第1図の実施例は電圧制御形によるインバータの制御装置であるところ，その制御装置内においては電流検出信号を用いていないことから，電流検出器を必要としないことは明らかである。
    (3)
      ア
        そして，原告の主張する第5図の実施例は，電流制御形によるインバータの制御装置であるところ，その制御方法につき，本件明細書(甲13)には以下の記載がある。
        「第5図に本発明の他の実施例を示す。前記実施例と異なり，電流制御形ベクトル制御装置への適用例である。電流制御形においては，インバータ出力電流を電流指令に比例して正弦波に制御するため，インバータの内部電圧降下Δ v による出力電流の波形歪みは補償され，トルクリプルの発生は防止される。しかしその場合，電流調節器のゲインを十分に高めておく必要があり，前述と同様の問題がある。そこで，内部電圧降下Δ v 後述するようにして別途補償するならば電流調節器のゲインを低減でき問題を解決できる。
        次に第5図の実施例の構成と動作について述べる。1～6及び9，10は前記実施例における要素と同一物である。14は i *，i *に基づいて前述の(4)(5)
        m t
          式に従い電流指令 i*(iu ～ iw)を演算する瞬時値電流指令演算器である。電流指令 i*と電流検出器15により検出したインバータ出力電流 i の偏差を電流調節器16において増巾し電圧指令 v*を出力する。以後は前記実施例と全く同様にしてパルス幅変調制御によりインバータ出力電圧が制御される。演算器17は第1図の実施例における演算器12と全く同様にインバータ内部電圧降下Δ v を演算する。Δ v を演算電流調節器16の出力信号に加算することにより前記実施例と同様にインバータ内部電圧降下の影響を補償でき，前述の効果が得られる。
          さて，前述したように演算器12，13，17には実運転前にΔ v −i特性を記憶させておく必要がある。しかし，この特性は第2図に示すように非線形であるため，マニユアル設定するには煩雑である。そこで，この特性を実運転に先立ちインバータを用いて計測し，その結果に基づいて特性を自動設定する方法を以下に述べる。実施法は第1図で説明するが，第3～5図においても原理的には同様である。」(本件明細書〔甲13〕5頁左欄32行～右欄22行)イ 上記に示された電流形ベクトル制御装置内においては，i ＊，i ＊に
        m t
          基づいて瞬時値電流指令演算器14により電流指令i ＊(i ～i )
  1 1u 1w
    を演算し，その電流指令i ＊と電流検出器15により検出したインバータ出力電流i との偏差を電流調節器16において増巾して電圧指令v ＊を出力し，一方で，電流指令i ＊に基づいて演算器17によりインバータ内部電圧降下Δvを演算し，電圧指令v ＊に加算することにより，インバータ内部電圧降下の影響を補償している。
    そこで，上記電流形ベクトル制御装置の構成と，特許請求の範囲第1項の記載により特定される本件発明1の構成要件とを対比すると，「交流電流指令値を発生する電流指令手段」に相当するものが瞬時値電流指令演算器14であり，「交流電流指令値に応じた前記インバータの電圧降下の値を出力する手段」に相当するものが演算器17であり，「該電圧降下の値を前記交流電圧指令に補正する手段」に相当するものが演算器17からの出力(インバータ内部電圧降下Δv)を電流調整器16からの出力(電圧指令v ＊)に加算する手段であると認められ，また，特許請求の範囲第1項の「交流電圧指令に基づいて…電圧形インバータの制御装置において」に記載された構成要件である，「交流電圧指令に基づいて直流電圧をパルス幅変調制御して交流電圧に変換し，該交流電圧を負荷に供給する」部分に相当するものが，電流調整器16からの出力(電圧指令v ＊)に基づいて，それと搬送波発生器10からの搬送波信号を比較してパルス幅変調信号を取り出す比較器9により，直流電圧をパルス幅変調制御して交流電圧に変換して負荷である電動機1に供給する(PWM)インバータ2であると認められる。
      ウ
        そうすると，第5図の実施例に係る電流制御形による制御装置において，特許請求の範囲第1項記載の構成要件とで重複する部分には，電流指令i＊と電流検出器15により検出したインバータ出力電流i との偏差を演算する加算部分は含まれておらず，特許請求の範囲第1項の記載は上記のとおり電流制御形であることを明記しているものでもなく，また電圧制御形インバータ制御装置においては電流検出器を必要としないものであることから，本件発明1は，電流検出器を必須のものとするものでないことは明らかというべきである。
    (4)
      原告は，本件明細書(甲13)の第5図における電流検出器15及び電流調節器16の働きによって，出力電流が電流指令に比例して制御される，即ち，出力電流値が電流指令値どおりに制御されることになり，この電流検出器15が存在しなければ，オンデレイ補償どころか，インバータ制御装置としてまともな作動さえもなし得なくなるのであり，「インバータ出力電圧を高精度に制御し，高性能な制御が実現できる」という本件発明1の目的を実現することは不可能となる旨主張する。
      ア
        この点に関し，本件明細書(甲13)には，「発明の目的」として以下の記載がある。
        「〔発明の目的〕
        本発明の目的は，上記問題の解決にあり，オンデレイによるインバータ内部電圧降下を補償してインバータ出力電圧を高精度に制御し，高性能な制御が実現できる電圧形インバータの制御装置及びその方法を提供することにある。」(3頁左欄1行～6行)
      イ
        上記によれば，本件発明1は，その目的として掲げた「インバータ出力電圧を高精度に制御し，高性能な制御が実現できる」ことを達成するために，「オンデレイによるインバータ内部電圧降下を補償」することを条件としているものであるから，電流検出器15及び電流調節器16の働きによって，出力電流値が電流指令値どおりに制御されることがその条件でないことは明らかである。原告の主張は採用することができない。
    (5)
      また原告は，電流実測値に応じて現に発生しているインバータの電圧降下値について，本件発明1は電流実測値を擬制した電流指令値に応じて求めることを特徴としているところ，このような擬制が成り立つためには，当該インバータ装置において，電流実測値と電流指令値が一致していることが必須の前提条件となる旨主張する。
      ここで原告が主張しているところの，当該インバータ装置において電流実測値と電流指令値とが一致していることとは，該電流指令値に基づいて駆動(運転)されるインバータにおいて，検出した出力電流の電流実測値をフィードバックして，両者の偏差に応じて該駆動(運転)を制御する，いわゆる閉ループ制御系を意味し，これが本件明細書の第5図の実施例である電流制御形によるインバータ制御装置に該当することは明らかであるところ，その偏差がなくなるように，すなわち電流指令値を目標値に，電流実測値がそれに一致するように制御を行うものであって，常に電流実測値と電流指令値が一致している関係が成り立つ状態にあるものではない。また，第1図の実施例である電圧制御形によるインバータ制御装置においては，そもそも電流実測値は存在しないから，この点が前提ともならないことは明らかであり，原告の主張は採用することができない。
    (6)
      さらに原告は，本件発明1が，電流実測値に応じて現に発生しているインバータの電圧降下値を電流実測値を擬制した電流指令値に応じて求めることを特徴としていると主張するが，本件明細書にはそのような特徴についての開示も示唆もなく，本件発明1おける交流電流指令値(及び交流出力電流指令)は電流実測値を擬制したものとはいえない。
    (7)
      以上の検討によれば，原告主張の取消事由1は理由がない。
  3 取消事由2(「交流電流実測値」に代えて「交流電流指令値」を採用することが容易であることの看過)について
    (1)
      原告は，甲1発明と甲2発明との組合せにおいて，甲2発明に係る，「交流電流実測値」に応じて電圧降下の値を交流電圧指令に補正する構成に代え，本件発明1のように「交流電流指令値」に応じて電圧降下の値を交流電圧指令に補正することは，当業者が容易になし得るにもかかわらず，これを看過した審決は違法である旨主張するので，以下検討する。
    (2) 原告の主張は，①甲1発明と甲2発明との組合せの容易性については本件審決も問題としていないことを前提とし，②その上で甲1発明と甲2発明とを組み合わせるに当たっては，まず出力電流I に応じて電圧降下の値をf
      交流電圧指令に補正する構成となるが，そうすると，甲2発明の「電流極性検出器」を，甲1に記載されたフィードバック制御途中の「I 」に設けるf
      こととなる(原告参考図1の点線で囲まれた「甲2発明部分」)，③しかし，電流制御形インバータにおいては電流指令値と出力電流値とは一致し，その何れを用いてもよいことは周知技術であるから，これによると，上記「I 」f
      に対するものに換え，電流指令「I 」に設ける(原告参考図2の点線で囲A
      まれた部分)ことになるが，これは上記周知技術に基づく単なる置き換えである，④そして，この甲1発明に甲2発明を組み合わせた原告参考図2の構成は，指令電流I に応じて電圧降下の値を交流電圧指令に補正することにA
      なるから本件発明1と同様の構成となる，とするものである。
    (3)
      まず，原告の主張する甲2発明について，その内容を検討する。
      ア
        甲2(特開昭60−139195号公報，発明の名称「パルス幅変調インバータの制御方法」，出願人 株式会社日立製作所，公開日 昭和60年7月23日)には以下の①ないし⑧の記載がある。
        ①「〔発明の背景〕 パルス幅変調インバータにおいて，特に，軽負荷時に電動機の回転速度が周期的に変動する。いわゆる，乱調現象が発生する。乱調は，インバータの出力周波数が低い範囲で発生し，インバータの直流側回路のインピーダンスの影響によるものであるが，前述した乱調は直流電圧が一定であるパルス幅変調インバータに発生する。
        …」(1頁左欄18行～右欄5行)
        ②「発明の概要」 本発明の特徴は，インバータ出力電流の極性に応じた信号をインバータの出力電圧の指令信号に加えることにある。
        乱調の原因し本発明の原理について述べる。パルス幅変調インバータは，正側スイツチング素子と負側スイツチング素子を交互に導通制御し，その導通時間比率を制御することによりインバータ出力電圧を制御する。この際，素子のターンオフタイム等により両素子が同時に導通し，短絡事故が発生しないようにするために，一方のターンオフ動作からもう一方のターンオン動作までの所定時間の間，両素子が非導通となる非ラップ期間が設けられる。この非ラップ期間が乱調の原因となる。」(1頁右欄13行～2頁左上欄6行)
        ③「…非ラツプ期間がある場合，出力電圧はハツチングで示すようになり，オン制御信号とは一致しない。これは非ラップ期間中両素子は導通せず，専ら，ダイオードが次のように導通するからである。…
        このような非ラップ期間がある場合，出力電圧は出力電流の影響を受け，第2図(c)に示すように出力電流が正極性の場合は，出力電圧は負極性方向に，また，出力電流が負極性の場合は，出力電圧は正極性方向に変動する。すなわち，インバータは恰も内部インピーダンスをもつような特性を示し，これが乱調発生の原因になる。」(2頁右上欄11行～左下欄6行)
        ④「このように乱調の発生メカニズムは，非ラップ期間によりインバータ出力電圧に出力電流に応じた電圧変動を生じ，それが電流の変動を生じ，さらにそれが電圧変動を生じるという一巡の動作によるものであると理解される。」(2頁右下欄17行～3頁左上欄1行)
        ⑤「電流検出器4，4′及び電流極性検出器5～5″は非ラップ期間による前述の電圧変動を補償するように，電圧指令信号に電流極性に関係した信号を加える回路である。第4図を用いてその動作を説明する。図においてiはインバータ出力電流，jは電流極性検出器の出力信号，vpは電圧指令信号(正弦波)に前述の信号jを加算した信号(加算点の出力信号)である。もし，非ラップ期間が無い場合は，インバータの出力電圧はvpに比例して制御されるが，前述のように，非ラップの影響があるため，矢印のように電圧変動を生じ，この結果，出力電圧v′は信号γを加算しない前の電圧指令信号に比例したものとなる。」(3頁左上欄14行～3頁右上欄6行)
        ⑥「…電流極性検出器5″は下式の演算によりW相電流iwを検出しその極性に応じた信号を出力する。
        iw＝−iu−iv
        ここに，iu，iv：U相及びV相電流」(3頁左下欄6行～10行)⑦「従つて，本発明によれば，インバータの出力電圧は出力電流の影響を受けることがなく，前述の乱調を未然に防止することができる。
        前述の実施例では，非ラップ期間による電圧変動を防止するようにインバータ出力電流極性に応じた信号を電圧指令信号に加算したが，出力電流検出信号をそのまま電圧指令信号に加算するようにしても同様の効果がある。なぜなら，乱調の原因は前述した電圧変動により電圧位相が変動することにあり，電流信号を加算するようにしても，その位相変動を抑制できるからである。なお，電流検出信号を適当に加工して加えても，電流の極性あるいは位相との関連が保たれる限り，同様の効果が得られることは明らかである。」(3頁右下欄10行～4頁左上欄3行)⑧ また，甲2には，第4図(本発明の乱調防止原理の説明図)として次の記載がある。
      イ
        上記によれば，甲2発明における非ラップ期間による電圧変動の補償は，電流検出器により検出されたインバータ出力電流極性に，これに応じた信号を出力する電流極性検出器を備え，その出力電流極性に応じた信号を電圧指令信号に加えるものであると認められる。
        原告は，甲2発明には交流電流の実測値に応じて電圧降下の値を交流電圧指令に補正する構成が開示されていることを上記主張の前提としている。しかし，甲2発明においては，上記のとおり，電流検出器により検出したインバータ出力電流極性(方向)に応じた信号を電圧指令信号に加えるようにしたものであるから，原告が主張するような，インバータ出力電流に相当する「交流電流実測値」に応じた電圧降下の値を，電圧指令信号に相当する「交流電圧指令」に補正する構成を有するものではなく，「交流電流実測値」においてその電流極性(方向)に応じた信号を「交流電圧指令」に補正する構成を有するものである。
        そうすると，原告の取消事由2の主張は，甲2発明の認識自体に誤りがあり，その前提を欠くことになる。
    (4)
      ア
        次に原告は，甲1発明部分に，原告参考図1の点線で囲まれた甲2発明部分(「交流電流実測値」に応じて電圧降下の値を交流電圧指令に補正する構成)を新たに付加する構成とすることは容易想到であるとし，さらにこの点線で囲まれた甲2発明部分を，原告参考図2の点線で囲まれた構成，すなわち「交流電流指令値」に応じて電圧降下の値を交流電圧指令に補正する構成に変更することは単なる置き換えであり，これは電流指令値と出力電流値とが一致する電流制御形インバータでは，何れを用いてもよいことが周知技術であることによると主張し，本件特許出願当時の公知技術を示す証拠として，甲3ないし6，甲9ないし12，甲15を提出する。
        そこで，上記公知文献の内容を検討する。
          (ア)
            甲3(公開特許公報，発明の名称「誘導電動機のベクトル制御方法および装置」，出願人 東洋電機製造株式会社，公開日 昭和58年4月30日)には，誘導電流機のベクトル制御装置において，回路における電気特性の一つである「電動機の二次抵抗値」を演算する際に，「電流指令I ＊」に代えて電流検出器7により検出した一次電流の値を用いることが開示されている(3頁右上欄4行～14行)。
          (イ)
            甲4ないし6，甲9ないし11(いずれも公開特許公報で，発明の名称は「誘導電動機の制御方法」，出願人 株式会社日立製作所。なお日立エンジニアリングを共同出願人とするものとして〔甲9，10〕。公開日は昭和59年4月11日ないし昭和60年5月14日)には，回路における実際の電気特性の一つの「電動機の漏れインピーダンス降下の影響を…補償する」際に，電流パターン信号i ＊に代えて1次電流(実際値または指令値)i を用いることが開示されている(甲4，3頁左下欄下4行～末行，6頁右下欄下5行～下3行等参照)。
          (ウ) 甲12(公開特許公報，発明の名称「交流電動機の定数測定方法」，出願人 株式会社日立製作所，公開日 昭和60年9月19日)には，「誘導電動機の1次抵抗r 」の測定に際して，実際に流れる出力電流「i」は「電流指令信号i ＊」に比例して制御されるため既知であるこ
            1d d
            とから「r 」を測定できることが開示されている(3頁左上欄1行～4行，左下欄下3行～末行)。
          (エ)
            甲15(公開特許公報，発明の名称「インバータ装置」，出願人 東京芝浦電気株式会社，公開日 昭和58年1月13日)には，誘導電動機の不安定現象を回避するために，誘導電動機6の電流を検出してこれを関数発生器14の入力としているが，誘導電動機6の電流を検出する代わりに電流マイナーループの電流基準(電流指令値を意味する)を代用しても同様の効果を得ることができることが開示されている(3頁左下欄末行～右下欄5行)。
      イ
        以上のア(ア)～(エ)によると，誘導電動機の特性に係わる所定の演算において，電流指令に代えて電流検出値を用いること自体は周知技術であると認められる。
        これを踏まえて原告の主張について検討すると，甲2発明部分である，「交流電流実測値」に応じて電圧降下の値を交流電圧指令に補正する構成を，「交流電流指令値」に応じて電圧降下の値を交流電圧指令に補正する構成に変更することについては，交流電圧指令に補正を加える電圧降下の値が，「交流電流実測値に応じて」又は「交流電流指令値に応じて」と規定されているとはいえ，甲2発明は単に「交流電流実測値」又は「交流電流指令値」の極性(方向)の切り替わりによって正負に一定の値をとるものといえる。
        そうすると，甲2発明を甲1発明に組み合わせた場合の構成である，フィードバックによる電流ループ(閉ループ)制御(下記(5)イ(ア)の判決注の下線部参照)を介する構成としたことにより発生する，指令値に対する実測値の時間応答性(追随性)の遅れを考慮すると，「交流電流実測値」の場合の極性の切り替わりと「交流電流指令値」の場合の極性の切り替わりにおいて，その切り替わり時点のずれは無視できないものとみられるから，原告が単なる置き換えであると主張する内容は，上記(ア)ないし(エ)記載の周知技術と同等ないしそこから当然に導き出せる内容であると認めることはできない。
    (5)
      ア
        また，甲1発明に甲2発明を組み合わせた構成において，原告参考図1の点線で囲まれた甲2発明部分とする構成は，いわゆるフィードバック制御によるもので，他方，原告参考図2の点線で囲まれた構成は，いわゆるフィードフォワード制御によるものであると認められ，この違いによれば，これは原告主張のような単なる置き換えであるとは認め難い。この点をさらに敷えんすると，以下のとおりである。
      イ
          (ア)
            甲1(特開昭60−187292号公報，発明の名称「インバータ装置」出願人 三菱電機株式会社，公開日 昭和60年9月24日)には，原告が原告参考図1，2で記載する甲1発明(甲1の第2図記載の従来技術)に関し，以下の記載がある(下線は判決付記)。
            「第2図の動作を以下に説明する。3相モータMに対し電流指令通りの主電流を流すために3相モータMの相電流Iu(例えば，U相について)を変流DCCTで検出しフイードバック電流Ifとして増幅器A2を介して帰還する。積分形増幅器A1においては電流指令値IAと前記フイードバック電流Ifとの差を増幅しその出力信号である相電圧指令Vf1を後段のコンパレータCMPの被比較端子に与える。他方，固定周波数三角波発生器Tからの出力信号VTは前記コンパレータCMPの比較端子に入力され，その比較結果はPWM相電圧指令VOを作る。上，下アームTR1，TR2に与えられる入力信号は一方のみをＮOTゲートを介すことによつて互いに反転動作の信号に変換する。従つて上アームTR1，及び下アームTR2への入力信号は上OＮの時は下OFF，上OFFの時は下OＮとなり夫々の反転動作は一般にOＮが速く，OFFが遅く行われる。そのため上下アーム短絡の危険が生ずる。上記の短絡を防止するためにOＮ動作のタイミングを遅延させるタイムデイレイ回路を内蔵した上下アーム短絡防止回路TC1，TC2を経て上下アームTR1，TR2を駆動している。この時の積分形増幅器A1の積分コンデンサC2はフイードバツク電流IfのPWM動作に起因する電流リツプルを平滑するために設けてある。
            従来のインバータ装置は以上のように構成されていたので，上下アーム短絡防止時間の影響によつて相電圧PWM指令と実相電圧とが一致しなくなりその影響は出力電圧が低い時，すなわち指令周波数fが低い時，又は指令周波数が高い時に大きくなるためその不一致の補正を行う必要がある。その補正は電流ループで行われているためその補正を行うためには電流ループのゲインを低速で上げてやる必要があるが，前記ゲインを上げると逆に平滑コンデンサの影響により電流ループ全体が不安定となる等の欠点があつた。」(2頁左上欄16行～2頁左下欄11行)
          (イ)
            上記記載によれば，甲1発明の内容は，以下のとおりであると認められる(当事者間に争いがない。)。
            「相電圧指令に基づいて直流電圧をPWM動作により所定の周波数の交流電源に変換し，該交流電源を負荷に供給する電圧形インバータの制御装置において，電流指令値を入力する手段と，上下アーム短絡防止時間の影響による相電圧指令と実相電圧との不一致を電流ループで補正する手段とを備えた電圧形インバータの制御装置。」
      ウ
          (ア)
            この点に関し，原告は，甲1発明及び甲2発明の組合せと本件発明1(第5図に示された電流制御形インバータ制御装置)は，いずれもフィードバック制御によって出力電流を制御するとともに，フィードフォワード制御によって出力波形を乱す原因となる外乱を検出(出力電流に基づいて電圧降下を検出)して，必要な訂正動作(電圧指令値に電圧降下値を加算補正)をとる制御方式を実施しており，どちらも，フィードバック制御とフィードフォワード制御とを併用する共通したものであるから，その組合せについての阻害要因もなく，被告の「甲1発明および甲2発明における電流検出器は，いずれもフィードバック制御をするためのものであり，…フィードフォワード制御をすることを何ら開示するものではない」との主張は誤りである旨主張する。
            甲1発明に係る電流制御ループがフィードバック制御に該当することについて争いはないところ，甲2発明における出力電流検出信号に基づいて電流極性検出器により電圧降下値を求めて電圧指令値に加算補正する制御に関しては，原告はこれを甲1発明と共通するフィードフォワード制御と主張するが，以下のとおり採用することができない。
          (イ)
            すなわち，上記検出器により検出される電圧降下値は，上記(3)イで既に検討したとおり，実際の出力電流の極性(方向)のみにより判断した電圧降下値であり実際の出力電流の変化を抽出したものである。そうすると，これは出力要素に影響を及ぼす外乱ではなく，出力要素そのものの変化であり，また制御態様として，該出力要素に影響が出る前に，先回りして影響を打ち消すもの(フィードフォワード)でもない。そして，インバータのオンデレイ動作時に発生する実際の現象としては，上記(3)ア③のとおり，インバータ出力電流が正極性に流れ続けるために，非ラップ期間の出力電圧は負極性方向に変動することとなる。
            この点につき，甲2をみると，上記(3)ア①ないし⑧の記載に加え，さらに以下の記載がある。
            ⑨「次に，乱調の発生メカニズムを第3図を用いて簡単に説明する。図(a)に示すeは電動機の内部誘導起電力，vは非ラップ期間がない場合におけるインバータ出力電圧(パルス幅変調により正負交互に変化する電圧の時間平均を示す，以下の各波形も同様)，iはインバータ出力電流及びv’は非ラップ期間がある場合のインバータ出力電圧である。v’の個性に応じてvより変動する理由は，第2図において説明した通りである。…」(2頁左下欄7行～15行)
            ⑩ 甲2の第2図の記載は以下のとおりである。
            ⑪ 甲2の第3図のうちの(a)は以下のとおりである。
          (ウ)
            上記によれば，甲2における非ラップ期間がある場合のインバータ出力電圧v’は，甲2の第3図(a)(上記⑪)に示されるように，インバータ出力電流iが正の場合には，非ラップ期間がない場合のインバータ出力電圧vよりも変動による大きさ(値)の減少がみられる(上記⑨)。そもそも，元の状態信号からの変動分を補償するためには，その変動分を差し引くこと，すなわち減算することを要するものと認められるところ，その変動分の大きさ(絶対値)からすれば，増加による正の変動分については減算することになり，減少による負の変動分については加算することになることについては当業者(その発明の属する技術の分野における通常の知識を有する者)において容易に認識できることである。実際，甲2の第4図(上記(3)ア⑧)に示されるように，減少したインバータ出力電圧の変動分を加算補償した電圧指令信号vpにより，第4図記載の矢印のような電圧変動(電圧の減少)が生じたとしても，正弦波の出力電圧v’が確保されることになる(その説明として上記(3)ア⑤)。
            ただし，甲2に記載された実施例では，電圧指令信号に対する補償信号として，インバータ出力電流iの極性に応じた電流極性検出器の出力信号jを，電圧変動分の等価な信号として電圧指令信号に加算する構成としているものであるところ，インバータ出力電圧の変動(減少)という実際の現象に即して考えれば，実際に補償される対象は電圧であるから，変動により減少した電圧分である負電圧分を，変動したインバータ出力電圧から差し引く，すなわち減算することによりその補償がされるとみることができる。
            そうすると，これを制御の観点からみると，実際の出力電流をフィードバック(負帰還)することに相当するものといえ，甲2発明はフィードバック制御を行っているといえる。原告の主張は採用できない。
    (6) 仮に原告が主張するように，甲2発明の「電流極性検出器」を，甲1に記載されたフィードバック制御途中の「I 」に設ける代わりに電流指令「If
      」に設けることが，単なる置き換えでありそれ以外の変更を必要としないA
      としても，その場合においてなお，原告が主張する，甲1発明と甲2発明との組合せにおいて，甲2発明に係る，「交流電流実測値」に応じて電圧降下の値を交流電圧指令に補正する構成に代えて，本件発明1のように「交流電流指令値」に応じて電圧降下の値を交流圧指令に補正することは，当業者が容易になし得るか否かを次に検討する。
      先に説示したとおり，原告の主張する「交流電流実測値」と「交流電流指令値」との置き換えに関しては，電圧降下の値を交流電圧指令に補正するに際して，本件発明1のように電流値の大きさに応じた電圧降下の値を交流電圧指令に補正するものではなく，電流値ではなく電流の極性(方向)に応じた，すなわち電流の大きさには連動しない一定値である電圧降下を交流電圧指令に補正するものであるから，その点において異なる。そうすると，交流電圧指令に補正を施す際，本件発明1のように電流値に応じた電圧降下の値を用いることは，甲1発明と甲2発明との組合せから容易想到とはいえない。
    (7) また原告は，「交流電流実測値」に応じて電圧降下の値を交流電圧指令に補正する構成に代えて，「交流電流指令値」に応じて電圧降下の値を交流電圧指令に補正することに技術的困難性は存しないとの主張の一環として，「交流電流実測値」に応じて電圧降下の値を交流電圧指令に補正しても，「交流電流指令値」に応じて電圧降下の値を交流電圧指令に補正しても，「電流に含まれる高調波ノイズのために…電圧降下の補償を安定かつ精度よく行わせることが困難である」点は何ら変わりがないと主張する。そして，その根拠として，「交流電流実測値」に応じて電圧降下の値を交流電圧指令に補正する場合(以下，「前者」という。)は，本件明細書(甲13)に，「電流検出器がすでに設置されていて電流検出信号が利用できる場合であっても，電流に含まれる高調波ノイズのために，前述の電圧降下の補償を安定かつ精度よく行なわせることが困難である」(2頁右欄35行～39行)と記載されていることから，「交流電流実測値I 」に含まれる「高調波ノイズ」の影響f
      により電圧降下補償の安定性，精度が悪化することを掲げ，また，「交流電流指令値」に応じて電圧降下の値を交流電圧指令に補正する場合(以下「後者」という。)は，PWMスイッチングによる電流リプルを含む実際の電流値(インバータ2を流れる実際の電流値)と「交流電流指令値I 」とは違A
      うことから，電流に含まれる高調波ノイズの場合と同様に，「交流電流指令値I 」に応じたとしても，電圧降下補償の安定性，精度は悪化することをA
      掲げている。
      しかし，原告が掲げた上記根拠は，「前者」及び「後者」それぞれの構成によって，オンデレイによる電圧降下補償を行った場合に，その補償の安定性や精度の観点から比較したものであって，本件発明1(後者)と甲1発明と甲2発明との組合せ(前者)との構成の置き換えに関する原告の主張が採用の限りでないことは前述のとおりである。
    (8)
      また原告は，周知技術(甲3ないし6，甲9ないし12，甲15)に照らして，甲1発明と甲2発明とを組み合わせた回路において，「検出電流」に応じて電圧降下を求める構成に代えて，「指令電流」に応じて電圧降下を求める構成を採用することが当業者にとって容易であるか否かの点について，審決は，僅かに「甲第3号証には，電動機の二次抵抗値を演算する際に，インバータの電流指令値に代えて検出電流値を用いてもよいことが開示され，甲第4号証ないし甲第6号証には，電動機の漏れインピーダンス降下の影響を，インバータの検出電流値または電流指令値を用いて補償することが開示されているにすぎない」(10頁16行～20行)と述べて容易想到性を否定しているところ，これは実質的な審理・判断を怠っていると主張する。
      この原告主張に関して，審判段階で提出されていた刊行物に該当するものは甲3ないし6であるところ，審決は甲3ないし6のそれぞれに開示された技術の内容を認定(6頁下2行～8頁13行)した上で，「したがって，何れの甲号証にも，電圧形インバータの制御において，オンデレイによる電圧降下を補償するために，上記相違点に係る手段を備えることにより，電流検出器を不要にするとの技術思想を何等開示するものではない以上，本件発明1が，甲第1号証ないし甲第8号証に記載の発明に基づいて当業者が容易に発明をすることができたものとすることはできない」(10頁25行～29行)との判断をしたものである。そうすると，審決は，甲3ないし6にはオンデレイによる電圧降下を補償するために，本件発明1と甲1発明との相違点に係る手段を備えることにより電流検出器を不要にするとの技術思想の開示がないことを，上記甲3ないし6の内容を踏まえ確認した上で，本件発明1が甲1ないし8記載の発明から容易想到とはいえないとの実質的な審理・判断を行っているものであるから，原告の主張は採用することができない。
    (9)
      また原告は，審決の「電圧形インバータの制御において，オンデレイによる電圧降下を補償するために，上記相違点に係る手段を備えることにより，電流検出器を不要にするとの技術思想をなんら開示するものではない以上，…当業者が容易に発明をすることができたものとすることはできない」(10頁25行～29行)との判断によれば，本件発明1の進歩性を否定するためには，「オンデレイによる電圧降下を補償するために」指令電流に応じて電圧降下を求める構成の開示された文献が必須となるが，かかる帰結は，審決の論理が誤りであり，問題点のすり替えであるから，仮にそのような文献が存在するならば本件発明1の新規性が否定されるはずであり，進歩性の有無を判断する基準にはならない旨主張する。
      しかし，上記審決の判断そのものにおいて論理的な誤りがあったとは認められず，そもそも審決は「オンデレイによる電圧降下を補償するために」指令電流に応じて電圧降下を求める構成の開示された文献が必須であるとの説示も示唆もしていないものであるから，原告の主張は失当である。
    (10)
      さらに原告は，甲1発明に甲2発明を適用した構成である電流制御形インバータ装置においては，出力電流値(電流検出値)と電流指令値とが一致するのは技術常識であるから，オンデレイによる電圧降下を決定するにつき，出力電流値(電流検出値)に応じて電圧降下の値を補正する構成に代えて，電流指令値に応じて電圧降下を補正する構成とすることは，当業者が適宜選択する周知技術の適用にすぎず，しかも，どちらも信号であり，電流検出値(検出信号)から電流指令値(指令信号)へ変更することは，信号間の単純な置き換えにすぎないとも主張する。
      しかし，取消事由1について説示したとおり，本件発明1にかかる電圧制御形のインバータ制御装置において，常に出力電流値(電流検出値)と電流指令値とが一致する関係が成り立つわけではないのであるから，原告の主張は失当である。とりわけ，何らの条件等(例えば，適用される構成要件や運転条件等)を付することなしに，電流検出値(検出信号)から電流指令値(指令信号)への変更が，信号間の単純な置き換えにすぎないとする原告の主張には飛躍があり，採用の限りではない。
    (11)
      以上の検討によれば，原告主張の取消事由2は，採用することができない。
  4 結語
    以上のとおりであるから，原告主張の取消事由はいずれも理由がない。
    よって，原告の請求を棄却することとして，主文のとおり判決する。
